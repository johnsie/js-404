var $y=Object.defineProperty;var Qy=(t,e,n)=>e in t?$y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var yt=(t,e,n)=>Qy(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Oc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Hy(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var bp={exports:{}},Za={},Op={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=Symbol.for("react.element"),Gy=Symbol.for("react.portal"),Yy=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),Zy=Symbol.for("react.profiler"),Ky=Symbol.for("react.provider"),Jy=Symbol.for("react.context"),e_=Symbol.for("react.forward_ref"),t_=Symbol.for("react.suspense"),n_=Symbol.for("react.memo"),r_=Symbol.for("react.lazy"),Hd=Symbol.iterator;function s_(t){return t===null||typeof t!="object"?null:(t=Hd&&t[Hd]||t["@@iterator"],typeof t=="function"?t:null)}var Mp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rp=Object.assign,Ip={};function Zs(t,e,n){this.props=t,this.context=e,this.refs=Ip,this.updater=n||Mp}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dp(){}Dp.prototype=Zs.prototype;function Mc(t,e,n){this.props=t,this.context=e,this.refs=Ip,this.updater=n||Mp}var Rc=Mc.prototype=new Dp;Rc.constructor=Mc;Rp(Rc,Zs.prototype);Rc.isPureReactComponent=!0;var Gd=Array.isArray,Pp=Object.prototype.hasOwnProperty,Ic={current:null},Fp={key:!0,ref:!0,__self:!0,__source:!0};function jp(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Pp.call(e,r)&&!Fp.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:so,type:t,key:i,ref:o,props:s,_owner:Ic.current}}function i_(t,e){return{$$typeof:so,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dc(t){return typeof t=="object"&&t!==null&&t.$$typeof===so}function o_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yd=/\/+/g;function Xl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?o_(""+t.key):e.toString(36)}function ea(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case so:case Gy:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Xl(o,0):r,Gd(s)?(n="",t!=null&&(n=t.replace(Yd,"$&/")+"/"),ea(s,e,n,"",function(u){return u})):s!=null&&(Dc(s)&&(s=i_(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Yd,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Gd(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Xl(i,l);o+=ea(i,e,n,c,s)}else if(c=s_(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Xl(i,l++),o+=ea(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Io(t,e,n){if(t==null)return t;var r=[],s=0;return ea(t,r,"","",function(i){return e.call(n,i,s++)}),r}function a_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tt={current:null},ta={transition:null},l_={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:ta,ReactCurrentOwner:Ic};function Lp(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Io,forEach:function(t,e,n){Io(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Io(t,function(){e++}),e},toArray:function(t){return Io(t,function(e){return e})||[]},only:function(t){if(!Dc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Zs;me.Fragment=Yy;me.Profiler=Zy;me.PureComponent=Mc;me.StrictMode=Xy;me.Suspense=t_;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_;me.act=Lp;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rp({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ic.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Pp.call(e,c)&&!Fp.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:so,type:t.type,key:s,ref:i,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:Jy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ky,_context:t},t.Consumer=t};me.createElement=jp;me.createFactory=function(t){var e=jp.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:e_,render:t}};me.isValidElement=Dc;me.lazy=function(t){return{$$typeof:r_,_payload:{_status:-1,_result:t},_init:a_}};me.memo=function(t,e){return{$$typeof:n_,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=ta.transition;ta.transition={};try{t()}finally{ta.transition=e}};me.unstable_act=Lp;me.useCallback=function(t,e){return Tt.current.useCallback(t,e)};me.useContext=function(t){return Tt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Tt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Tt.current.useEffect(t,e)};me.useId=function(){return Tt.current.useId()};me.useImperativeHandle=function(t,e,n){return Tt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Tt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Tt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Tt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Tt.current.useReducer(t,e,n)};me.useRef=function(t){return Tt.current.useRef(t)};me.useState=function(t){return Tt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Tt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Tt.current.useTransition()};me.version="18.3.1";Op.exports=me;var Ze=Op.exports;const Pc=Oc(Ze);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_=Ze,c_=Symbol.for("react.element"),h_=Symbol.for("react.fragment"),d_=Object.prototype.hasOwnProperty,f_=u_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p_={key:!0,ref:!0,__self:!0,__source:!0};function Vp(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)d_.call(e,r)&&!p_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:c_,type:t,key:i,ref:o,props:s,_owner:f_.current}}Za.Fragment=h_;Za.jsx=Vp;Za.jsxs=Vp;bp.exports=Za;var O=bp.exports,Eu={},qp={exports:{}},Ut={},zp={exports:{}},Wp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,W){var $=V.length;V.push(W);e:for(;0<$;){var G=$-1>>>1,re=V[G];if(0<s(re,W))V[G]=W,V[$]=re,$=G;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],$=V.pop();if($!==W){V[0]=$;e:for(var G=0,re=V.length,De=re>>>1;G<De;){var F=2*(G+1)-1,Y=V[F],ae=F+1,we=V[ae];if(0>s(Y,$))ae<re&&0>s(we,Y)?(V[G]=we,V[ae]=$,G=ae):(V[G]=Y,V[F]=$,G=F);else if(ae<re&&0>s(we,$))V[G]=we,V[ae]=$,G=ae;else break e}}return W}function s(V,W){var $=V.sortIndex-W.sortIndex;return $!==0?$:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,y=!1,v=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=V)r(u),W.sortIndex=W.expirationTime,e(c,W);else break;W=n(u)}}function A(V){if(S=!1,x(V),!v)if(n(c)!==null)v=!0,Q(T);else{var W=n(u);W!==null&&Z(A,W.startTime-V)}}function T(V,W){v=!1,S&&(S=!1,g(E),E=-1),y=!0;var $=m;try{for(x(W),f=n(c);f!==null&&(!(f.expirationTime>W)||V&&!D());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var re=G(f.expirationTime<=W);W=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(c)&&r(c),x(W)}else r(c);f=n(c)}if(f!==null)var De=!0;else{var F=n(u);F!==null&&Z(A,F.startTime-W),De=!1}return De}finally{f=null,m=$,y=!1}}var N=!1,b=null,E=-1,L=5,I=-1;function D(){return!(t.unstable_now()-I<L)}function j(){if(b!==null){var V=t.unstable_now();I=V;var W=!0;try{W=b(!0,V)}finally{W?z():(N=!1,b=null)}}else N=!1}var z;if(typeof w=="function")z=function(){w(j)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ne=B.port2;B.port1.onmessage=j,z=function(){ne.postMessage(null)}}else z=function(){k(j,0)};function Q(V){b=V,N||(N=!0,z())}function Z(V,W){E=k(function(){V(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,Q(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var $=m;m=W;try{return V()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var $=m;m=V;try{return W()}finally{m=$}},t.unstable_scheduleCallback=function(V,W,$){var G=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,V){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=$+re,V={id:d++,callback:W,priorityLevel:V,startTime:$,expirationTime:re,sortIndex:-1},$>G?(V.sortIndex=$,e(u,V),n(c)===null&&V===n(u)&&(S?(g(E),E=-1):S=!0,Z(A,$-G))):(V.sortIndex=re,e(c,V),v||y||(v=!0,Q(T))),V},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(V){var W=m;return function(){var $=m;m=W;try{return V.apply(this,arguments)}finally{m=$}}}})(Wp);zp.exports=Wp;var m_=zp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_=Ze,Wt=m_;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bp=new Set,Fi={};function rs(t,e){js(t,e),js(t+"Capture",e)}function js(t,e){for(Fi[t]=e,t=0;t<e.length;t++)Bp.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=Object.prototype.hasOwnProperty,v_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xd={},Zd={};function y_(t){return Nu.call(Zd,t)?!0:Nu.call(Xd,t)?!1:v_.test(t)?Zd[t]=!0:(Xd[t]=!0,!1)}function __(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w_(t,e,n,r){if(e===null||typeof e>"u"||__(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fc=/[\-:]([a-z])/g;function jc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fc,jc);ut[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fc,jc);ut[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fc,jc);ut[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lc(t,e,n,r){var s=ut.hasOwnProperty(e)?ut[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(w_(e,n,s,r)&&(n=null),r||s===null?y_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yn=g_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Do=Symbol.for("react.element"),ps=Symbol.for("react.portal"),ms=Symbol.for("react.fragment"),Vc=Symbol.for("react.strict_mode"),Au=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),$p=Symbol.for("react.context"),qc=Symbol.for("react.forward_ref"),bu=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),zc=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),Qp=Symbol.for("react.offscreen"),Kd=Symbol.iterator;function pi(t){return t===null||typeof t!="object"?null:(t=Kd&&t[Kd]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,Zl;function xi(t){if(Zl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zl=e&&e[1]||""}return`
`+Zl+t}var Kl=!1;function Jl(t,e){if(!t||Kl)return"";Kl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Kl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xi(t):""}function S_(t){switch(t.tag){case 5:return xi(t.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 2:case 15:return t=Jl(t.type,!1),t;case 11:return t=Jl(t.type.render,!1),t;case 1:return t=Jl(t.type,!0),t;default:return""}}function Mu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ms:return"Fragment";case ps:return"Portal";case Au:return"Profiler";case Vc:return"StrictMode";case bu:return"Suspense";case Ou:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $p:return(t.displayName||"Context")+".Consumer";case Up:return(t._context.displayName||"Context")+".Provider";case qc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zc:return e=t.displayName||null,e!==null?e:Mu(t.type)||"Memo";case ar:e=t._payload,t=t._init;try{return Mu(t(e))}catch{}}return null}function x_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mu(e);case 8:return e===Vc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T_(t){var e=Hp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Po(t){t._valueTracker||(t._valueTracker=T_(t))}function Gp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ru(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yp(t,e){e=e.checked,e!=null&&Lc(t,"checked",e,!1)}function Iu(t,e){Yp(t,e);var n=Tr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Du(t,e.type,n):e.hasOwnProperty("defaultValue")&&Du(t,e.type,Tr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ef(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Du(t,e,n){(e!=="number"||pa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ti=Array.isArray;function bs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Pu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Ti(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tr(n)}}function Xp(t,e){var n=Tr(e.value),r=Tr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Zp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Zp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fo,Kp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fo=Fo||document.createElement("div"),Fo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ji(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k_=["Webkit","ms","Moz","O"];Object.keys(Ei).forEach(function(t){k_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ei[e]=Ei[t]})});function Jp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ei.hasOwnProperty(t)&&Ei[t]?(""+e).trim():e+"px"}function em(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var C_=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ju(t,e){if(e){if(C_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Lu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=null;function Wc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qu=null,Os=null,Ms=null;function rf(t){if(t=ao(t)){if(typeof qu!="function")throw Error(U(280));var e=t.stateNode;e&&(e=nl(e),qu(t.stateNode,t.type,e))}}function tm(t){Os?Ms?Ms.push(t):Ms=[t]:Os=t}function nm(){if(Os){var t=Os,e=Ms;if(Ms=Os=null,rf(t),e)for(t=0;t<e.length;t++)rf(e[t])}}function rm(t,e){return t(e)}function sm(){}var eu=!1;function im(t,e,n){if(eu)return t(e,n);eu=!0;try{return rm(t,e,n)}finally{eu=!1,(Os!==null||Ms!==null)&&(sm(),nm())}}function Li(t,e){var n=t.stateNode;if(n===null)return null;var r=nl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var zu=!1;if(Bn)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){zu=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{zu=!1}function E_(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ni=!1,ma=null,ga=!1,Wu=null,N_={onError:function(t){Ni=!0,ma=t}};function A_(t,e,n,r,s,i,o,l,c){Ni=!1,ma=null,E_.apply(N_,arguments)}function b_(t,e,n,r,s,i,o,l,c){if(A_.apply(this,arguments),Ni){if(Ni){var u=ma;Ni=!1,ma=null}else throw Error(U(198));ga||(ga=!0,Wu=u)}}function ss(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function om(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sf(t){if(ss(t)!==t)throw Error(U(188))}function O_(t){var e=t.alternate;if(!e){if(e=ss(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return sf(s),t;if(i===r)return sf(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function am(t){return t=O_(t),t!==null?lm(t):null}function lm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lm(t);if(e!==null)return e;t=t.sibling}return null}var um=Wt.unstable_scheduleCallback,of=Wt.unstable_cancelCallback,M_=Wt.unstable_shouldYield,R_=Wt.unstable_requestPaint,Ge=Wt.unstable_now,I_=Wt.unstable_getCurrentPriorityLevel,Bc=Wt.unstable_ImmediatePriority,cm=Wt.unstable_UserBlockingPriority,va=Wt.unstable_NormalPriority,D_=Wt.unstable_LowPriority,hm=Wt.unstable_IdlePriority,Ka=null,An=null;function P_(t){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Ka,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:L_,F_=Math.log,j_=Math.LN2;function L_(t){return t>>>=0,t===0?32:31-(F_(t)/j_|0)|0}var jo=64,Lo=4194304;function ki(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ya(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ki(l):(i&=o,i!==0&&(r=ki(i)))}else o=n&~s,o!==0?r=ki(o):i!==0&&(r=ki(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fn(e),s=1<<n,r|=t[n],e&=~s;return r}function V_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fn(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=V_(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Bu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dm(){var t=jo;return jo<<=1,!(jo&4194240)&&(jo=64),t}function tu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function io(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function z_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Uc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function fm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pm,$c,mm,gm,vm,Uu=!1,Vo=[],pr=null,mr=null,gr=null,Vi=new Map,qi=new Map,cr=[],W_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function af(t,e){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Vi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(e.pointerId)}}function gi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ao(e),e!==null&&$c(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function B_(t,e,n,r,s){switch(e){case"focusin":return pr=gi(pr,t,e,n,r,s),!0;case"dragenter":return mr=gi(mr,t,e,n,r,s),!0;case"mouseover":return gr=gi(gr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vi.set(i,gi(Vi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,qi.set(i,gi(qi.get(i)||null,t,e,n,r,s)),!0}return!1}function ym(t){var e=Wr(t.target);if(e!==null){var n=ss(e);if(n!==null){if(e=n.tag,e===13){if(e=om(n),e!==null){t.blockedOn=e,vm(t.priority,function(){mm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function na(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$u(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vu=r,n.target.dispatchEvent(r),Vu=null}else return e=ao(n),e!==null&&$c(e),t.blockedOn=n,!1;e.shift()}return!0}function lf(t,e,n){na(t)&&n.delete(e)}function U_(){Uu=!1,pr!==null&&na(pr)&&(pr=null),mr!==null&&na(mr)&&(mr=null),gr!==null&&na(gr)&&(gr=null),Vi.forEach(lf),qi.forEach(lf)}function vi(t,e){t.blockedOn===e&&(t.blockedOn=null,Uu||(Uu=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,U_)))}function zi(t){function e(s){return vi(s,t)}if(0<Vo.length){vi(Vo[0],t);for(var n=1;n<Vo.length;n++){var r=Vo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pr!==null&&vi(pr,t),mr!==null&&vi(mr,t),gr!==null&&vi(gr,t),Vi.forEach(e),qi.forEach(e),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)ym(n),n.blockedOn===null&&cr.shift()}var Rs=Yn.ReactCurrentBatchConfig,_a=!0;function $_(t,e,n,r){var s=xe,i=Rs.transition;Rs.transition=null;try{xe=1,Qc(t,e,n,r)}finally{xe=s,Rs.transition=i}}function Q_(t,e,n,r){var s=xe,i=Rs.transition;Rs.transition=null;try{xe=4,Qc(t,e,n,r)}finally{xe=s,Rs.transition=i}}function Qc(t,e,n,r){if(_a){var s=$u(t,e,n,r);if(s===null)hu(t,e,r,wa,n),af(t,r);else if(B_(s,t,e,n,r))r.stopPropagation();else if(af(t,r),e&4&&-1<W_.indexOf(t)){for(;s!==null;){var i=ao(s);if(i!==null&&pm(i),i=$u(t,e,n,r),i===null&&hu(t,e,r,wa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hu(t,e,r,null,n)}}var wa=null;function $u(t,e,n,r){if(wa=null,t=Wc(r),t=Wr(t),t!==null)if(e=ss(t),e===null)t=null;else if(n=e.tag,n===13){if(t=om(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wa=t,null}function _m(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I_()){case Bc:return 1;case cm:return 4;case va:case D_:return 16;case hm:return 536870912;default:return 16}default:return 16}}var dr=null,Hc=null,ra=null;function wm(){if(ra)return ra;var t,e=Hc,n=e.length,r,s="value"in dr?dr.value:dr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ra=s.slice(t,1<r?1-r:void 0)}function sa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qo(){return!0}function uf(){return!1}function $t(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qo:uf,this.isPropagationStopped=uf,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),e}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=$t(Ks),oo=We({},Ks,{view:0,detail:0}),H_=$t(oo),nu,ru,yi,Ja=We({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(nu=t.screenX-yi.screenX,ru=t.screenY-yi.screenY):ru=nu=0,yi=t),nu)},movementY:function(t){return"movementY"in t?t.movementY:ru}}),cf=$t(Ja),G_=We({},Ja,{dataTransfer:0}),Y_=$t(G_),X_=We({},oo,{relatedTarget:0}),su=$t(X_),Z_=We({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),K_=$t(Z_),J_=We({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),e0=$t(J_),t0=We({},Ks,{data:0}),hf=$t(t0),n0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s0[t])?!!e[t]:!1}function Yc(){return i0}var o0=We({},oo,{key:function(t){if(t.key){var e=n0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yc,charCode:function(t){return t.type==="keypress"?sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),a0=$t(o0),l0=We({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=$t(l0),u0=We({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yc}),c0=$t(u0),h0=We({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),d0=$t(h0),f0=We({},Ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),p0=$t(f0),m0=[9,13,27,32],Xc=Bn&&"CompositionEvent"in window,Ai=null;Bn&&"documentMode"in document&&(Ai=document.documentMode);var g0=Bn&&"TextEvent"in window&&!Ai,Sm=Bn&&(!Xc||Ai&&8<Ai&&11>=Ai),ff=" ",pf=!1;function xm(t,e){switch(t){case"keyup":return m0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gs=!1;function v0(t,e){switch(t){case"compositionend":return Tm(e);case"keypress":return e.which!==32?null:(pf=!0,ff);case"textInput":return t=e.data,t===ff&&pf?null:t;default:return null}}function y0(t,e){if(gs)return t==="compositionend"||!Xc&&xm(t,e)?(t=wm(),ra=Hc=dr=null,gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sm&&e.locale!=="ko"?null:e.data;default:return null}}var _0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_0[t.type]:e==="textarea"}function km(t,e,n,r){tm(r),e=Sa(e,"onChange"),0<e.length&&(n=new Gc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bi=null,Wi=null;function w0(t){Pm(t,0)}function el(t){var e=_s(t);if(Gp(e))return t}function S0(t,e){if(t==="change")return e}var Cm=!1;if(Bn){var iu;if(Bn){var ou="oninput"in document;if(!ou){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),ou=typeof gf.oninput=="function"}iu=ou}else iu=!1;Cm=iu&&(!document.documentMode||9<document.documentMode)}function vf(){bi&&(bi.detachEvent("onpropertychange",Em),Wi=bi=null)}function Em(t){if(t.propertyName==="value"&&el(Wi)){var e=[];km(e,Wi,t,Wc(t)),im(w0,e)}}function x0(t,e,n){t==="focusin"?(vf(),bi=e,Wi=n,bi.attachEvent("onpropertychange",Em)):t==="focusout"&&vf()}function T0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return el(Wi)}function k0(t,e){if(t==="click")return el(e)}function C0(t,e){if(t==="input"||t==="change")return el(e)}function E0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:E0;function Bi(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nu.call(e,s)||!gn(t[s],e[s]))return!1}return!0}function yf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _f(t,e){var n=yf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yf(n)}}function Nm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Am(){for(var t=window,e=pa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pa(t.document)}return e}function Zc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function N0(t){var e=Am(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nm(n.ownerDocument.documentElement,n)){if(r!==null&&Zc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_f(n,i);var o=_f(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A0=Bn&&"documentMode"in document&&11>=document.documentMode,vs=null,Qu=null,Oi=null,Hu=!1;function wf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hu||vs==null||vs!==pa(r)||(r=vs,"selectionStart"in r&&Zc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oi&&Bi(Oi,r)||(Oi=r,r=Sa(Qu,"onSelect"),0<r.length&&(e=new Gc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vs)))}function zo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ys={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionend:zo("Transition","TransitionEnd")},au={},bm={};Bn&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function tl(t){if(au[t])return au[t];if(!ys[t])return t;var e=ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bm)return au[t]=e[n];return t}var Om=tl("animationend"),Mm=tl("animationiteration"),Rm=tl("animationstart"),Im=tl("transitionend"),Dm=new Map,Sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){Dm.set(t,e),rs(e,[t])}for(var lu=0;lu<Sf.length;lu++){var uu=Sf[lu],b0=uu.toLowerCase(),O0=uu[0].toUpperCase()+uu.slice(1);Ar(b0,"on"+O0)}Ar(Om,"onAnimationEnd");Ar(Mm,"onAnimationIteration");Ar(Rm,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(Im,"onTransitionEnd");js("onMouseEnter",["mouseout","mouseover"]);js("onMouseLeave",["mouseout","mouseover"]);js("onPointerEnter",["pointerout","pointerover"]);js("onPointerLeave",["pointerout","pointerover"]);rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function xf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,b_(r,e,void 0,t),t.currentTarget=null}function Pm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;xf(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;xf(s,l,u),i=c}}}if(ga)throw t=Wu,ga=!1,Wu=null,t}function Me(t,e){var n=e[Ku];n===void 0&&(n=e[Ku]=new Set);var r=t+"__bubble";n.has(r)||(Fm(e,t,2,!1),n.add(r))}function cu(t,e,n){var r=0;e&&(r|=4),Fm(n,t,r,e)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function Ui(t){if(!t[Wo]){t[Wo]=!0,Bp.forEach(function(n){n!=="selectionchange"&&(M0.has(n)||cu(n,!1,t),cu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wo]||(e[Wo]=!0,cu("selectionchange",!1,e))}}function Fm(t,e,n,r){switch(_m(e)){case 1:var s=$_;break;case 4:s=Q_;break;default:s=Qc}n=s.bind(null,e,n,t),s=void 0,!zu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function hu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Wr(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}im(function(){var u=i,d=Wc(n),f=[];e:{var m=Dm.get(t);if(m!==void 0){var y=Gc,v=t;switch(t){case"keypress":if(sa(n)===0)break e;case"keydown":case"keyup":y=a0;break;case"focusin":v="focus",y=su;break;case"focusout":v="blur",y=su;break;case"beforeblur":case"afterblur":y=su;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Y_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=c0;break;case Om:case Mm:case Rm:y=K_;break;case Im:y=d0;break;case"scroll":y=H_;break;case"wheel":y=p0;break;case"copy":case"cut":case"paste":y=e0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=df}var S=(e&4)!==0,k=!S&&t==="scroll",g=S?m!==null?m+"Capture":null:m;S=[];for(var w=u,x;w!==null;){x=w;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,g!==null&&(A=Li(w,g),A!=null&&S.push($i(w,A,x)))),k)break;w=w.return}0<S.length&&(m=new y(m,v,null,n,d),f.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Vu&&(v=n.relatedTarget||n.fromElement)&&(Wr(v)||v[Un]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Wr(v):null,v!==null&&(k=ss(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(S=cf,A="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=df,A="onPointerLeave",g="onPointerEnter",w="pointer"),k=y==null?m:_s(y),x=v==null?m:_s(v),m=new S(A,w+"leave",y,n,d),m.target=k,m.relatedTarget=x,A=null,Wr(d)===u&&(S=new S(g,w+"enter",v,n,d),S.target=x,S.relatedTarget=k,A=S),k=A,y&&v)t:{for(S=y,g=v,w=0,x=S;x;x=ds(x))w++;for(x=0,A=g;A;A=ds(A))x++;for(;0<w-x;)S=ds(S),w--;for(;0<x-w;)g=ds(g),x--;for(;w--;){if(S===g||g!==null&&S===g.alternate)break t;S=ds(S),g=ds(g)}S=null}else S=null;y!==null&&Tf(f,m,y,S,!1),v!==null&&k!==null&&Tf(f,k,v,S,!0)}}e:{if(m=u?_s(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var T=S0;else if(mf(m))if(Cm)T=C0;else{T=T0;var N=x0}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(T=k0);if(T&&(T=T(t,u))){km(f,T,n,d);break e}N&&N(t,m,u),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Du(m,"number",m.value)}switch(N=u?_s(u):window,t){case"focusin":(mf(N)||N.contentEditable==="true")&&(vs=N,Qu=u,Oi=null);break;case"focusout":Oi=Qu=vs=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,wf(f,n,d);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":wf(f,n,d)}var b;if(Xc)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else gs?xm(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Sm&&n.locale!=="ko"&&(gs||E!=="onCompositionStart"?E==="onCompositionEnd"&&gs&&(b=wm()):(dr=d,Hc="value"in dr?dr.value:dr.textContent,gs=!0)),N=Sa(u,E),0<N.length&&(E=new hf(E,t,null,n,d),f.push({event:E,listeners:N}),b?E.data=b:(b=Tm(n),b!==null&&(E.data=b)))),(b=g0?v0(t,n):y0(t,n))&&(u=Sa(u,"onBeforeInput"),0<u.length&&(d=new hf("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=b))}Pm(f,e)})}function $i(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sa(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Li(t,n),i!=null&&r.unshift($i(t,i,s)),i=Li(t,e),i!=null&&r.push($i(t,i,s))),t=t.return}return r}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tf(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Li(n,i),c!=null&&o.unshift($i(n,c,l))):s||(c=Li(n,i),c!=null&&o.push($i(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var R0=/\r\n?/g,I0=/\u0000|\uFFFD/g;function kf(t){return(typeof t=="string"?t:""+t).replace(R0,`
`).replace(I0,"")}function Bo(t,e,n){if(e=kf(e),kf(t)!==e&&n)throw Error(U(425))}function xa(){}var Gu=null,Yu=null;function Xu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zu=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(t){return Cf.resolve(null).then(t).catch(F0)}:Zu;function F0(t){setTimeout(function(){throw t})}function du(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),zi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zi(e)}function vr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ef(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Js,Qi="__reactProps$"+Js,Un="__reactContainer$"+Js,Ku="__reactEvents$"+Js,j0="__reactListeners$"+Js,L0="__reactHandles$"+Js;function Wr(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Un]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ef(t);t!==null;){if(n=t[Nn])return n;t=Ef(t)}return e}t=n,n=t.parentNode}return null}function ao(t){return t=t[Nn]||t[Un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function nl(t){return t[Qi]||null}var Ju=[],ws=-1;function br(t){return{current:t}}function Re(t){0>ws||(t.current=Ju[ws],Ju[ws]=null,ws--)}function Ee(t,e){ws++,Ju[ws]=t.current,t.current=e}var kr={},mt=br(kr),Mt=br(!1),Yr=kr;function Ls(t,e){var n=t.type.contextTypes;if(!n)return kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Rt(t){return t=t.childContextTypes,t!=null}function Ta(){Re(Mt),Re(mt)}function Nf(t,e,n){if(mt.current!==kr)throw Error(U(168));Ee(mt,e),Ee(Mt,n)}function jm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,x_(t)||"Unknown",s));return We({},n,r)}function ka(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,Yr=mt.current,Ee(mt,t),Ee(Mt,Mt.current),!0}function Af(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=jm(t,e,Yr),r.__reactInternalMemoizedMergedChildContext=t,Re(Mt),Re(mt),Ee(mt,t)):Re(Mt),Ee(Mt,n)}var Ln=null,rl=!1,fu=!1;function Lm(t){Ln===null?Ln=[t]:Ln.push(t)}function V0(t){rl=!0,Lm(t)}function Or(){if(!fu&&Ln!==null){fu=!0;var t=0,e=xe;try{var n=Ln;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ln=null,rl=!1}catch(s){throw Ln!==null&&(Ln=Ln.slice(t+1)),um(Bc,Or),s}finally{xe=e,fu=!1}}return null}var Ss=[],xs=0,Ca=null,Ea=0,Yt=[],Xt=0,Xr=null,Vn=1,qn="";function qr(t,e){Ss[xs++]=Ea,Ss[xs++]=Ca,Ca=t,Ea=e}function Vm(t,e,n){Yt[Xt++]=Vn,Yt[Xt++]=qn,Yt[Xt++]=Xr,Xr=t;var r=Vn;t=qn;var s=32-fn(r)-1;r&=~(1<<s),n+=1;var i=32-fn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vn=1<<32-fn(e)+s|n<<s|r,qn=i+t}else Vn=1<<i|n<<s|r,qn=t}function Kc(t){t.return!==null&&(qr(t,1),Vm(t,1,0))}function Jc(t){for(;t===Ca;)Ca=Ss[--xs],Ss[xs]=null,Ea=Ss[--xs],Ss[xs]=null;for(;t===Xr;)Xr=Yt[--Xt],Yt[Xt]=null,qn=Yt[--Xt],Yt[Xt]=null,Vn=Yt[--Xt],Yt[Xt]=null}var zt=null,Vt=null,je=!1,cn=null;function qm(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zt=t,Vt=vr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zt=t,Vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xr!==null?{id:Vn,overflow:qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zt=t,Vt=null,!0):!1;default:return!1}}function ec(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tc(t){if(je){var e=Vt;if(e){var n=e;if(!bf(t,e)){if(ec(t))throw Error(U(418));e=vr(n.nextSibling);var r=zt;e&&bf(t,e)?qm(r,n):(t.flags=t.flags&-4097|2,je=!1,zt=t)}}else{if(ec(t))throw Error(U(418));t.flags=t.flags&-4097|2,je=!1,zt=t}}}function Of(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function Uo(t){if(t!==zt)return!1;if(!je)return Of(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xu(t.type,t.memoizedProps)),e&&(e=Vt)){if(ec(t))throw zm(),Error(U(418));for(;e;)qm(t,e),e=vr(e.nextSibling)}if(Of(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vt=vr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vt=null}}else Vt=zt?vr(t.stateNode.nextSibling):null;return!0}function zm(){for(var t=Vt;t;)t=vr(t.nextSibling)}function Vs(){Vt=zt=null,je=!1}function eh(t){cn===null?cn=[t]:cn.push(t)}var q0=Yn.ReactCurrentBatchConfig;function _i(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function $o(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mf(t){var e=t._init;return e(t._payload)}function Wm(t){function e(g,w){if(t){var x=g.deletions;x===null?(g.deletions=[w],g.flags|=16):x.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function s(g,w){return g=Sr(g,w),g.index=0,g.sibling=null,g}function i(g,w,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<w?(g.flags|=2,w):x):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,w,x,A){return w===null||w.tag!==6?(w=wu(x,g.mode,A),w.return=g,w):(w=s(w,x),w.return=g,w)}function c(g,w,x,A){var T=x.type;return T===ms?d(g,w,x.props.children,A,x.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ar&&Mf(T)===w.type)?(A=s(w,x.props),A.ref=_i(g,w,x),A.return=g,A):(A=ha(x.type,x.key,x.props,null,g.mode,A),A.ref=_i(g,w,x),A.return=g,A)}function u(g,w,x,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Su(x,g.mode,A),w.return=g,w):(w=s(w,x.children||[]),w.return=g,w)}function d(g,w,x,A,T){return w===null||w.tag!==7?(w=Hr(x,g.mode,A,T),w.return=g,w):(w=s(w,x),w.return=g,w)}function f(g,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=wu(""+w,g.mode,x),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Do:return x=ha(w.type,w.key,w.props,null,g.mode,x),x.ref=_i(g,null,w),x.return=g,x;case ps:return w=Su(w,g.mode,x),w.return=g,w;case ar:var A=w._init;return f(g,A(w._payload),x)}if(Ti(w)||pi(w))return w=Hr(w,g.mode,x,null),w.return=g,w;$o(g,w)}return null}function m(g,w,x,A){var T=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:l(g,w,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Do:return x.key===T?c(g,w,x,A):null;case ps:return x.key===T?u(g,w,x,A):null;case ar:return T=x._init,m(g,w,T(x._payload),A)}if(Ti(x)||pi(x))return T!==null?null:d(g,w,x,A,null);$o(g,x)}return null}function y(g,w,x,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return g=g.get(x)||null,l(w,g,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Do:return g=g.get(A.key===null?x:A.key)||null,c(w,g,A,T);case ps:return g=g.get(A.key===null?x:A.key)||null,u(w,g,A,T);case ar:var N=A._init;return y(g,w,x,N(A._payload),T)}if(Ti(A)||pi(A))return g=g.get(x)||null,d(w,g,A,T,null);$o(w,A)}return null}function v(g,w,x,A){for(var T=null,N=null,b=w,E=w=0,L=null;b!==null&&E<x.length;E++){b.index>E?(L=b,b=null):L=b.sibling;var I=m(g,b,x[E],A);if(I===null){b===null&&(b=L);break}t&&b&&I.alternate===null&&e(g,b),w=i(I,w,E),N===null?T=I:N.sibling=I,N=I,b=L}if(E===x.length)return n(g,b),je&&qr(g,E),T;if(b===null){for(;E<x.length;E++)b=f(g,x[E],A),b!==null&&(w=i(b,w,E),N===null?T=b:N.sibling=b,N=b);return je&&qr(g,E),T}for(b=r(g,b);E<x.length;E++)L=y(b,g,E,x[E],A),L!==null&&(t&&L.alternate!==null&&b.delete(L.key===null?E:L.key),w=i(L,w,E),N===null?T=L:N.sibling=L,N=L);return t&&b.forEach(function(D){return e(g,D)}),je&&qr(g,E),T}function S(g,w,x,A){var T=pi(x);if(typeof T!="function")throw Error(U(150));if(x=T.call(x),x==null)throw Error(U(151));for(var N=T=null,b=w,E=w=0,L=null,I=x.next();b!==null&&!I.done;E++,I=x.next()){b.index>E?(L=b,b=null):L=b.sibling;var D=m(g,b,I.value,A);if(D===null){b===null&&(b=L);break}t&&b&&D.alternate===null&&e(g,b),w=i(D,w,E),N===null?T=D:N.sibling=D,N=D,b=L}if(I.done)return n(g,b),je&&qr(g,E),T;if(b===null){for(;!I.done;E++,I=x.next())I=f(g,I.value,A),I!==null&&(w=i(I,w,E),N===null?T=I:N.sibling=I,N=I);return je&&qr(g,E),T}for(b=r(g,b);!I.done;E++,I=x.next())I=y(b,g,E,I.value,A),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?E:I.key),w=i(I,w,E),N===null?T=I:N.sibling=I,N=I);return t&&b.forEach(function(j){return e(g,j)}),je&&qr(g,E),T}function k(g,w,x,A){if(typeof x=="object"&&x!==null&&x.type===ms&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Do:e:{for(var T=x.key,N=w;N!==null;){if(N.key===T){if(T=x.type,T===ms){if(N.tag===7){n(g,N.sibling),w=s(N,x.props.children),w.return=g,g=w;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ar&&Mf(T)===N.type){n(g,N.sibling),w=s(N,x.props),w.ref=_i(g,N,x),w.return=g,g=w;break e}n(g,N);break}else e(g,N);N=N.sibling}x.type===ms?(w=Hr(x.props.children,g.mode,A,x.key),w.return=g,g=w):(A=ha(x.type,x.key,x.props,null,g.mode,A),A.ref=_i(g,w,x),A.return=g,g=A)}return o(g);case ps:e:{for(N=x.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(g,w.sibling),w=s(w,x.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=Su(x,g.mode,A),w.return=g,g=w}return o(g);case ar:return N=x._init,k(g,w,N(x._payload),A)}if(Ti(x))return v(g,w,x,A);if(pi(x))return S(g,w,x,A);$o(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(g,w.sibling),w=s(w,x),w.return=g,g=w):(n(g,w),w=wu(x,g.mode,A),w.return=g,g=w),o(g)):n(g,w)}return k}var qs=Wm(!0),Bm=Wm(!1),Na=br(null),Aa=null,Ts=null,th=null;function nh(){th=Ts=Aa=null}function rh(t){var e=Na.current;Re(Na),t._currentValue=e}function nc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Is(t,e){Aa=t,th=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(th!==t)if(t={context:t,memoizedValue:e,next:null},Ts===null){if(Aa===null)throw Error(U(308));Ts=t,Aa.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return e}var Br=null;function sh(t){Br===null?Br=[t]:Br.push(t)}function Um(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,sh(e)):(n.next=s.next,s.next=n),e.interleaved=n,$n(t,r)}function $n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var lr=!1;function ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $m(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,$n(t,n)}return s=r.interleaved,s===null?(e.next=e,sh(r)):(e.next=s.next,s.next=e),r.interleaved=e,$n(t,n)}function ia(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uc(t,n)}}function Rf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ba(t,e,n,r){var s=t.updateQueue;lr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,S=l;switch(m=e,y=n,S.tag){case 1:if(v=S.payload,typeof v=="function"){f=v.call(y,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,m=typeof v=="function"?v.call(y,f,m):v,m==null)break e;f=We({},f,m);break e;case 2:lr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Kr|=o,t.lanes=o,t.memoizedState=f}}function If(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var lo={},bn=br(lo),Hi=br(lo),Gi=br(lo);function Ur(t){if(t===lo)throw Error(U(174));return t}function oh(t,e){switch(Ee(Gi,e),Ee(Hi,t),Ee(bn,lo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fu(e,t)}Re(bn),Ee(bn,e)}function zs(){Re(bn),Re(Hi),Re(Gi)}function Qm(t){Ur(Gi.current);var e=Ur(bn.current),n=Fu(e,t.type);e!==n&&(Ee(Hi,t),Ee(bn,n))}function ah(t){Hi.current===t&&(Re(bn),Re(Hi))}var qe=br(0);function Oa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pu=[];function lh(){for(var t=0;t<pu.length;t++)pu[t]._workInProgressVersionPrimary=null;pu.length=0}var oa=Yn.ReactCurrentDispatcher,mu=Yn.ReactCurrentBatchConfig,Zr=0,ze=null,et=null,rt=null,Ma=!1,Mi=!1,Yi=0,z0=0;function dt(){throw Error(U(321))}function uh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function ch(t,e,n,r,s,i){if(Zr=i,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oa.current=t===null||t.memoizedState===null?$0:Q0,t=n(r,s),Mi){i=0;do{if(Mi=!1,Yi=0,25<=i)throw Error(U(301));i+=1,rt=et=null,e.updateQueue=null,oa.current=H0,t=n(r,s)}while(Mi)}if(oa.current=Ra,e=et!==null&&et.next!==null,Zr=0,rt=et=ze=null,Ma=!1,e)throw Error(U(300));return t}function hh(){var t=Yi!==0;return Yi=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?ze.memoizedState=rt=t:rt=rt.next=t,rt}function rn(){if(et===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=rt===null?ze.memoizedState:rt.next;if(e!==null)rt=e,et=t;else{if(t===null)throw Error(U(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},rt===null?ze.memoizedState=rt=t:rt=rt.next=t}return rt}function Xi(t,e){return typeof e=="function"?e(t):e}function gu(t){var e=rn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Zr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ze.lanes|=d,Kr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,gn(r,e.memoizedState)||(Ot=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ze.lanes|=i,Kr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vu(t){var e=rn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gn(i,e.memoizedState)||(Ot=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Hm(){}function Gm(t,e){var n=ze,r=rn(),s=e(),i=!gn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ot=!0),r=r.queue,dh(Zm.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Zi(9,Xm.bind(null,n,r,s,e),void 0,null),st===null)throw Error(U(349));Zr&30||Ym(n,e,s)}return s}function Ym(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xm(t,e,n,r){e.value=n,e.getSnapshot=r,Km(e)&&Jm(t)}function Zm(t,e,n){return n(function(){Km(e)&&Jm(t)})}function Km(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function Jm(t){var e=$n(t,1);e!==null&&pn(e,t,1,-1)}function Df(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},e.queue=t,t=t.dispatch=U0.bind(null,ze,t),[e.memoizedState,t]}function Zi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eg(){return rn().memoizedState}function aa(t,e,n,r){var s=En();ze.flags|=t,s.memoizedState=Zi(1|e,n,void 0,r===void 0?null:r)}function sl(t,e,n,r){var s=rn();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&uh(r,o.deps)){s.memoizedState=Zi(e,n,i,r);return}}ze.flags|=t,s.memoizedState=Zi(1|e,n,i,r)}function Pf(t,e){return aa(8390656,8,t,e)}function dh(t,e){return sl(2048,8,t,e)}function tg(t,e){return sl(4,2,t,e)}function ng(t,e){return sl(4,4,t,e)}function rg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sg(t,e,n){return n=n!=null?n.concat([t]):null,sl(4,4,rg.bind(null,e,t),n)}function fh(){}function ig(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function og(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ag(t,e,n){return Zr&21?(gn(n,e)||(n=dm(),ze.lanes|=n,Kr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=n)}function W0(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=mu.transition;mu.transition={};try{t(!1),e()}finally{xe=n,mu.transition=r}}function lg(){return rn().memoizedState}function B0(t,e,n){var r=wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ug(t))cg(e,n);else if(n=Um(t,e,n,r),n!==null){var s=xt();pn(n,t,r,s),hg(n,e,r)}}function U0(t,e,n){var r=wr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ug(t))cg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,gn(l,o)){var c=e.interleaved;c===null?(s.next=s,sh(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Um(t,e,s,r),n!==null&&(s=xt(),pn(n,t,r,s),hg(n,e,r))}}function ug(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function cg(t,e){Mi=Ma=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uc(t,n)}}var Ra={readContext:nn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},$0={readContext:nn,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:Pf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,aa(4194308,4,rg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return aa(4194308,4,t,e)},useInsertionEffect:function(t,e){return aa(4,2,t,e)},useMemo:function(t,e){var n=En();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=B0.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:Df,useDebugValue:fh,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=Df(!1),e=t[0];return t=W0.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,s=En();if(je){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),st===null)throw Error(U(349));Zr&30||Ym(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Pf(Zm.bind(null,r,i,t),[t]),r.flags|=2048,Zi(9,Xm.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=En(),e=st.identifierPrefix;if(je){var n=qn,r=Vn;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=z0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Q0={readContext:nn,useCallback:ig,useContext:nn,useEffect:dh,useImperativeHandle:sg,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:og,useReducer:gu,useRef:eg,useState:function(){return gu(Xi)},useDebugValue:fh,useDeferredValue:function(t){var e=rn();return ag(e,et.memoizedState,t)},useTransition:function(){var t=gu(Xi)[0],e=rn().memoizedState;return[t,e]},useMutableSource:Hm,useSyncExternalStore:Gm,useId:lg,unstable_isNewReconciler:!1},H0={readContext:nn,useCallback:ig,useContext:nn,useEffect:dh,useImperativeHandle:sg,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:og,useReducer:vu,useRef:eg,useState:function(){return vu(Xi)},useDebugValue:fh,useDeferredValue:function(t){var e=rn();return et===null?e.memoizedState=t:ag(e,et.memoizedState,t)},useTransition:function(){var t=vu(Xi)[0],e=rn().memoizedState;return[t,e]},useMutableSource:Hm,useSyncExternalStore:Gm,useId:lg,unstable_isNewReconciler:!1};function ln(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var il={isMounted:function(t){return(t=t._reactInternals)?ss(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),s=wr(t),i=zn(r,s);i.payload=e,n!=null&&(i.callback=n),e=yr(t,i,s),e!==null&&(pn(e,t,s,r),ia(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),s=wr(t),i=zn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=yr(t,i,s),e!==null&&(pn(e,t,s,r),ia(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=wr(t),s=zn(n,r);s.tag=2,e!=null&&(s.callback=e),e=yr(t,s,r),e!==null&&(pn(e,t,r,n),ia(e,t,r))}};function Ff(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Bi(n,r)||!Bi(s,i):!0}function dg(t,e,n){var r=!1,s=kr,i=e.contextType;return typeof i=="object"&&i!==null?i=nn(i):(s=Rt(e)?Yr:mt.current,r=e.contextTypes,i=(r=r!=null)?Ls(t,s):kr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=il,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function jf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&il.enqueueReplaceState(e,e.state,null)}function sc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ih(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nn(i):(i=Rt(e)?Yr:mt.current,s.context=Ls(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(rc(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&il.enqueueReplaceState(s,s.state,null),ba(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ws(t,e){try{var n="",r=e;do n+=S_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ic(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var G0=typeof WeakMap=="function"?WeakMap:Map;function fg(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Da||(Da=!0,mc=r),ic(t,e)},n}function pg(t,e,n){n=zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ic(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ic(t,e),typeof r!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Lf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new G0;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=l1.bind(null,t,e,n),e.then(t,t))}function Vf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,yr(n,e,1))),n.lanes|=1),t)}var Y0=Yn.ReactCurrentOwner,Ot=!1;function _t(t,e,n,r){e.child=t===null?Bm(e,null,n,r):qs(e,t.child,n,r)}function zf(t,e,n,r,s){n=n.render;var i=e.ref;return Is(e,s),r=ch(t,e,n,r,i,s),n=hh(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qn(t,e,s)):(je&&n&&Kc(e),e.flags|=1,_t(t,e,r,s),e.child)}function Wf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Sh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mg(t,e,i,r,s)):(t=ha(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bi,n(o,r)&&t.ref===e.ref)return Qn(t,e,s)}return e.flags|=1,t=Sr(i,r),t.ref=e.ref,t.return=e,e.child=t}function mg(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Bi(i,r)&&t.ref===e.ref)if(Ot=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ot=!0);else return e.lanes=t.lanes,Qn(t,e,s)}return oc(t,e,n,r,s)}function gg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Cs,jt),jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Cs,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ee(Cs,jt),jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ee(Cs,jt),jt|=r;return _t(t,e,s,n),e.child}function vg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function oc(t,e,n,r,s){var i=Rt(n)?Yr:mt.current;return i=Ls(e,i),Is(e,s),n=ch(t,e,n,r,i,s),r=hh(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qn(t,e,s)):(je&&r&&Kc(e),e.flags|=1,_t(t,e,n,s),e.child)}function Bf(t,e,n,r,s){if(Rt(n)){var i=!0;ka(e)}else i=!1;if(Is(e,s),e.stateNode===null)la(t,e),dg(e,n,r),sc(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=nn(u):(u=Rt(n)?Yr:mt.current,u=Ls(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&jf(e,o,r,u),lr=!1;var m=e.memoizedState;o.state=m,ba(e,r,o,s),c=e.memoizedState,l!==r||m!==c||Mt.current||lr?(typeof d=="function"&&(rc(e,n,d,r),c=e.memoizedState),(l=lr||Ff(e,n,l,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$m(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ln(e.type,l),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=nn(c):(c=Rt(n)?Yr:mt.current,c=Ls(e,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&jf(e,o,r,c),lr=!1,m=e.memoizedState,o.state=m,ba(e,r,o,s);var v=e.memoizedState;l!==f||m!==v||Mt.current||lr?(typeof y=="function"&&(rc(e,n,y,r),v=e.memoizedState),(u=lr||Ff(e,n,u,r,m,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ac(t,e,n,r,i,s)}function ac(t,e,n,r,s,i){vg(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Af(e,n,!1),Qn(t,e,i);r=e.stateNode,Y0.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qs(e,t.child,null,i),e.child=qs(e,null,l,i)):_t(t,e,l,i),e.memoizedState=r.state,s&&Af(e,n,!0),e.child}function yg(t){var e=t.stateNode;e.pendingContext?Nf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nf(t,e.context,!1),oh(t,e.containerInfo)}function Uf(t,e,n,r,s){return Vs(),eh(s),e.flags|=256,_t(t,e,n,r),e.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function uc(t){return{baseLanes:t,cachePool:null,transitions:null}}function _g(t,e,n){var r=e.pendingProps,s=qe.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ee(qe,s&1),t===null)return tc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ll(o,r,0,null),t=Hr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=uc(n),e.memoizedState=lc,t):ph(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return X0(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Sr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Sr(l,i):(i=Hr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?uc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=lc,r}return i=t.child,t=i.sibling,r=Sr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ph(t,e){return e=ll({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qo(t,e,n,r){return r!==null&&eh(r),qs(e,t.child,null,n),t=ph(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X0(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=yu(Error(U(422))),Qo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ll({mode:"visible",children:r.children},s,0,null),i=Hr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&qs(e,t.child,null,o),e.child.memoizedState=uc(o),e.memoizedState=lc,i);if(!(e.mode&1))return Qo(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=yu(i,r,void 0),Qo(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ot||l){if(r=st,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$n(t,s),pn(r,t,s,-1))}return wh(),r=yu(Error(U(421))),Qo(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=u1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Vt=vr(s.nextSibling),zt=e,je=!0,cn=null,t!==null&&(Yt[Xt++]=Vn,Yt[Xt++]=qn,Yt[Xt++]=Xr,Vn=t.id,qn=t.overflow,Xr=e),e=ph(e,r.children),e.flags|=4096,e)}function $f(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nc(t.return,e,n)}function _u(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wg(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(_t(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$f(t,n,e);else if(t.tag===19)$f(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Oa(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_u(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Oa(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_u(e,!0,n,null,i);break;case"together":_u(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function la(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Z0(t,e,n){switch(e.tag){case 3:yg(e),Vs();break;case 5:Qm(e);break;case 1:Rt(e.type)&&ka(e);break;case 4:oh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ee(Na,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?_g(t,e,n):(Ee(qe,qe.current&1),t=Qn(t,e,n),t!==null?t.sibling:null);Ee(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,gg(t,e,n)}return Qn(t,e,n)}var Sg,cc,xg,Tg;Sg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cc=function(){};xg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ur(bn.current);var i=null;switch(n){case"input":s=Ru(t,s),r=Ru(t,r),i=[];break;case"select":s=We({},s,{value:void 0}),r=We({},r,{value:void 0}),i=[];break;case"textarea":s=Pu(t,s),r=Pu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xa)}ju(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Tg=function(t,e,n,r){n!==r&&(e.flags|=4)};function wi(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function K0(t,e,n){var r=e.pendingProps;switch(Jc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Rt(e.type)&&Ta(),ft(e),null;case 3:return r=e.stateNode,zs(),Re(Mt),Re(mt),lh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Uo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cn!==null&&(yc(cn),cn=null))),cc(t,e),ft(e),null;case 5:ah(e);var s=Ur(Gi.current);if(n=e.type,t!==null&&e.stateNode!=null)xg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return ft(e),null}if(t=Ur(bn.current),Uo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Nn]=e,r[Qi]=i,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(s=0;s<Ci.length;s++)Me(Ci[s],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Jd(r,i),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Me("invalid",r);break;case"textarea":tf(r,i),Me("invalid",r)}ju(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Bo(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Bo(r.textContent,l,t),s=["children",""+l]):Fi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":Po(r),ef(r,i,!0);break;case"textarea":Po(r),nf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xa)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nn]=e,t[Qi]=r,Sg(t,e,!1,!1),e.stateNode=t;e:{switch(o=Lu(n,r),n){case"dialog":Me("cancel",t),Me("close",t),s=r;break;case"iframe":case"object":case"embed":Me("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ci.length;s++)Me(Ci[s],t);s=r;break;case"source":Me("error",t),s=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),s=r;break;case"details":Me("toggle",t),s=r;break;case"input":Jd(t,r),s=Ru(t,r),Me("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=We({},r,{value:void 0}),Me("invalid",t);break;case"textarea":tf(t,r),s=Pu(t,r),Me("invalid",t);break;default:s=r}ju(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?em(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kp(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ji(t,c):typeof c=="number"&&ji(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Me("scroll",t):c!=null&&Lc(t,i,c,o))}switch(n){case"input":Po(t),ef(t,r,!1);break;case"textarea":Po(t),nf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?bs(t,!!r.multiple,i,!1):r.defaultValue!=null&&bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)Tg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Ur(Gi.current),Ur(bn.current),Uo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(i=r.nodeValue!==n)&&(t=zt,t!==null))switch(t.tag){case 3:Bo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bo(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return ft(e),null;case 13:if(Re(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Vt!==null&&e.mode&1&&!(e.flags&128))zm(),Vs(),e.flags|=98560,i=!1;else if(i=Uo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Nn]=e}else Vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),i=!1}else cn!==null&&(yc(cn),cn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?tt===0&&(tt=3):wh())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return zs(),cc(t,e),t===null&&Ui(e.stateNode.containerInfo),ft(e),null;case 10:return rh(e.type._context),ft(e),null;case 17:return Rt(e.type)&&Ta(),ft(e),null;case 19:if(Re(qe),i=e.memoizedState,i===null)return ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)wi(i,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Oa(t),o!==null){for(e.flags|=128,wi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(qe,qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>Bs&&(e.flags|=128,r=!0,wi(i,!1),e.lanes=4194304)}else{if(!r)if(t=Oa(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return ft(e),null}else 2*Ge()-i.renderingStartTime>Bs&&n!==1073741824&&(e.flags|=128,r=!0,wi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=qe.current,Ee(qe,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return _h(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function J0(t,e){switch(Jc(e),e.tag){case 1:return Rt(e.type)&&Ta(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zs(),Re(Mt),Re(mt),lh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ah(e),null;case 13:if(Re(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(qe),null;case 4:return zs(),null;case 10:return rh(e.type._context),null;case 22:case 23:return _h(),null;case 24:return null;default:return null}}var Ho=!1,pt=!1,e1=typeof WeakSet=="function"?WeakSet:Set,J=null;function ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function hc(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var Qf=!1;function t1(t,e){if(Gu=_a,t=Am(),Zc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:t,selectionRange:n},_a=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,k=v.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?S:ln(e.type,S),k);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(A){Ue(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return v=Qf,Qf=!1,v}function Ri(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&hc(e,n,i)}s=s.next}while(s!==r)}}function ol(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kg(t){var e=t.alternate;e!==null&&(t.alternate=null,kg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Qi],delete e[Ku],delete e[j0],delete e[L0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cg(t){return t.tag===5||t.tag===3||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xa));else if(r!==4&&(t=t.child,t!==null))for(fc(t,e,n),t=t.sibling;t!==null;)fc(t,e,n),t=t.sibling}function pc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pc(t,e,n),t=t.sibling;t!==null;)pc(t,e,n),t=t.sibling}var at=null,un=!1;function ir(t,e,n){for(n=n.child;n!==null;)Eg(t,e,n),n=n.sibling}function Eg(t,e,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Ka,n)}catch{}switch(n.tag){case 5:pt||ks(n,e);case 6:var r=at,s=un;at=null,ir(t,e,n),at=r,un=s,at!==null&&(un?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(un?(t=at,n=n.stateNode,t.nodeType===8?du(t.parentNode,n):t.nodeType===1&&du(t,n),zi(t)):du(at,n.stateNode));break;case 4:r=at,s=un,at=n.stateNode.containerInfo,un=!0,ir(t,e,n),at=r,un=s;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hc(n,e,o),s=s.next}while(s!==r)}ir(t,e,n);break;case 1:if(!pt&&(ks(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ue(n,e,l)}ir(t,e,n);break;case 21:ir(t,e,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,ir(t,e,n),pt=r):ir(t,e,n);break;default:ir(t,e,n)}}function Gf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new e1),e.forEach(function(r){var s=c1.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function an(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:at=l.stateNode,un=!1;break e;case 3:at=l.stateNode.containerInfo,un=!0;break e;case 4:at=l.stateNode.containerInfo,un=!0;break e}l=l.return}if(at===null)throw Error(U(160));Eg(i,o,s),at=null,un=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ue(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ng(e,t),e=e.sibling}function Ng(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(an(e,t),Cn(t),r&4){try{Ri(3,t,t.return),ol(3,t)}catch(S){Ue(t,t.return,S)}try{Ri(5,t,t.return)}catch(S){Ue(t,t.return,S)}}break;case 1:an(e,t),Cn(t),r&512&&n!==null&&ks(n,n.return);break;case 5:if(an(e,t),Cn(t),r&512&&n!==null&&ks(n,n.return),t.flags&32){var s=t.stateNode;try{ji(s,"")}catch(S){Ue(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Yp(s,i),Lu(l,o);var u=Lu(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?em(s,f):d==="dangerouslySetInnerHTML"?Kp(s,f):d==="children"?ji(s,f):Lc(s,d,f,u)}switch(l){case"input":Iu(s,i);break;case"textarea":Xp(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?bs(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?bs(s,!!i.multiple,i.defaultValue,!0):bs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qi]=i}catch(S){Ue(t,t.return,S)}}break;case 6:if(an(e,t),Cn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){Ue(t,t.return,S)}}break;case 3:if(an(e,t),Cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zi(e.containerInfo)}catch(S){Ue(t,t.return,S)}break;case 4:an(e,t),Cn(t);break;case 13:an(e,t),Cn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vh=Ge())),r&4&&Gf(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(pt=(u=pt)||d,an(e,t),pt=u):an(e,t),Cn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(f=J=d;J!==null;){switch(m=J,y=m.child,m.tag){case 0:case 11:case 14:case 15:Ri(4,m,m.return);break;case 1:ks(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){Ue(r,n,S)}}break;case 5:ks(m,m.return);break;case 22:if(m.memoizedState!==null){Xf(f);continue}}y!==null?(y.return=m,J=y):Xf(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Jp("display",o))}catch(S){Ue(t,t.return,S)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){Ue(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:an(e,t),Cn(t),r&4&&Gf(t);break;case 21:break;default:an(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cg(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ji(s,""),r.flags&=-33);var i=Hf(t);pc(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Hf(t);fc(t,l,o);break;default:throw Error(U(161))}}catch(c){Ue(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function n1(t,e,n){J=t,Ag(t)}function Ag(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ho;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||pt;l=Ho;var u=pt;if(Ho=o,(pt=c)&&!u)for(J=s;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?Zf(s):c!==null?(c.return=o,J=c):Zf(s);for(;i!==null;)J=i,Ag(i),i=i.sibling;J=s,Ho=l,pt=u}Yf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):Yf(t)}}function Yf(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pt||ol(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ln(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&If(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}If(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&zi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}pt||e.flags&512&&dc(e)}catch(m){Ue(e,e.return,m)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Xf(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Zf(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ol(4,e)}catch(c){Ue(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ue(e,s,c)}}var i=e.return;try{dc(e)}catch(c){Ue(e,i,c)}break;case 5:var o=e.return;try{dc(e)}catch(c){Ue(e,o,c)}}}catch(c){Ue(e,e.return,c)}if(e===t){J=null;break}var l=e.sibling;if(l!==null){l.return=e.return,J=l;break}J=e.return}}var r1=Math.ceil,Ia=Yn.ReactCurrentDispatcher,mh=Yn.ReactCurrentOwner,Jt=Yn.ReactCurrentBatchConfig,ye=0,st=null,Ke=null,lt=0,jt=0,Cs=br(0),tt=0,Ki=null,Kr=0,al=0,gh=0,Ii=null,At=null,vh=0,Bs=1/0,Fn=null,Da=!1,mc=null,_r=null,Go=!1,fr=null,Pa=0,Di=0,gc=null,ua=-1,ca=0;function xt(){return ye&6?Ge():ua!==-1?ua:ua=Ge()}function wr(t){return t.mode&1?ye&2&&lt!==0?lt&-lt:q0.transition!==null?(ca===0&&(ca=dm()),ca):(t=xe,t!==0||(t=window.event,t=t===void 0?16:_m(t.type)),t):1}function pn(t,e,n,r){if(50<Di)throw Di=0,gc=null,Error(U(185));io(t,n,r),(!(ye&2)||t!==st)&&(t===st&&(!(ye&2)&&(al|=n),tt===4&&hr(t,lt)),It(t,r),n===1&&ye===0&&!(e.mode&1)&&(Bs=Ge()+500,rl&&Or()))}function It(t,e){var n=t.callbackNode;q_(t,e);var r=ya(t,t===st?lt:0);if(r===0)n!==null&&of(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&of(n),e===1)t.tag===0?V0(Kf.bind(null,t)):Lm(Kf.bind(null,t)),P0(function(){!(ye&6)&&Or()}),n=null;else{switch(fm(r)){case 1:n=Bc;break;case 4:n=cm;break;case 16:n=va;break;case 536870912:n=hm;break;default:n=va}n=Fg(n,bg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bg(t,e){if(ua=-1,ca=0,ye&6)throw Error(U(327));var n=t.callbackNode;if(Ds()&&t.callbackNode!==n)return null;var r=ya(t,t===st?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fa(t,r);else{e=r;var s=ye;ye|=2;var i=Mg();(st!==t||lt!==e)&&(Fn=null,Bs=Ge()+500,Qr(t,e));do try{o1();break}catch(l){Og(t,l)}while(!0);nh(),Ia.current=i,ye=s,Ke!==null?e=0:(st=null,lt=0,e=tt)}if(e!==0){if(e===2&&(s=Bu(t),s!==0&&(r=s,e=vc(t,s))),e===1)throw n=Ki,Qr(t,0),hr(t,r),It(t,Ge()),n;if(e===6)hr(t,r);else{if(s=t.current.alternate,!(r&30)&&!s1(s)&&(e=Fa(t,r),e===2&&(i=Bu(t),i!==0&&(r=i,e=vc(t,i))),e===1))throw n=Ki,Qr(t,0),hr(t,r),It(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:zr(t,At,Fn);break;case 3:if(hr(t,r),(r&130023424)===r&&(e=vh+500-Ge(),10<e)){if(ya(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zu(zr.bind(null,t,At,Fn),e);break}zr(t,At,Fn);break;case 4:if(hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*r1(r/1960))-r,10<r){t.timeoutHandle=Zu(zr.bind(null,t,At,Fn),r);break}zr(t,At,Fn);break;case 5:zr(t,At,Fn);break;default:throw Error(U(329))}}}return It(t,Ge()),t.callbackNode===n?bg.bind(null,t):null}function vc(t,e){var n=Ii;return t.current.memoizedState.isDehydrated&&(Qr(t,e).flags|=256),t=Fa(t,e),t!==2&&(e=At,At=n,e!==null&&yc(e)),t}function yc(t){At===null?At=t:At.push.apply(At,t)}function s1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hr(t,e){for(e&=~gh,e&=~al,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),r=1<<n;t[n]=-1,e&=~r}}function Kf(t){if(ye&6)throw Error(U(327));Ds();var e=ya(t,0);if(!(e&1))return It(t,Ge()),null;var n=Fa(t,e);if(t.tag!==0&&n===2){var r=Bu(t);r!==0&&(e=r,n=vc(t,r))}if(n===1)throw n=Ki,Qr(t,0),hr(t,e),It(t,Ge()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zr(t,At,Fn),It(t,Ge()),null}function yh(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Bs=Ge()+500,rl&&Or())}}function Jr(t){fr!==null&&fr.tag===0&&!(ye&6)&&Ds();var e=ye;ye|=1;var n=Jt.transition,r=xe;try{if(Jt.transition=null,xe=1,t)return t()}finally{xe=r,Jt.transition=n,ye=e,!(ye&6)&&Or()}}function _h(){jt=Cs.current,Re(Cs)}function Qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D0(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(Jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ta();break;case 3:zs(),Re(Mt),Re(mt),lh();break;case 5:ah(r);break;case 4:zs();break;case 13:Re(qe);break;case 19:Re(qe);break;case 10:rh(r.type._context);break;case 22:case 23:_h()}n=n.return}if(st=t,Ke=t=Sr(t.current,null),lt=jt=e,tt=0,Ki=null,gh=al=Kr=0,At=Ii=null,Br!==null){for(e=0;e<Br.length;e++)if(n=Br[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Br=null}return t}function Og(t,e){do{var n=Ke;try{if(nh(),oa.current=Ra,Ma){for(var r=ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ma=!1}if(Zr=0,rt=et=ze=null,Mi=!1,Yi=0,mh.current=null,n===null||n.return===null){tt=1,Ki=e,Ke=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Vf(o);if(y!==null){y.flags&=-257,qf(y,o,l,i,e),y.mode&1&&Lf(i,u,e),e=y,c=u;var v=e.updateQueue;if(v===null){var S=new Set;S.add(c),e.updateQueue=S}else v.add(c);break e}else{if(!(e&1)){Lf(i,u,e),wh();break e}c=Error(U(426))}}else if(je&&l.mode&1){var k=Vf(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),qf(k,o,l,i,e),eh(Ws(c,l));break e}}i=c=Ws(c,l),tt!==4&&(tt=2),Ii===null?Ii=[i]:Ii.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=fg(i,c,e);Rf(i,g);break e;case 1:l=c;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_r===null||!_r.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=pg(i,l,e);Rf(i,A);break e}}i=i.return}while(i!==null)}Ig(n)}catch(T){e=T,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function Mg(){var t=Ia.current;return Ia.current=Ra,t===null?Ra:t}function wh(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||!(Kr&268435455)&&!(al&268435455)||hr(st,lt)}function Fa(t,e){var n=ye;ye|=2;var r=Mg();(st!==t||lt!==e)&&(Fn=null,Qr(t,e));do try{i1();break}catch(s){Og(t,s)}while(!0);if(nh(),ye=n,Ia.current=r,Ke!==null)throw Error(U(261));return st=null,lt=0,tt}function i1(){for(;Ke!==null;)Rg(Ke)}function o1(){for(;Ke!==null&&!M_();)Rg(Ke)}function Rg(t){var e=Pg(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?Ig(t):Ke=e,mh.current=null}function Ig(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=J0(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Ke=null;return}}else if(n=K0(n,e,jt),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);tt===0&&(tt=5)}function zr(t,e,n){var r=xe,s=Jt.transition;try{Jt.transition=null,xe=1,a1(t,e,n,r)}finally{Jt.transition=s,xe=r}return null}function a1(t,e,n,r){do Ds();while(fr!==null);if(ye&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(z_(t,i),t===st&&(Ke=st=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Go||(Go=!0,Fg(va,function(){return Ds(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Jt.transition,Jt.transition=null;var o=xe;xe=1;var l=ye;ye|=4,mh.current=null,t1(t,n),Ng(n,t),N0(Yu),_a=!!Gu,Yu=Gu=null,t.current=n,n1(n),R_(),ye=l,xe=o,Jt.transition=i}else t.current=n;if(Go&&(Go=!1,fr=t,Pa=s),i=t.pendingLanes,i===0&&(_r=null),P_(n.stateNode),It(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Da)throw Da=!1,t=mc,mc=null,t;return Pa&1&&t.tag!==0&&Ds(),i=t.pendingLanes,i&1?t===gc?Di++:(Di=0,gc=t):Di=0,Or(),null}function Ds(){if(fr!==null){var t=fm(Pa),e=Jt.transition,n=xe;try{if(Jt.transition=null,xe=16>t?16:t,fr===null)var r=!1;else{if(t=fr,fr=null,Pa=0,ye&6)throw Error(U(331));var s=ye;for(ye|=4,J=t.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Ri(8,d,i)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var m=d.sibling,y=d.return;if(kg(d),d===u){J=null;break}if(m!==null){m.return=y,J=m;break}J=y}}}var v=i.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ri(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,J=g;break e}J=i.return}}var w=t.current;for(J=w;J!==null;){o=J;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,J=x;else e:for(o=w;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(T){Ue(l,l.return,T)}if(l===o){J=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,J=A;break e}J=l.return}}if(ye=s,Or(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Ka,t)}catch{}r=!0}return r}finally{xe=n,Jt.transition=e}}return!1}function Jf(t,e,n){e=Ws(n,e),e=fg(t,e,1),t=yr(t,e,1),e=xt(),t!==null&&(io(t,1,e),It(t,e))}function Ue(t,e,n){if(t.tag===3)Jf(t,t,n);else for(;e!==null;){if(e.tag===3){Jf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_r===null||!_r.has(r))){t=Ws(n,t),t=pg(e,t,1),e=yr(e,t,1),t=xt(),e!==null&&(io(e,1,t),It(e,t));break}}e=e.return}}function l1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(lt&n)===n&&(tt===4||tt===3&&(lt&130023424)===lt&&500>Ge()-vh?Qr(t,0):gh|=n),It(t,e)}function Dg(t,e){e===0&&(t.mode&1?(e=Lo,Lo<<=1,!(Lo&130023424)&&(Lo=4194304)):e=1);var n=xt();t=$n(t,e),t!==null&&(io(t,e,n),It(t,n))}function u1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dg(t,n)}function c1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),Dg(t,n)}var Pg;Pg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ot=!1,Z0(t,e,n);Ot=!!(t.flags&131072)}else Ot=!1,je&&e.flags&1048576&&Vm(e,Ea,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;la(t,e),t=e.pendingProps;var s=Ls(e,mt.current);Is(e,n),s=ch(null,e,r,t,s,n);var i=hh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rt(r)?(i=!0,ka(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ih(e),s.updater=il,e.stateNode=s,s._reactInternals=e,sc(e,r,t,n),e=ac(null,e,r,!0,i,n)):(e.tag=0,je&&i&&Kc(e),_t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(la(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=d1(r),t=ln(r,t),s){case 0:e=oc(null,e,r,t,n);break e;case 1:e=Bf(null,e,r,t,n);break e;case 11:e=zf(null,e,r,t,n);break e;case 14:e=Wf(null,e,r,ln(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),oc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),Bf(t,e,r,s,n);case 3:e:{if(yg(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$m(t,e),ba(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ws(Error(U(423)),e),e=Uf(t,e,r,n,s);break e}else if(r!==s){s=Ws(Error(U(424)),e),e=Uf(t,e,r,n,s);break e}else for(Vt=vr(e.stateNode.containerInfo.firstChild),zt=e,je=!0,cn=null,n=Bm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vs(),r===s){e=Qn(t,e,n);break e}_t(t,e,r,n)}e=e.child}return e;case 5:return Qm(e),t===null&&tc(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Xu(r,s)?o=null:i!==null&&Xu(r,i)&&(e.flags|=32),vg(t,e),_t(t,e,o,n),e.child;case 6:return t===null&&tc(e),null;case 13:return _g(t,e,n);case 4:return oh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),zf(t,e,r,s,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ee(Na,r._currentValue),r._currentValue=o,i!==null)if(gn(i.value,o)){if(i.children===s.children&&!Mt.current){e=Qn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=zn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),nc(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),nc(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Is(e,n),s=nn(s),r=r(s),e.flags|=1,_t(t,e,r,n),e.child;case 14:return r=e.type,s=ln(r,e.pendingProps),s=ln(r.type,s),Wf(t,e,r,s,n);case 15:return mg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ln(r,s),la(t,e),e.tag=1,Rt(r)?(t=!0,ka(e)):t=!1,Is(e,n),dg(e,r,s),sc(e,r,s,n),ac(null,e,r,!0,t,n);case 19:return wg(t,e,n);case 22:return gg(t,e,n)}throw Error(U(156,e.tag))};function Fg(t,e){return um(t,e)}function h1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new h1(t,e,n,r)}function Sh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d1(t){if(typeof t=="function")return Sh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qc)return 11;if(t===zc)return 14}return 2}function Sr(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ha(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Sh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ms:return Hr(n.children,s,i,e);case Vc:o=8,s|=8;break;case Au:return t=Zt(12,n,e,s|2),t.elementType=Au,t.lanes=i,t;case bu:return t=Zt(13,n,e,s),t.elementType=bu,t.lanes=i,t;case Ou:return t=Zt(19,n,e,s),t.elementType=Ou,t.lanes=i,t;case Qp:return ll(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Up:o=10;break e;case $p:o=9;break e;case qc:o=11;break e;case zc:o=14;break e;case ar:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Zt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Hr(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function ll(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=Qp,t.lanes=n,t.stateNode={isHidden:!1},t}function wu(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function Su(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f1(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xh(t,e,n,r,s,i,o,l,c){return t=new f1(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ih(i),t}function p1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ps,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jg(t){if(!t)return kr;t=t._reactInternals;e:{if(ss(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Rt(n))return jm(t,n,e)}return e}function Lg(t,e,n,r,s,i,o,l,c){return t=xh(n,r,!0,t,s,i,o,l,c),t.context=jg(null),n=t.current,r=xt(),s=wr(n),i=zn(r,s),i.callback=e??null,yr(n,i,s),t.current.lanes=s,io(t,s,r),It(t,r),t}function ul(t,e,n,r){var s=e.current,i=xt(),o=wr(s);return n=jg(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yr(s,e,o),t!==null&&(pn(t,s,o,i),ia(t,s,o)),o}function ja(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ep(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Th(t,e){ep(t,e),(t=t.alternate)&&ep(t,e)}function m1(){return null}var Vg=typeof reportError=="function"?reportError:function(t){console.error(t)};function kh(t){this._internalRoot=t}cl.prototype.render=kh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));ul(t,e,null,null)};cl.prototype.unmount=kh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jr(function(){ul(null,t,null,null)}),e[Un]=null}};function cl(t){this._internalRoot=t}cl.prototype.unstable_scheduleHydration=function(t){if(t){var e=gm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cr.length&&e!==0&&e<cr[n].priority;n++);cr.splice(n,0,t),n===0&&ym(t)}};function Ch(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tp(){}function g1(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ja(o);i.call(u)}}var o=Lg(e,r,t,0,null,!1,!1,"",tp);return t._reactRootContainer=o,t[Un]=o.current,Ui(t.nodeType===8?t.parentNode:t),Jr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ja(c);l.call(u)}}var c=xh(t,0,!1,null,null,!1,!1,"",tp);return t._reactRootContainer=c,t[Un]=c.current,Ui(t.nodeType===8?t.parentNode:t),Jr(function(){ul(e,c,n,r)}),c}function dl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ja(o);l.call(c)}}ul(e,o,t,s)}else o=g1(n,e,t,s,r);return ja(o)}pm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ki(e.pendingLanes);n!==0&&(Uc(e,n|1),It(e,Ge()),!(ye&6)&&(Bs=Ge()+500,Or()))}break;case 13:Jr(function(){var r=$n(t,1);if(r!==null){var s=xt();pn(r,t,1,s)}}),Th(t,1)}};$c=function(t){if(t.tag===13){var e=$n(t,134217728);if(e!==null){var n=xt();pn(e,t,134217728,n)}Th(t,134217728)}};mm=function(t){if(t.tag===13){var e=wr(t),n=$n(t,e);if(n!==null){var r=xt();pn(n,t,e,r)}Th(t,e)}};gm=function(){return xe};vm=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};qu=function(t,e,n){switch(e){case"input":if(Iu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=nl(r);if(!s)throw Error(U(90));Gp(r),Iu(r,s)}}}break;case"textarea":Xp(t,n);break;case"select":e=n.value,e!=null&&bs(t,!!n.multiple,e,!1)}};rm=yh;sm=Jr;var v1={usingClientEntryPoint:!1,Events:[ao,_s,nl,tm,nm,yh]},Si={findFiberByHostInstance:Wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y1={bundleType:Si.bundleType,version:Si.version,rendererPackageName:Si.rendererPackageName,rendererConfig:Si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=am(t),t===null?null:t.stateNode},findFiberByHostInstance:Si.findFiberByHostInstance||m1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{Ka=Yo.inject(y1),An=Yo}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v1;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ch(e))throw Error(U(200));return p1(t,e,null,n)};Ut.createRoot=function(t,e){if(!Ch(t))throw Error(U(299));var n=!1,r="",s=Vg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=xh(t,1,!1,null,null,n,!1,r,s),t[Un]=e.current,Ui(t.nodeType===8?t.parentNode:t),new kh(e)};Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=am(e),t=t===null?null:t.stateNode,t};Ut.flushSync=function(t){return Jr(t)};Ut.hydrate=function(t,e,n){if(!hl(e))throw Error(U(200));return dl(null,t,e,!0,n)};Ut.hydrateRoot=function(t,e,n){if(!Ch(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Lg(e,null,t,1,n??null,s,!1,i,o),t[Un]=e.current,Ui(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new cl(e)};Ut.render=function(t,e,n){if(!hl(e))throw Error(U(200));return dl(null,t,e,!1,n)};Ut.unmountComponentAtNode=function(t){if(!hl(t))throw Error(U(40));return t._reactRootContainer?(Jr(function(){dl(null,null,t,!1,function(){t._reactRootContainer=null,t[Un]=null})}),!0):!1};Ut.unstable_batchedUpdates=yh;Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hl(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return dl(t,e,n,!1,r)};Ut.version="18.3.1-next-f1338f8080-20240426";function qg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qg)}catch(t){console.error(t)}}qg(),qp.exports=Ut;var _1=qp.exports,np=_1;Eu.createRoot=np.createRoot,Eu.hydrateRoot=np.hydrateRoot;const zg="15.1.22",rp=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),sp=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),_c=(t,e)=>({startTime:e,type:"setValue",value:t}),Wg=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),Bg=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),Es=t=>t.type==="exponentialRampToValue",La=t=>t.type==="linearRampToValue",ur=t=>Es(t)||La(t),Eh=t=>t.type==="setValue",jn=t=>t.type==="setValueCurve",Va=(t,e,n,r)=>{const s=t[e];return s===void 0?r:ur(s)||Eh(s)?s.value:jn(s)?s.values[s.values.length-1]:Bg(n,Va(t,e-1,s.startTime,r),s)},ip=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:ur(n)?[n.endTime,n.value]:Eh(n)?[n.startTime,n.value]:jn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Va(t,e-1,n.startTime,s)],wc=t=>t.type==="cancelAndHold",Sc=t=>t.type==="cancelScheduledValues",or=t=>wc(t)||Sc(t)?t.cancelTime:Es(t)||La(t)?t.endTime:t.startTime,op=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,ap=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),w1=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},S1=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return w1(r,s)},Xo=t=>t.type==="setTarget";class x1{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=or(e);if(wc(e)||Sc(e)){const r=this._automationEvents.findIndex(i=>Sc(e)&&jn(i)?i.startTime+i.duration>=n:or(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),wc(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&ur(s)){if(i!==void 0&&Xo(i))throw new Error("The internal list is malformed.");const o=i===void 0?s.insertTime:jn(i)?i.startTime+i.duration:or(i),l=i===void 0?this._defaultValue:jn(i)?i.values[i.values.length-1]:i.value,c=Es(s)?op(n,o,l,s):ap(n,o,l,s),u=Es(s)?rp(c,n,this._currenTime):sp(c,n,this._currenTime);this._automationEvents.push(u)}if(i!==void 0&&Xo(i)&&this._automationEvents.push(_c(this.getValue(n),n)),i!==void 0&&jn(i)&&i.startTime+i.duration>n){const o=n-i.startTime,l=(i.values.length-1)/i.duration,c=Math.max(2,1+Math.ceil(o*l)),u=o/(c-1)*l,d=i.values.slice(0,c);if(u<1)for(let f=1;f<c;f+=1){const m=u*f%1;d[f]=i.values[f-1]*(1-m)+i.values[f]*m}this._automationEvents[this._automationEvents.length-1]=Wg(d,i.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>or(o)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&jn(s)&&or(s)+s.duration>n)return!1;const i=Es(e)?rp(e.value,e.endTime,this._currenTime):La(e)?sp(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(jn(e)&&n+e.duration>or(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>or(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];Xo(s)&&r.unshift(_c(Va(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>or(o)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&Xo(i)&&(r===void 0||!ur(r)||r.insertTime>e))return Bg(e,Va(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Eh(i)&&(r===void 0||!ur(r)))return i.value;if(i!==void 0&&jn(i)&&(r===void 0||!ur(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?S1(e,i):i.values[i.values.length-1];if(i!==void 0&&ur(i)&&(r===void 0||!ur(r)))return i.value;if(r!==void 0&&Es(r)){const[o,l]=ip(this._automationEvents,s,i,r,this._defaultValue);return op(e,o,l,r)}if(r!==void 0&&La(r)){const[o,l]=ip(this._automationEvents,s,i,r,this._defaultValue);return ap(e,o,l,r)}return this._defaultValue}}const T1=t=>({cancelTime:t,type:"cancelAndHold"}),k1=t=>({cancelTime:t,type:"cancelScheduledValues"}),C1=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),E1=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),N1=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),A1=()=>new DOMException("","AbortError"),b1=t=>(e,n,[r,s,i],o)=>{t(e[s],[n,r,i],l=>l[0]===n&&l[1]===r,o)},O1=t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},M1=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Us=new WeakSet,Ug=new WeakMap,Nh=new WeakMap,$g=new WeakMap,Ah=new WeakMap,fl=new WeakMap,Qg=new WeakMap,xc=new WeakMap,Tc=new WeakMap,kc=new WeakMap,Hg={construct(){return Hg}},R1=t=>{try{const e=new Proxy(t,Hg);new e}catch{return!1}return!0},lp=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,up=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(lp);for(;s!==null;){const i=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(lp)}return[n.join(";"),r]},cp=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},hp=t=>{if(!R1(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},I1=(t,e,n,r,s,i,o,l,c,u,d,f,m)=>{let y=0;return(v,S,k={credentials:"omit"})=>{const g=d.get(v);if(g!==void 0&&g.has(S))return Promise.resolve();const w=u.get(v);if(w!==void 0){const T=w.get(S);if(T!==void 0)return T}const x=i(v),A=x.audioWorklet===void 0?s(S).then(([T,N])=>{const[b,E]=up(T,N),L=`${b};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${E}
})})(window,'_AWGS')`;return n(L)}).then(()=>{const T=m._AWGS.pop();if(T===void 0)throw new SyntaxError;r(x.currentTime,x.sampleRate,()=>T(class{},void 0,(N,b)=>{if(N.trim()==="")throw e();const E=Tc.get(x);if(E!==void 0){if(E.has(N))throw e();hp(b),cp(b.parameterDescriptors),E.set(N,b)}else hp(b),cp(b.parameterDescriptors),Tc.set(x,new Map([[N,b]]))},x.sampleRate,void 0,void 0))}):Promise.all([s(S),Promise.resolve(t(f,f))]).then(([[T,N],b])=>{const E=y+1;y=E;const[L,I]=up(T,N),B=`${L};((AudioWorkletProcessor,registerProcessor)=>{${I}
})(${b?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${b?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${b?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${E}',class extends AudioWorkletProcessor{process(){return !1}})`,ne=new Blob([B],{type:"application/javascript; charset=utf-8"}),Q=URL.createObjectURL(ne);return x.audioWorklet.addModule(Q,k).then(()=>{if(l(x))return x;const Z=o(x);return Z.audioWorklet.addModule(Q,k).then(()=>Z)}).then(Z=>{if(c===null)throw new SyntaxError;try{new c(Z,`__sac${E}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(Q))});return w===void 0?u.set(v,new Map([[S,A]])):w.set(S,A),A.then(()=>{const T=d.get(v);T===void 0?d.set(v,new Set([S])):T.add(S)}).finally(()=>{const T=u.get(v);T!==void 0&&T.delete(S)}),A}},vn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},pl=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},Gg=(t,e,n,r)=>{const s=vn(t,e),i=pl(s,o=>o[0]===n&&o[1]===r);return s.size===0&&t.delete(e),i},uo=t=>vn(Qg,t),$s=t=>{if(Us.has(t))throw new Error("The AudioNode is already stored.");Us.add(t),uo(t).forEach(e=>e(!0))},Yg=t=>"port"in t,co=t=>{if(!Us.has(t))throw new Error("The AudioNode is not stored.");Us.delete(t),uo(t).forEach(e=>e(!1))},Cc=(t,e)=>{!Yg(t)&&e.every(n=>n.size===0)&&co(t)},D1=(t,e,n,r,s,i,o,l,c,u,d,f,m)=>{const y=new WeakMap;return(v,S,k,g,w)=>{const{activeInputs:x,passiveInputs:A}=i(S),{outputs:T}=i(v),N=l(v),b=E=>{const L=c(S),I=c(v);if(E){const D=Gg(A,v,k,g);t(x,v,D,!1),!w&&!f(v)&&n(I,L,k,g),m(S)&&$s(S)}else{const D=r(x,v,k,g);e(A,g,D,!1),!w&&!f(v)&&s(I,L,k,g);const j=o(S);if(j===0)d(S)&&Cc(S,x);else{const z=y.get(S);z!==void 0&&clearTimeout(z),y.set(S,setTimeout(()=>{d(S)&&Cc(S,x)},j*1e3))}}};return u(T,[S,k,g],E=>E[0]===S&&E[1]===k&&E[2]===g,!0)?(N.add(b),d(v)?t(x,v,[k,g,b],!0):e(A,g,[v,k,b],!0),!0):!1}},P1=t=>(e,n,[r,s,i],o)=>{const l=e.get(r);l===void 0?e.set(r,new Set([[s,n,i]])):t(l,[s,n,i],c=>c[0]===s&&c[1]===n,o)},F1=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},j1=t=>(e,n)=>{t(e).add(n)},L1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},V1=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const u=s(l),d={...L1,...c},f=r(u,d),m=i(u)?e():null;super(l,!1,f,m),this._nativeAnalyserNode=f}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(l){this._nativeAnalyserNode.fftSize=l}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(l){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=l,!(l>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(l){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=l,!(this._nativeAnalyserNode.maxDecibels>l))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(l){this._nativeAnalyserNode.smoothingTimeConstant=l}getByteFrequencyData(l){this._nativeAnalyserNode.getByteFrequencyData(l)}getByteTimeDomainData(l){this._nativeAnalyserNode.getByteTimeDomainData(l)}getFloatFrequencyData(l){this._nativeAnalyserNode.getFloatFrequencyData(l)}getFloatTimeDomainData(l){this._nativeAnalyserNode.getFloatTimeDomainData(l)}},gt=(t,e)=>t.context===e,q1=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let l=e(i);if(!gt(l,o)){const u={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,fftSize:l.fftSize,maxDecibels:l.maxDecibels,minDecibels:l.minDecibels,smoothingTimeConstant:l.smoothingTimeConstant};l=t(o,u)}return r.set(o,l),await n(i,o,l),l};return{render(i,o){const l=r.get(o);return l!==void 0?Promise.resolve(l):s(i,o)}}},qa=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Mn=()=>new DOMException("","IndexSizeError"),bh=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?Mn():r}})(t.getChannelData)},z1={numberOfChannels:1},W1=(t,e,n,r,s,i,o,l)=>{let c=null;return class Xg{constructor(d){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:f,numberOfChannels:m,sampleRate:y}={...z1,...d};c===null&&(c=new s(1,1,44100));const v=r!==null&&e(i,i)?new r({length:f,numberOfChannels:m,sampleRate:y}):c.createBuffer(m,f,y);if(v.numberOfChannels===0)throw n();return typeof v.copyFromChannel!="function"?(o(v),bh(v)):e(qa,()=>qa(v))||l(v),t.add(v),v}static[Symbol.hasInstance](d){return d!==null&&typeof d=="object"&&Object.getPrototypeOf(d)===Xg.prototype||t.has(d)}}},bt=-34028234663852886e22,wt=-bt,Wn=t=>Us.has(t),B1={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},U1=(t,e,n,r,s,i,o,l)=>class extends t{constructor(u,d){const f=i(u),m={...B1,...d},y=s(f,m),v=o(f),S=v?e():null;super(u,!1,y,S),this._audioBufferSourceNodeRenderer=S,this._isBufferNullified=!1,this._isBufferSet=m.buffer!==null,this._nativeAudioBufferSourceNode=y,this._onended=null,this._playbackRate=n(this,v,y.playbackRate,wt,bt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const d=typeof u=="function"?l(this,u):null;this._nativeAudioBufferSourceNode.onended=d;const f=this._nativeAudioBufferSourceNode.onended;this._onended=f!==null&&f===d?u:f}get playbackRate(){return this._playbackRate}start(u=0,d=0,f){if(this._nativeAudioBufferSourceNode.start(u,d,f),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=f===void 0?[u,d]:[u,d,f]),this.context.state!=="closed"){$s(this);const m=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",m),Wn(this)&&co(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",m)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},$1=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,l=null;const c=async(u,d)=>{let f=n(u);const m=gt(f,d);if(!m){const y={buffer:f.buffer,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,loop:f.loop,loopEnd:f.loopEnd,loopStart:f.loopStart,playbackRate:f.playbackRate.value};f=e(d,y),o!==null&&f.start(...o),l!==null&&f.stop(l)}return i.set(d,f),m?await t(d,u.playbackRate,f.playbackRate):await r(d,u.playbackRate,f.playbackRate),await s(u,d,f),f};return{set start(u){o=u},set stop(u){l=u},render(u,d){const f=i.get(d);return f!==void 0?Promise.resolve(f):c(u,d)}}},Q1=t=>"playbackRate"in t,H1=t=>"frequency"in t&&"gain"in t,G1=t=>"offset"in t,Y1=t=>!("frequency"in t)&&"gain"in t,X1=t=>"detune"in t&&"frequency"in t&&!("gain"in t),Z1=t=>"pan"in t,St=t=>vn(Ug,t),ho=t=>vn($g,t),Ec=(t,e)=>{const{activeInputs:n}=St(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||Ec(i,[...e,t])}));const r=Q1(t)?[t.playbackRate]:Yg(t)?Array.from(t.parameters.values()):H1(t)?[t.Q,t.detune,t.frequency,t.gain]:G1(t)?[t.offset]:Y1(t)?[t.gain]:X1(t)?[t.detune,t.frequency]:Z1(t)?[t.pan]:[];for(const s of r){const i=ho(s);i!==void 0&&i.activeInputs.forEach(([o])=>Ec(o,e))}Wn(t)&&co(t)},Zg=t=>{Ec(t.destination,[])},K1=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),J1=(t,e,n,r,s,i,o,l,c)=>class extends t{constructor(d={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let f;try{f=new c(d)}catch(v){throw v.code===12&&v.message==="sampleRate is not in range"?n():v}if(f===null)throw r();if(!K1(d.latencyHint))throw new TypeError(`The provided value '${d.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(d.sampleRate!==void 0&&f.sampleRate!==d.sampleRate)throw n();super(f,2);const{latencyHint:m}=d,{sampleRate:y}=f;if(this._baseLatency=typeof f.baseLatency=="number"?f.baseLatency:m==="balanced"?512/y:m==="interactive"||m===void 0?256/y:m==="playback"?1024/y:Math.max(2,Math.min(128,Math.round(m*y/128)))*128/y,this._nativeAudioContext=f,c.name==="webkitAudioContext"?(this._nativeGainNode=f.createGain(),this._nativeOscillatorNode=f.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(f.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,f.state==="running"){this._state="suspended";const v=()=>{this._state==="suspended"&&(this._state=null),f.removeEventListener("statechange",v)};f.addEventListener("statechange",v)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Zg(this)}))}createMediaElementSource(d){return new s(this,{mediaElement:d})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(d){return new o(this,{mediaStream:d})}createMediaStreamTrackSource(d){return new l(this,{mediaStreamTrack:d})}resume(){return this._state==="suspended"?new Promise((d,f)=>{const m=()=>{this._nativeAudioContext.removeEventListener("statechange",m),this._nativeAudioContext.state==="running"?d():this.resume().then(d,f)};this._nativeAudioContext.addEventListener("statechange",m)}):this._nativeAudioContext.resume().catch(d=>{throw d===void 0||d.code===15?e():d})}suspend(){return this._nativeAudioContext.suspend().catch(d=>{throw d===void 0?e():d})}},ew=(t,e,n,r,s,i,o,l)=>class extends t{constructor(u,d){const f=i(u),m=o(f),y=s(f,d,m),v=m?e(l):null;super(u,!1,y,v),this._isNodeOfNativeOfflineAudioContext=m,this._nativeAudioDestinationNode=y}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},tw=t=>{const e=new WeakMap,n=async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i};return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},nw=(t,e,n,r,s,i,o,l)=>(c,u)=>{const d=u.listener,f=()=>{const T=new Float32Array(1),N=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),b=o(u);let E=!1,L=[0,0,-1,0,1,0],I=[0,0,0];const D=()=>{if(E)return;E=!0;const ne=r(u,256,9,0);ne.onaudioprocess=({inputBuffer:Q})=>{const Z=[i(Q,T,0),i(Q,T,1),i(Q,T,2),i(Q,T,3),i(Q,T,4),i(Q,T,5)];Z.some((W,$)=>W!==L[$])&&(d.setOrientation(...Z),L=Z);const V=[i(Q,T,6),i(Q,T,7),i(Q,T,8)];V.some((W,$)=>W!==I[$])&&(d.setPosition(...V),I=V)},N.connect(ne)},j=ne=>Q=>{Q!==L[ne]&&(L[ne]=Q,d.setOrientation(...L))},z=ne=>Q=>{Q!==I[ne]&&(I[ne]=Q,d.setPosition(...I))},B=(ne,Q,Z)=>{const V=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Q});V.connect(N,0,ne),V.start(),Object.defineProperty(V.offset,"defaultValue",{get(){return Q}});const W=t({context:c},b,V.offset,wt,bt);return l(W,"value",$=>()=>$.call(W),$=>G=>{try{$.call(W,G)}catch(re){if(re.code!==9)throw re}D(),b&&Z(G)}),W.cancelAndHoldAtTime=($=>b?()=>{throw s()}:(...G)=>{const re=$.apply(W,G);return D(),re})(W.cancelAndHoldAtTime),W.cancelScheduledValues=($=>b?()=>{throw s()}:(...G)=>{const re=$.apply(W,G);return D(),re})(W.cancelScheduledValues),W.exponentialRampToValueAtTime=($=>b?()=>{throw s()}:(...G)=>{const re=$.apply(W,G);return D(),re})(W.exponentialRampToValueAtTime),W.linearRampToValueAtTime=($=>b?()=>{throw s()}:(...G)=>{const re=$.apply(W,G);return D(),re})(W.linearRampToValueAtTime),W.setTargetAtTime=($=>b?()=>{throw s()}:(...G)=>{const re=$.apply(W,G);return D(),re})(W.setTargetAtTime),W.setValueAtTime=($=>b?()=>{throw s()}:(...G)=>{const re=$.apply(W,G);return D(),re})(W.setValueAtTime),W.setValueCurveAtTime=($=>b?()=>{throw s()}:(...G)=>{const re=$.apply(W,G);return D(),re})(W.setValueCurveAtTime),W};return{forwardX:B(0,0,j(0)),forwardY:B(1,0,j(1)),forwardZ:B(2,-1,j(2)),positionX:B(6,0,z(0)),positionY:B(7,0,z(1)),positionZ:B(8,0,z(2)),upX:B(3,0,j(3)),upY:B(4,1,j(4)),upZ:B(5,0,j(5))}},{forwardX:m,forwardY:y,forwardZ:v,positionX:S,positionY:k,positionZ:g,upX:w,upY:x,upZ:A}=d.forwardX===void 0?f():d;return{get forwardX(){return m},get forwardY(){return y},get forwardZ(){return v},get positionX(){return S},get positionY(){return k},get positionZ(){return g},get upX(){return w},get upY(){return x},get upZ(){return A}}},za=t=>"context"in t,fo=t=>za(t[0]),is=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},dp=(t,e,[n,r],s)=>{is(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},fp=(t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):is(i,[n,r],o=>o[0]===n,s)},ei=t=>"inputs"in t,Wa=(t,e,n,r)=>{if(ei(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},Kg=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},rw=(t,e,n)=>pl(t,r=>r[0]===e&&r[1]===n),Jg=(t,e)=>{if(!uo(t).delete(e))throw new Error("Missing the expected event listener.")},ev=(t,e,n)=>{const r=vn(t,e),s=pl(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},Ba=(t,e,n,r)=>{ei(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Ie=t=>vn(Nh,t),Ji=t=>vn(Ah,t),es=t=>xc.has(t),da=t=>!Us.has(t),pp=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const l=t.createBufferSource();l.buffer=i,l.loop=!0,l.connect(r).connect(t.destination),l.connect(s),l.disconnect(s),r.onaudioprocess=c=>{const u=c.inputBuffer.getChannelData(0);Array.prototype.some.call(u,d=>d===1)?n(!0):n(!1),l.stop(),r.onaudioprocess=null,l.disconnect(r),r.disconnect(t.destination)},l.start()}}),xu=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},Ua=t=>"context"in t,sw=t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const o=Ua(r)?n(r,s,i):n(r,s),l=e.get(r);return l===void 0?e.set(r,[{input:i,output:s}]):l.every(c=>c.input!==i||c.output!==s)&&l.push({input:i,output:s}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,l]of e){const c=l.filter(u=>u.output!==r);c.length===0?e.delete(o):e.set(o,c)}else if(e.has(r))if(s===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const l=o.filter(c=>c.output!==s&&(c.input!==i||i===void 0));l.length===0?e.delete(r):e.set(r,l)}}for(const[o,l]of e)l.forEach(c=>{Ua(o)?t.connect(o,c.output,c.input):t.connect(o,c.output)})})(t.disconnect)},iw=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=ho(e),{outputs:o}=St(t),l=uo(t),c=u=>{const d=Ie(t),f=Ji(e);if(u){const m=ev(i,t,n);dp(s,t,m,!1),!r&&!es(t)&&d.connect(f,n)}else{const m=rw(s,t,n);fp(i,m,!1),!r&&!es(t)&&d.disconnect(f,n)}};return is(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(l.add(c),Wn(t)?dp(s,t,[n,c],!0):fp(i,[t,n,c],!0),!0):!1},ow=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=St(e),o=Kg(s[r],t,n);return o===null?[Gg(i,t,n,r)[2],!1]:[o[2],!0]},aw=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=ho(e),i=Kg(r,t,n);return i===null?[ev(s,t,n)[1],!1]:[i[2],!0]},Oh=(t,e,n,r,s)=>{const[i,o]=ow(t,n,r,s);if(i!==null&&(Jg(t,i),o&&!e&&!es(t)&&Ba(Ie(t),Ie(n),r,s)),Wn(n)){const{activeInputs:l}=St(n);Cc(n,l)}},Mh=(t,e,n,r)=>{const[s,i]=aw(t,n,r);s!==null&&(Jg(t,s),i&&!e&&!es(t)&&Ie(t).disconnect(Ji(n),r))},lw=(t,e)=>{const n=St(t),r=[];for(const s of n.outputs)fo(s)?Oh(t,e,...s):Mh(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},uw=(t,e,n)=>{const r=St(t),s=[];for(const i of r.outputs)i[1]===n&&(fo(i)?Oh(t,e,...i):Mh(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},cw=(t,e,n,r,s)=>{const i=St(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(s===void 0||o[2]===s)).map(o=>(fo(o)?Oh(t,e,...o):Mh(t,e,...o),i.outputs.delete(o),o[0]))},hw=(t,e,n,r,s,i,o,l,c,u,d,f,m,y,v,S)=>class extends u{constructor(g,w,x,A){super(x),this._context=g,this._nativeAudioNode=x;const T=d(g);f(T)&&n(pp,()=>pp(T,S))!==!0&&sw(x),Nh.set(this,x),Qg.set(this,new Set),g.state!=="closed"&&w&&$s(this),t(this,A,x)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(g){this._nativeAudioNode.channelCount=g}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(g){this._nativeAudioNode.channelCountMode=g}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(g){this._nativeAudioNode.channelInterpretation=g}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(g,w=0,x=0){if(w<0||w>=this._nativeAudioNode.numberOfOutputs)throw s();const A=d(this._context),T=v(A);if(m(g)||y(g))throw i();if(za(g)){const E=Ie(g);try{const I=Wa(this._nativeAudioNode,E,w,x),D=da(this);(T||D)&&this._nativeAudioNode.disconnect(...I),this.context.state!=="closed"&&!D&&da(g)&&$s(g)}catch(I){throw I.code===12?i():I}if(e(this,g,w,x,T)){const I=c([this],g);xu(I,r(T))}return g}const N=Ji(g);if(N.name==="playbackRate"&&N.maxValue===1024)throw o();try{this._nativeAudioNode.connect(N,w),(T||da(this))&&this._nativeAudioNode.disconnect(N,w)}catch(E){throw E.code===12?i():E}if(iw(this,g,w,T)){const E=c([this],g);xu(E,r(T))}}disconnect(g,w,x){let A;const T=d(this._context),N=v(T);if(g===void 0)A=lw(this,N);else if(typeof g=="number"){if(g<0||g>=this.numberOfOutputs)throw s();A=uw(this,N,g)}else{if(w!==void 0&&(w<0||w>=this.numberOfOutputs)||za(g)&&x!==void 0&&(x<0||x>=g.numberOfInputs))throw s();if(A=cw(this,N,g,w,x),A.length===0)throw i()}for(const b of A){const E=c([this],b);xu(E,l)}}},dw=(t,e,n,r,s,i,o,l,c,u,d,f,m)=>(y,v,S,k=null,g=null)=>{const w=S.value,x=new x1(w),A=v?r(x):null,T={get defaultValue(){return w},get maxValue(){return k===null?S.maxValue:k},get minValue(){return g===null?S.minValue:g},get value(){return S.value},set value(N){S.value=N,T.setValueAtTime(N,y.context.currentTime)},cancelAndHoldAtTime(N){if(typeof S.cancelAndHoldAtTime=="function")A===null&&x.flush(y.context.currentTime),x.add(s(N)),S.cancelAndHoldAtTime(N);else{const b=Array.from(x).pop();A===null&&x.flush(y.context.currentTime),x.add(s(N));const E=Array.from(x).pop();S.cancelScheduledValues(N),b!==E&&E!==void 0&&(E.type==="exponentialRampToValue"?S.exponentialRampToValueAtTime(E.value,E.endTime):E.type==="linearRampToValue"?S.linearRampToValueAtTime(E.value,E.endTime):E.type==="setValue"?S.setValueAtTime(E.value,E.startTime):E.type==="setValueCurve"&&S.setValueCurveAtTime(E.values,E.startTime,E.duration))}return T},cancelScheduledValues(N){return A===null&&x.flush(y.context.currentTime),x.add(i(N)),S.cancelScheduledValues(N),T},exponentialRampToValueAtTime(N,b){if(N===0)throw new RangeError;if(!Number.isFinite(b)||b<0)throw new RangeError;const E=y.context.currentTime;return A===null&&x.flush(E),Array.from(x).length===0&&(x.add(u(w,E)),S.setValueAtTime(w,E)),x.add(o(N,b)),S.exponentialRampToValueAtTime(N,b),T},linearRampToValueAtTime(N,b){const E=y.context.currentTime;return A===null&&x.flush(E),Array.from(x).length===0&&(x.add(u(w,E)),S.setValueAtTime(w,E)),x.add(l(N,b)),S.linearRampToValueAtTime(N,b),T},setTargetAtTime(N,b,E){return A===null&&x.flush(y.context.currentTime),x.add(c(N,b,E)),S.setTargetAtTime(N,b,E),T},setValueAtTime(N,b){return A===null&&x.flush(y.context.currentTime),x.add(u(N,b)),S.setValueAtTime(N,b),T},setValueCurveAtTime(N,b,E){const L=N instanceof Float32Array?N:new Float32Array(N);if(f!==null&&f.name==="webkitAudioContext"){const I=b+E,D=y.context.sampleRate,j=Math.ceil(b*D),z=Math.floor(I*D),B=z-j,ne=new Float32Array(B);for(let Z=0;Z<B;Z+=1){const V=(L.length-1)/E*((j+Z)/D-b),W=Math.floor(V),$=Math.ceil(V);ne[Z]=W===$?L[W]:(1-(V-W))*L[W]+(1-($-V))*L[$]}A===null&&x.flush(y.context.currentTime),x.add(d(ne,b,E)),S.setValueCurveAtTime(ne,b,E);const Q=z/D;Q<I&&m(T,ne[ne.length-1],Q),m(T,L[L.length-1],I)}else A===null&&x.flush(y.context.currentTime),x.add(d(L,b,E)),S.setValueCurveAtTime(L,b,E);return T}};return n.set(T,S),e.set(T,y),t(T,A),T},fw=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}});class tv{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const pw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},mw=(t,e,n,r,s,i,o,l,c,u,d,f,m,y)=>class extends e{constructor(S,k,g){var w;const x=l(S),A=c(x),T=d({...pw,...g});m(T);const N=Tc.get(x),b=N==null?void 0:N.get(k),E=A||x.state!=="closed"?x:(w=o(x))!==null&&w!==void 0?w:x,L=s(E,A?null:S.baseLatency,u,k,b,T),I=A?r(k,T,b):null;super(S,!0,L,I);const D=[];L.parameters.forEach((z,B)=>{const ne=n(this,A,z);D.push([B,ne])}),this._nativeAudioWorkletNode=L,this._onprocessorerror=null,this._parameters=new tv(D),A&&t(x,this);const{activeInputs:j}=i(this);f(L,j)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(S){const k=typeof S=="function"?y(this,S):null;this._nativeAudioWorkletNode.onprocessorerror=k;const g=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=g!==null&&g===k?S:g}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function $a(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const o=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const nv=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},Qa=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let o=0;o<i;o+=1)s.push(new Float32Array(128));n.push(s)}return n},gw=(t,e)=>{const n=vn(kc,t),r=Ie(e);return vn(n,r)},vw=async(t,e,n,r,s,i,o)=>{const l=e===null?Math.ceil(t.context.length/128)*128:e.length,c=r.channelCount*r.numberOfInputs,u=s.reduce((k,g)=>k+g,0),d=u===0?null:n.createBuffer(u,l,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const f=St(t),m=await gw(n,t),y=Qa(r.numberOfInputs,r.channelCount),v=Qa(r.numberOfOutputs,s),S=Array.from(t.parameters.keys()).reduce((k,g)=>({...k,[g]:new Float32Array(128)}),{});for(let k=0;k<l;k+=128){if(r.numberOfInputs>0&&e!==null)for(let g=0;g<r.numberOfInputs;g+=1)for(let w=0;w<r.channelCount;w+=1)$a(e,y[g],w,w,k);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:g},w)=>{$a(e,S,g,c+w,k)});for(let g=0;g<r.numberOfInputs;g+=1)for(let w=0;w<s[g];w+=1)v[g][w].byteLength===0&&(v[g][w]=new Float32Array(128));try{const g=y.map((x,A)=>f.activeInputs[A].size===0?[]:x),w=o(k/n.sampleRate,n.sampleRate,()=>m.process(g,v,S));if(d!==null)for(let x=0,A=0;x<r.numberOfOutputs;x+=1){for(let T=0;T<s[x];T+=1)nv(d,v[x],T,A+T,k);A+=s[x]}if(!w)break}catch(g){t.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return d},yw=(t,e,n,r,s,i,o,l,c,u,d,f,m,y,v,S)=>(k,g,w)=>{const x=new WeakMap;let A=null;const T=async(N,b)=>{let E=d(N),L=null;const I=gt(E,b),D=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(f===null){const j=D.reduce((Q,Z)=>Q+Z,0),z=s(b,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),B=[];for(let Q=0;Q<N.numberOfOutputs;Q+=1)B.push(r(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:D[Q]}));const ne=o(b,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});ne.connect=e.bind(null,B),ne.disconnect=c.bind(null,B),L=[z,B,ne]}else I||(E=new f(b,k));if(x.set(b,L===null?E:L[2]),L!==null){if(A===null){if(w===void 0)throw new Error("Missing the processor constructor.");if(m===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Z=N.channelCount*N.numberOfInputs,V=w.parameterDescriptors===void 0?0:w.parameterDescriptors.length,W=Z+V;A=vw(N,W===0?null:await(async()=>{const G=new m(W,Math.ceil(N.context.length/128)*128,b.sampleRate),re=[],De=[];for(let ae=0;ae<g.numberOfInputs;ae+=1)re.push(o(G,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),De.push(s(G,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const F=await Promise.all(Array.from(N.parameters.values()).map(async ae=>{const we=i(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ae.value});return await y(G,ae,we.offset),we})),Y=r(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Z+V)});for(let ae=0;ae<g.numberOfInputs;ae+=1){re[ae].connect(De[ae]);for(let we=0;we<g.channelCount;we+=1)De[ae].connect(Y,we,ae*g.channelCount+we)}for(const[ae,we]of F.entries())we.connect(Y,0,Z+ae),we.start(0);return Y.connect(G.destination),await Promise.all(re.map(ae=>v(N,G,ae))),S(G)})(),b,g,D,w,u)}const j=await A,z=n(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[B,ne,Q]=L;j!==null&&(z.buffer=j,z.start(0)),z.connect(B);for(let Z=0,V=0;Z<N.numberOfOutputs;Z+=1){const W=ne[Z];for(let $=0;$<D[Z];$+=1)B.connect(W,V+$,$);V+=D[Z]}return Q}if(I)for(const[j,z]of N.parameters.entries())await t(b,z,E.parameters.get(j));else for(const[j,z]of N.parameters.entries())await y(b,z,E.parameters.get(j));return await v(N,b,E),E};return{render(N,b){l(b,N);const E=x.get(b);return E!==void 0?Promise.resolve(E):T(N,b)}}},_w=(t,e,n,r,s,i,o,l,c,u,d,f,m,y,v,S,k,g,w,x)=>class extends v{constructor(T,N){super(T,N),this._nativeContext=T,this._audioWorklet=t===void 0?void 0:{addModule:(b,E)=>t(this,b,E)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(T,N,b){return new n({length:N,numberOfChannels:T,sampleRate:b})}createBufferSource(){return new r(this)}createChannelMerger(T=6){return new i(this,{numberOfInputs:T})}createChannelSplitter(T=6){return new o(this,{numberOfOutputs:T})}createConstantSource(){return new l(this)}createConvolver(){return new c(this)}createDelay(T=1){return new d(this,{maxDelayTime:T})}createDynamicsCompressor(){return new f(this)}createGain(){return new m(this)}createIIRFilter(T,N){return new y(this,{feedback:N,feedforward:T})}createOscillator(){return new S(this)}createPanner(){return new k(this)}createPeriodicWave(T,N,b={disableNormalization:!1}){return new g(this,{...b,imag:N,real:T})}createStereoPanner(){return new w(this)}createWaveShaper(){return new x(this)}decodeAudioData(T,N,b){return u(this._nativeContext,T).then(E=>(typeof N=="function"&&N(E),E),E=>{throw typeof b=="function"&&b(E),E})}},ww={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Sw=(t,e,n,r,s,i,o,l)=>class extends t{constructor(u,d){const f=i(u),m={...ww,...d},y=s(f,m),v=o(f),S=v?n():null;super(u,!1,y,S),this._Q=e(this,v,y.Q,wt,bt),this._detune=e(this,v,y.detune,1200*Math.log2(wt),-1200*Math.log2(wt)),this._frequency=e(this,v,y.frequency,u.sampleRate/2,0),this._gain=e(this,v,y.gain,40*Math.log10(wt),bt),this._nativeBiquadFilterNode=y,l(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,d,f){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,d,f)}catch(m){throw m.code===11?r():m}if(u.length!==d.length||d.length!==f.length)throw r()}},xw=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(l,c)=>{let u=n(l);const d=gt(u,c);if(!d){const f={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(c,f)}return i.set(c,u),d?(await t(c,l.Q,u.Q),await t(c,l.detune,u.detune),await t(c,l.frequency,u.frequency),await t(c,l.gain,u.gain)):(await r(c,l.Q,u.Q),await r(c,l.detune,u.detune),await r(c,l.frequency,u.frequency),await r(c,l.gain,u.gain)),await s(l,c,u),u};return{render(l,c){const u=i.get(c);return u!==void 0?Promise.resolve(u):o(l,c)}}},Tw=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(l=>(t.delete(n),e.set(n,l),l))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},kw={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Cw=(t,e,n,r,s)=>class extends t{constructor(o,l){const c=r(o),u={...kw,...l},d=n(c,u),f=s(c)?e():null;super(o,!1,d,f)}},Ew=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let l=e(i);if(!gt(l,o)){const u={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfInputs:l.numberOfInputs};l=t(o,u)}return r.set(o,l),await n(i,o,l),l};return{render(i,o){const l=r.get(o);return l!==void 0?Promise.resolve(l):s(i,o)}}},Nw={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Aw=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const u=r(l),d=i({...Nw,...c}),f=n(u,d),m=s(u)?e():null;super(l,!1,f,m)}},bw=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let l=e(i);if(!gt(l,o)){const u={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfOutputs:l.numberOfOutputs};l=t(o,u)}return r.set(o,l),await n(i,o,l),l};return{render(i,o){const l=r.get(o);return l!==void 0?Promise.resolve(l):s(i,o)}}},Ow=t=>(e,n,r)=>t(n,e,r),Mw=t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return Ua(n)?i.connect(n,0,s):i.connect(n,0)},Rw=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},Iw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Dw=(t,e,n,r,s,i,o)=>class extends t{constructor(c,u){const d=s(c),f={...Iw,...u},m=r(d,f),y=i(d),v=y?n():null;super(c,!1,m,v),this._constantSourceNodeRenderer=v,this._nativeConstantSourceNode=m,this._offset=e(this,y,m.offset,wt,bt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?o(this,c):null;this._nativeConstantSourceNode.onended=u;const d=this._nativeConstantSourceNode.onended;this._onended=d!==null&&d===u?c:d}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){$s(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),Wn(this)&&co(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}},Pw=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,l=null;const c=async(u,d)=>{let f=n(u);const m=gt(f,d);if(!m){const y={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,offset:f.offset.value};f=e(d,y),o!==null&&f.start(o),l!==null&&f.stop(l)}return i.set(d,f),m?await t(d,u.offset,f.offset):await r(d,u.offset,f.offset),await s(u,d,f),f};return{set start(u){o=u},set stop(u){l=u},render(u,d){const f=i.get(d);return f!==void 0?Promise.resolve(f):c(u,d)}}},Fw=t=>e=>(t[0]=e,t[0]),jw={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Lw=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const u=r(l),d={...jw,...c},f=n(u,d),y=s(u)?e():null;super(l,!1,f,y),this._isBufferNullified=!1,this._nativeConvolverNode=f,d.buffer!==null&&i(this,d.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(l){if(this._nativeConvolverNode.buffer=l,l===null&&this._nativeConvolverNode.buffer!==null){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(l){this._nativeConvolverNode.normalize=l}},Vw=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let l=e(i);if(!gt(l,o)){const u={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,disableNormalization:!l.normalize};l=t(o,u)}return r.set(o,l),ei(l)?await n(i,o,l.inputs[0]):await n(i,o,l),l};return{render(i,o){const l=r.get(o);return l!==void 0?Promise.resolve(l):s(i,o)}}},qw=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw i.name==="SyntaxError"?t():i}},zw=()=>new DOMException("","DataCloneError"),mp=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},Ww=(t,e,n,r,s,i,o,l,c,u,d)=>(f,m)=>{const y=o(f)?f:i(f);if(s.has(m)){const v=n();return Promise.reject(v)}try{s.add(m)}catch{}return e(c,()=>c(y))?y.decodeAudioData(m).then(v=>(mp(m).catch(()=>{}),e(l,()=>l(v))||d(v),t.add(v),v)):new Promise((v,S)=>{const k=async()=>{try{await mp(m)}catch{}},g=w=>{S(w),k()};try{y.decodeAudioData(m,w=>{typeof w.copyFromChannel!="function"&&(u(w),bh(w)),t.add(w),k().then(()=>v(w))},w=>{g(w===null?r():w)})}catch(w){g(w)}})},Bw=(t,e,n,r,s,i,o,l)=>(c,u)=>{const d=e.get(c);if(d===void 0)throw new Error("Missing the expected cycle count.");const f=i(c.context),m=l(f);if(d===u){if(e.delete(c),!m&&o(c)){const y=r(c),{outputs:v}=n(c);for(const S of v)if(fo(S)){const k=r(S[0]);t(y,k,S[1],S[2])}else{const k=s(S[0]);y.connect(k,S[1])}}}else e.set(c,d-u)},Uw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},$w=(t,e,n,r,s,i,o)=>class extends t{constructor(c,u){const d=s(c),f={...Uw,...u},m=r(d,f),y=i(d),v=y?n(f.maxDelayTime):null;super(c,!1,m,v),this._delayTime=e(this,y,m.delayTime),o(this,f.maxDelayTime)}get delayTime(){return this._delayTime}},Qw=(t,e,n,r,s)=>i=>{const o=new WeakMap,l=async(c,u)=>{let d=n(c);const f=gt(d,u);if(!f){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,delayTime:d.delayTime.value,maxDelayTime:i};d=e(u,m)}return o.set(u,d),f?await t(u,c.delayTime,d.delayTime):await r(u,c.delayTime,d.delayTime),await s(c,u,d),d};return{render(c,u){const d=o.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},Hw=t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),Gw=t=>(e,n)=>{t(e).delete(n)},Yw=t=>"delayTime"in t,Xw=(t,e,n)=>function r(s,i){const o=za(i)?i:n(t,i);if(Yw(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:l}=e(o);return Array.from(l).map(c=>r([...s,o],c[0])).reduce((c,u)=>c.concat(u),[])},Zo=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},Zw=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?Zo(t,e,n).disconnect():Ua(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?Zo(t,e,r).disconnect(n,0):Zo(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):Zo(t,e,r).disconnect(n,0),Kw={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Jw=(t,e,n,r,s,i,o,l)=>class extends t{constructor(u,d){const f=i(u),m={...Kw,...d},y=r(f,m),v=o(f),S=v?n():null;super(u,!1,y,S),this._attack=e(this,v,y.attack),this._knee=e(this,v,y.knee),this._nativeDynamicsCompressorNode=y,this._ratio=e(this,v,y.ratio),this._release=e(this,v,y.release),this._threshold=e(this,v,y.threshold),l(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const d=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=d,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const d=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=d,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},eS=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(l,c)=>{let u=n(l);const d=gt(u,c);if(!d){const f={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(c,f)}return i.set(c,u),d?(await t(c,l.attack,u.attack),await t(c,l.knee,u.knee),await t(c,l.ratio,u.ratio),await t(c,l.release,u.release),await t(c,l.threshold,u.threshold)):(await r(c,l.attack,u.attack),await r(c,l.knee,u.knee),await r(c,l.ratio,u.ratio),await r(c,l.release,u.release),await r(c,l.threshold,u.threshold)),await s(l,c,u),u};return{render(l,c){const u=i.get(c);return u!==void 0?Promise.resolve(u):o(l,c)}}},tS=()=>new DOMException("","EncodingError"),nS=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),l=URL.createObjectURL(o),c=t.onerror,u=()=>{t.onerror=c,URL.revokeObjectURL(l)};t.onerror=(d,f,m,y,v)=>{if(f===l||f===t.location.href&&m===1&&y===1)return u(),r(v),!1;if(c!==null)return c(d,f,m,y,v)},i.onerror=()=>{u(),r(new SyntaxError)},i.onload=()=>{u(),n()},i.src=l,i.type="module",s.appendChild(i)}}),rS=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},sS=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},iS=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},oS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},aS=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const u=s(l),d={...oS,...c},f=r(u,d),m=i(u),y=m?n():null;super(l,!1,f,y),this._gain=e(this,m,f.gain,wt,bt)}get gain(){return this._gain}},lS=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(l,c)=>{let u=n(l);const d=gt(u,c);if(!d){const f={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(c,f)}return i.set(c,u),d?await t(c,l.gain,u.gain):await r(c,l.gain,u.gain),await s(l,c,u),u};return{render(l,c){const u=i.get(c);return u!==void 0?Promise.resolve(u):o(l,c)}}},uS=(t,e)=>n=>e(t,n),cS=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},hS=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},dS=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},fS=t=>e=>t.get(e),it=()=>new DOMException("","InvalidStateError"),pS=t=>e=>{const n=t.get(e);if(n===void 0)throw it();return n},mS=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},gS=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},ml=()=>new DOMException("","InvalidAccessError"),vS=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw ml();return e.call(t,n,r,s)})(t.getFrequencyResponse)},yS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},_S=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const u=r(l),d=s(u),f={...yS,...c},m=e(u,d?null:l.baseLatency,f),y=d?n(f.feedback,f.feedforward):null;super(l,!1,m,y),vS(m),this._nativeIIRFilterNode=m,i(this,1)}getFrequencyResponse(l,c,u){return this._nativeIIRFilterNode.getFrequencyResponse(l,c,u)}},rv=(t,e,n,r,s,i,o,l,c,u,d)=>{const f=u.length;let m=l;for(let y=0;y<f;y+=1){let v=n[0]*u[y];for(let S=1;S<s;S+=1){const k=m-S&c-1;v+=n[S]*i[k],v-=t[S]*o[k]}for(let S=s;S<r;S+=1)v+=n[S]*i[m-S&c-1];for(let S=s;S<e;S+=1)v-=t[S]*o[m-S&c-1];i[m]=u[y],o[m]=v,m=m+1&c-1,d[y]=v}return m},wS=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),o=s.length,l=i.length,c=Math.min(o,l);if(s[0]!==1){for(let v=0;v<o;v+=1)i[v]/=s[0];for(let v=1;v<l;v+=1)s[v]/=s[0]}const u=32,d=new Float32Array(u),f=new Float32Array(u),m=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),y=t.numberOfChannels;for(let v=0;v<y;v+=1){const S=t.getChannelData(v),k=m.getChannelData(v);d.fill(0),f.fill(0),rv(s,o,i,l,c,d,f,0,u,S,k)}return m},SS=(t,e,n,r,s)=>(i,o)=>{const l=new WeakMap;let c=null;const u=async(d,f)=>{let m=null,y=e(d);const v=gt(y,f);if(f.createIIRFilter===void 0?m=t(f,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):v||(y=f.createIIRFilter(o,i)),l.set(f,m===null?y:m),m!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new n(d.context.destination.channelCount,d.context.length,f.sampleRate);c=(async()=>{await r(d,k,k.destination);const g=await s(k);return wS(g,f,i,o)})()}const S=await c;return m.buffer=S,m.start(0),m}return await r(d,f,y),y};return{render(d,f){const m=l.get(f);return m!==void 0?Promise.resolve(m):u(d,f)}}},xS=(t,e,n,r,s,i)=>o=>(l,c)=>{const u=t.get(l);if(u===void 0){if(!o&&i(l)){const d=r(l),{outputs:f}=n(l);for(const m of f)if(fo(m)){const y=r(m[0]);e(d,y,m[1],m[2])}else{const y=s(m[0]);d.disconnect(y,m[1])}}t.set(l,c)}else t.set(l,u+c)},TS=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},kS=(t,e)=>n=>t.has(n)||e(n),CS=(t,e)=>n=>t.has(n)||e(n),ES=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},NS=t=>e=>t!==null&&e instanceof t,AS=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,bS=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,OS=(t,e)=>n=>t(n)||e(n),MS=t=>e=>t!==null&&e instanceof t,RS=t=>t!==null&&t.isSecureContext,IS=(t,e,n,r)=>class extends t{constructor(i,o){const l=n(i),c=e(l,o);if(r(l))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},DS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},PS=(t,e,n,r)=>class extends t{constructor(i,o){const l=n(i);if(r(l))throw new TypeError;const c={...DS,...o},u=e(l,c);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},FS=(t,e,n,r)=>class extends t{constructor(i,o){const l=n(i),c=e(l,o);if(r(l))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},jS=(t,e,n)=>class extends t{constructor(s,i){const o=n(s),l=e(o,i);super(s,!0,l,null)}},LS=(t,e,n,r,s,i)=>class extends n{constructor(l,c){super(l),this._nativeContext=l,fl.set(this,l),r(l)&&s.set(l,new Set),this._destination=new t(this,c),this._listener=e(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const c=typeof l=="function"?i(this,l):null;this._nativeContext.onstatechange=c;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===c?l:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},eo=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},VS=(t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(o=>(l,c=0,u=0)=>{const d=i.size===0;if(e(l))return o.call(n,l,c,u),t(i,[l,c,u],f=>f[0]===l&&f[1]===c&&f[2]===u,!0),d&&r(),l;o.call(n,l,c),t(i,[l,c],f=>f[0]===l&&f[1]===c,!0),d&&r()})(n.connect),n.disconnect=(o=>(l,c,u)=>{const d=i.size>0;if(l===void 0)o.apply(n),i.clear();else if(typeof l=="number"){o.call(n,l);for(const m of i)m[1]===l&&i.delete(m)}else{e(l)?o.call(n,l,c,u):o.call(n,l,c);for(const m of i)m[0]===l&&(c===void 0||m[1]===c)&&(u===void 0||m[2]===u)&&i.delete(m)}const f=i.size===0;d&&f&&s()})(n.disconnect),n},Fe=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},nt=(t,e)=>{Fe(t,e,"channelCount"),Fe(t,e,"channelCountMode"),Fe(t,e,"channelInterpretation")},gp=t=>typeof t.getFloatTimeDomainData=="function",qS=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},zS=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(nt(s,r),!(r.maxDecibels>r.minDecibels))throw e();return Fe(s,r,"fftSize"),Fe(s,r,"maxDecibels"),Fe(s,r,"minDecibels"),Fe(s,r,"smoothingTimeConstant"),t(gp,()=>gp(s))||qS(s),s},WS=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,$e=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},BS=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw it();e.call(t,r,s,i),n=!0}})(t.start)},Rh=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},Ih=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},US=(t,e,n,r,s,i,o,l,c,u,d)=>(f,m)=>{const y=f.createBufferSource();return nt(y,m),$e(y,m,"playbackRate"),Fe(y,m,"buffer"),Fe(y,m,"loop"),Fe(y,m,"loopEnd"),Fe(y,m,"loopStart"),e(n,()=>n(f))||BS(y),e(r,()=>r(f))||c(y),e(s,()=>s(f))||u(y,f),e(i,()=>i(f))||Rh(y),e(o,()=>o(f))||d(y,f),e(l,()=>l(f))||Ih(y),t(f,y),y},$S=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,QS=(t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",l=>()=>l.call(o),l=>c=>{l.call(o,c);try{i.channelCount=c}catch(u){if(c>i.maxChannelCount)throw u}}),e(o,"channelCountMode",l=>()=>l.call(o),l=>c=>{l.call(o,c),i.channelCountMode=c}),e(o,"channelInterpretation",l=>()=>l.call(o),l=>c=>{l.call(o,c),i.channelInterpretation=c}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},HS=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,GS=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},YS=(t,e,n,r,s)=>(i,o,l,c,u,d)=>{if(l!==null)try{const f=new l(i,c,d),m=new Map;let y=null;if(Object.defineProperties(f,{channelCount:{get:()=>d.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>y,set:v=>{typeof y=="function"&&f.removeEventListener("processorerror",y),y=typeof v=="function"?v:null,typeof y=="function"&&f.addEventListener("processorerror",y)}}}),f.addEventListener=(v=>(...S)=>{if(S[0]==="processorerror"){const k=typeof S[1]=="function"?S[1]:typeof S[1]=="object"&&S[1]!==null&&typeof S[1].handleEvent=="function"?S[1].handleEvent:null;if(k!==null){const g=m.get(S[1]);g!==void 0?S[1]=g:(S[1]=w=>{w.type==="error"?(Object.defineProperties(w,{type:{value:"processorerror"}}),k(w)):k(new ErrorEvent(S[0],{...w}))},m.set(k,S[1]))}}return v.call(f,"error",S[1],S[2]),v.call(f,...S)})(f.addEventListener),f.removeEventListener=(v=>(...S)=>{if(S[0]==="processorerror"){const k=m.get(S[1]);k!==void 0&&(m.delete(S[1]),S[1]=k)}return v.call(f,"error",S[1],S[2]),v.call(f,S[0],S[1],S[2])})(f.removeEventListener),d.numberOfOutputs!==0){const v=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return f.connect(v).connect(i.destination),s(f,()=>v.disconnect(),()=>v.connect(i.destination))}return f}catch(f){throw f.code===11?r():f}if(u===void 0)throw r();return GS(d),e(i,o,u,d)},sv=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),XS=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),ZS=async(t,e)=>{const n=await XS(e);return new t(n)},KS=(t,e,n,r)=>{let s=kc.get(t);s===void 0&&(s=new WeakMap,kc.set(t,s));const i=ZS(n,r);return s.set(e,i),i},JS=(t,e,n,r,s,i,o,l,c,u,d,f,m)=>(y,v,S,k)=>{if(k.numberOfInputs===0&&k.numberOfOutputs===0)throw c();const g=Array.isArray(k.outputChannelCount)?k.outputChannelCount:Array.from(k.outputChannelCount);if(g.some(X=>X<1))throw c();if(g.length!==k.numberOfOutputs)throw e();if(k.channelCountMode!=="explicit")throw c();const w=k.channelCount*k.numberOfInputs,x=g.reduce((X,K)=>X+K,0),A=S.parameterDescriptors===void 0?0:S.parameterDescriptors.length;if(w+A>6||x>6)throw c();const T=new MessageChannel,N=[],b=[];for(let X=0;X<k.numberOfInputs;X+=1)N.push(o(y,{channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation,gain:1})),b.push(s(y,{channelCount:k.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:k.channelCount}));const E=[];if(S.parameterDescriptors!==void 0)for(const{defaultValue:X,maxValue:K,minValue:Ve,name:Ce}of S.parameterDescriptors){const ve=i(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:k.parameterData[Ce]!==void 0?k.parameterData[Ce]:X===void 0?0:X});Object.defineProperties(ve.offset,{defaultValue:{get:()=>X===void 0?0:X},maxValue:{get:()=>K===void 0?wt:K},minValue:{get:()=>Ve===void 0?bt:Ve}}),E.push(ve)}const L=r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,w+A)}),I=sv(v,y.sampleRate),D=l(y,I,w+A,Math.max(1,x)),j=s(y,{channelCount:Math.max(1,x),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,x)}),z=[];for(let X=0;X<k.numberOfOutputs;X+=1)z.push(r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[X]}));for(let X=0;X<k.numberOfInputs;X+=1){N[X].connect(b[X]);for(let K=0;K<k.channelCount;K+=1)b[X].connect(L,K,X*k.channelCount+K)}const B=new tv(S.parameterDescriptors===void 0?[]:S.parameterDescriptors.map(({name:X},K)=>{const Ve=E[K];return Ve.connect(L,0,w+K),Ve.start(0),[X,Ve.offset]}));L.connect(D);let ne=k.channelInterpretation,Q=null;const Z=k.numberOfOutputs===0?[D]:z,V={get bufferSize(){return I},get channelCount(){return k.channelCount},set channelCount(X){throw n()},get channelCountMode(){return k.channelCountMode},set channelCountMode(X){throw n()},get channelInterpretation(){return ne},set channelInterpretation(X){for(const K of N)K.channelInterpretation=X;ne=X},get context(){return D.context},get inputs(){return N},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get onprocessorerror(){return Q},set onprocessorerror(X){typeof Q=="function"&&V.removeEventListener("processorerror",Q),Q=typeof X=="function"?X:null,typeof Q=="function"&&V.addEventListener("processorerror",Q)},get parameters(){return B},get port(){return T.port2},addEventListener(...X){return D.addEventListener(X[0],X[1],X[2])},connect:t.bind(null,Z),disconnect:u.bind(null,Z),dispatchEvent(...X){return D.dispatchEvent(X[0])},removeEventListener(...X){return D.removeEventListener(X[0],X[1],X[2])}},W=new Map;T.port1.addEventListener=(X=>(...K)=>{if(K[0]==="message"){const Ve=typeof K[1]=="function"?K[1]:typeof K[1]=="object"&&K[1]!==null&&typeof K[1].handleEvent=="function"?K[1].handleEvent:null;if(Ve!==null){const Ce=W.get(K[1]);Ce!==void 0?K[1]=Ce:(K[1]=ve=>{d(y.currentTime,y.sampleRate,()=>Ve(ve))},W.set(Ve,K[1]))}}return X.call(T.port1,K[0],K[1],K[2])})(T.port1.addEventListener),T.port1.removeEventListener=(X=>(...K)=>{if(K[0]==="message"){const Ve=W.get(K[1]);Ve!==void 0&&(W.delete(K[1]),K[1]=Ve)}return X.call(T.port1,K[0],K[1],K[2])})(T.port1.removeEventListener);let $=null;Object.defineProperty(T.port1,"onmessage",{get:()=>$,set:X=>{typeof $=="function"&&T.port1.removeEventListener("message",$),$=typeof X=="function"?X:null,typeof $=="function"&&(T.port1.addEventListener("message",$),T.port1.start())}}),S.prototype.port=T.port1;let G=null;KS(y,V,S,k).then(X=>G=X);const De=Qa(k.numberOfInputs,k.channelCount),F=Qa(k.numberOfOutputs,g),Y=S.parameterDescriptors===void 0?[]:S.parameterDescriptors.reduce((X,{name:K})=>({...X,[K]:new Float32Array(128)}),{});let ae=!0;const we=()=>{k.numberOfOutputs>0&&D.disconnect(j);for(let X=0,K=0;X<k.numberOfOutputs;X+=1){const Ve=z[X];for(let Ce=0;Ce<g[X];Ce+=1)j.disconnect(Ve,K+Ce,Ce);K+=g[X]}},ee=new Map;D.onaudioprocess=({inputBuffer:X,outputBuffer:K})=>{if(G!==null){const Ve=f(V);for(let Ce=0;Ce<I;Ce+=128){for(let ve=0;ve<k.numberOfInputs;ve+=1)for(let be=0;be<k.channelCount;be+=1)$a(X,De[ve],be,be,Ce);S.parameterDescriptors!==void 0&&S.parameterDescriptors.forEach(({name:ve},be)=>{$a(X,Y,ve,w+be,Ce)});for(let ve=0;ve<k.numberOfInputs;ve+=1)for(let be=0;be<g[ve];be+=1)F[ve][be].byteLength===0&&(F[ve][be]=new Float32Array(128));try{const ve=De.map((ot,Tn)=>{if(Ve[Tn].size>0)return ee.set(Tn,I/128),ot;const ai=ee.get(Tn);return ai===void 0?[]:(ot.every(li=>li.every(Pr=>Pr===0))&&(ai===1?ee.delete(Tn):ee.set(Tn,ai-1)),ot)});ae=d(y.currentTime+Ce/y.sampleRate,y.sampleRate,()=>G.process(ve,F,Y));for(let ot=0,Tn=0;ot<k.numberOfOutputs;ot+=1){for(let er=0;er<g[ot];er+=1)nv(K,F[ot],er,Tn+er,Ce);Tn+=g[ot]}}catch(ve){ae=!1,V.dispatchEvent(new ErrorEvent("processorerror",{colno:ve.colno,filename:ve.filename,lineno:ve.lineno,message:ve.message}))}if(!ae){for(let ve=0;ve<k.numberOfInputs;ve+=1){N[ve].disconnect(b[ve]);for(let be=0;be<k.channelCount;be+=1)b[Ce].disconnect(L,be,ve*k.channelCount+be)}if(S.parameterDescriptors!==void 0){const ve=S.parameterDescriptors.length;for(let be=0;be<ve;be+=1){const ot=E[be];ot.disconnect(L,0,w+be),ot.stop()}}L.disconnect(D),D.onaudioprocess=null,Sn?we():ht();break}}}};let Sn=!1;const xn=o(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Jn=()=>D.connect(xn).connect(y.destination),ht=()=>{D.disconnect(xn),xn.disconnect()},oi=()=>{if(ae){ht(),k.numberOfOutputs>0&&D.connect(j);for(let X=0,K=0;X<k.numberOfOutputs;X+=1){const Ve=z[X];for(let Ce=0;Ce<g[X];Ce+=1)j.connect(Ve,K+Ce,Ce);K+=g[X]}}Sn=!0},Dr=()=>{ae&&(Jn(),we()),Sn=!1};return Jn(),m(V,oi,Dr)},iv=(t,e)=>{const n=t.createBiquadFilter();return nt(n,e),$e(n,e,"Q"),$e(n,e,"detune"),$e(n,e,"frequency"),$e(n,e,"gain"),Fe(n,e,"type"),n},ex=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),nt(s,r),s},tx=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw it()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw it()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw it()}})},po=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return nt(n,e),tx(n),n},nx=(t,e,n,r,s)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const l=i.createConstantSource();return nt(l,o),$e(l,o,"offset"),e(r,()=>r(i))||Rh(l),e(s,()=>s(i))||Ih(l),t(i,l),l},ti=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),rx=(t,e,n,r)=>(s,{offset:i,...o})=>{const l=s.createBuffer(1,2,44100),c=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(s,{...o,gain:i}),d=l.getChannelData(0);d[0]=1,d[1]=1,c.buffer=l,c.loop=!0;const f={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(v){u.channelCount=v},get channelCountMode(){return u.channelCountMode},set channelCountMode(v){u.channelCountMode=v},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(v){u.channelInterpretation=v},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return c.onended},set onended(v){c.onended=v},addEventListener(...v){return c.addEventListener(v[0],v[1],v[2])},dispatchEvent(...v){return c.dispatchEvent(v[0])},removeEventListener(...v){return c.removeEventListener(v[0],v[1],v[2])},start(v=0){c.start.call(c,v)},stop(v=0){c.stop.call(c,v)}},m=()=>c.connect(u),y=()=>c.disconnect(u);return t(s,c),r(ti(f,u),m,y)},sx=(t,e)=>(n,r)=>{const s=n.createConvolver();if(nt(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),Fe(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>o=>{if(o>2)throw t();return i.call(s,o)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>o=>{if(o==="max")throw t();return i.call(s,o)}),s},ov=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return nt(n,e),$e(n,e,"delayTime"),n},ix=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(nt(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return $e(r,n,"attack"),$e(r,n,"knee"),$e(r,n,"ratio"),$e(r,n,"release"),$e(r,n,"threshold"),r},Pt=(t,e)=>{const n=t.createGain();return nt(n,e),$e(n,e,"gain"),n},ox=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return nt(s,r),s};function ax(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function lx(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function vp(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=lx(n,e),n[0]+=t[r];return n}const ux=(t,e,n,r)=>(s,i,{channelCount:o,channelCountMode:l,channelInterpretation:c,feedback:u,feedforward:d})=>{const f=sv(i,s.sampleRate),m=u instanceof Float64Array?u:new Float64Array(u),y=d instanceof Float64Array?d:new Float64Array(d),v=m.length,S=y.length,k=Math.min(v,S);if(v===0||v>20)throw r();if(m[0]===0)throw e();if(S===0||S>20)throw r();if(y[0]===0)throw e();if(m[0]!==1){for(let E=0;E<S;E+=1)y[E]/=m[0];for(let E=1;E<v;E+=1)m[E]/=m[0]}const g=n(s,f,o,o);g.channelCount=o,g.channelCountMode=l,g.channelInterpretation=c;const w=32,x=[],A=[],T=[];for(let E=0;E<o;E+=1){x.push(0);const L=new Float32Array(w),I=new Float32Array(w);L.fill(0),I.fill(0),A.push(L),T.push(I)}g.onaudioprocess=E=>{const L=E.inputBuffer,I=E.outputBuffer,D=L.numberOfChannels;for(let j=0;j<D;j+=1){const z=L.getChannelData(j),B=I.getChannelData(j);x[j]=rv(m,v,y,S,k,A[j],T[j],x[j],w,z,B)}};const N=s.sampleRate/2;return ti({get bufferSize(){return f},get channelCount(){return g.channelCount},set channelCount(E){g.channelCount=E},get channelCountMode(){return g.channelCountMode},set channelCountMode(E){g.channelCountMode=E},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(E){g.channelInterpretation=E},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener(...E){return g.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return g.dispatchEvent(E[0])},getFrequencyResponse(E,L,I){if(E.length!==L.length||L.length!==I.length)throw t();const D=E.length;for(let j=0;j<D;j+=1){const z=-Math.PI*(E[j]/N),B=[Math.cos(z),Math.sin(z)],ne=vp(y,B),Q=vp(m,B),Z=ax(ne,Q);L[j]=Math.sqrt(Z[0]*Z[0]+Z[1]*Z[1]),I[j]=Math.atan2(Z[1],Z[0])}},removeEventListener(...E){return g.removeEventListener(E[0],E[1],E[2])}},g)},cx=(t,e)=>t.createMediaElementSource(e.mediaElement),hx=(t,e)=>{const n=t.createMediaStreamDestination();return nt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},dx=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},fx=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},px=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,mx=(t,e,n,r,s,i)=>(o,l)=>{const c=o.createOscillator();return nt(c,l),$e(c,l,"detune"),$e(c,l,"frequency"),l.periodicWave!==void 0?c.setPeriodicWave(l.periodicWave):Fe(c,l,"type"),e(n,()=>n(o))||Rh(c),e(r,()=>r(o))||i(c,o),e(s,()=>s(o))||Ih(c),t(o,c),c},gx=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(nt(r,n),$e(r,n,"orientationX"),$e(r,n,"orientationY"),$e(r,n,"orientationZ"),$e(r,n,"positionX"),$e(r,n,"positionY"),$e(r,n,"positionZ"),Fe(r,n,"coneInnerAngle"),Fe(r,n,"coneOuterAngle"),Fe(r,n,"coneOuterGain"),Fe(r,n,"distanceModel"),Fe(r,n,"maxDistance"),Fe(r,n,"panningModel"),Fe(r,n,"refDistance"),Fe(r,n,"rolloffFactor"),r)},vx=(t,e,n,r,s,i,o,l,c,u)=>(d,{coneInnerAngle:f,coneOuterAngle:m,coneOuterGain:y,distanceModel:v,maxDistance:S,orientationX:k,orientationY:g,orientationZ:w,panningModel:x,positionX:A,positionY:T,positionZ:N,refDistance:b,rolloffFactor:E,...L})=>{const I=d.createPanner();if(L.channelCount>2||L.channelCountMode==="max")throw o();nt(I,L);const D={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},j=n(d,{...D,channelInterpretation:"speakers",numberOfInputs:6}),z=r(d,{...L,gain:1}),B=r(d,{...D,gain:1}),ne=r(d,{...D,gain:0}),Q=r(d,{...D,gain:0}),Z=r(d,{...D,gain:0}),V=r(d,{...D,gain:0}),W=r(d,{...D,gain:0}),$=s(d,256,6,1),G=i(d,{...D,curve:new Float32Array([1,1]),oversample:"none"});let re=[k,g,w],De=[A,T,N];const F=new Float32Array(1);$.onaudioprocess=({inputBuffer:ee})=>{const Sn=[c(ee,F,0),c(ee,F,1),c(ee,F,2)];Sn.some((Jn,ht)=>Jn!==re[ht])&&(I.setOrientation(...Sn),re=Sn);const xn=[c(ee,F,3),c(ee,F,4),c(ee,F,5)];xn.some((Jn,ht)=>Jn!==De[ht])&&(I.setPosition(...xn),De=xn)},Object.defineProperty(ne.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"defaultValue",{get:()=>0});const Y={get bufferSize(){},get channelCount(){return I.channelCount},set channelCount(ee){if(ee>2)throw o();z.channelCount=ee,I.channelCount=ee},get channelCountMode(){return I.channelCountMode},set channelCountMode(ee){if(ee==="max")throw o();z.channelCountMode=ee,I.channelCountMode=ee},get channelInterpretation(){return I.channelInterpretation},set channelInterpretation(ee){z.channelInterpretation=ee,I.channelInterpretation=ee},get coneInnerAngle(){return I.coneInnerAngle},set coneInnerAngle(ee){I.coneInnerAngle=ee},get coneOuterAngle(){return I.coneOuterAngle},set coneOuterAngle(ee){I.coneOuterAngle=ee},get coneOuterGain(){return I.coneOuterGain},set coneOuterGain(ee){if(ee<0||ee>1)throw e();I.coneOuterGain=ee},get context(){return I.context},get distanceModel(){return I.distanceModel},set distanceModel(ee){I.distanceModel=ee},get inputs(){return[z]},get maxDistance(){return I.maxDistance},set maxDistance(ee){if(ee<0)throw new RangeError;I.maxDistance=ee},get numberOfInputs(){return I.numberOfInputs},get numberOfOutputs(){return I.numberOfOutputs},get orientationX(){return B.gain},get orientationY(){return ne.gain},get orientationZ(){return Q.gain},get panningModel(){return I.panningModel},set panningModel(ee){I.panningModel=ee},get positionX(){return Z.gain},get positionY(){return V.gain},get positionZ(){return W.gain},get refDistance(){return I.refDistance},set refDistance(ee){if(ee<0)throw new RangeError;I.refDistance=ee},get rolloffFactor(){return I.rolloffFactor},set rolloffFactor(ee){if(ee<0)throw new RangeError;I.rolloffFactor=ee},addEventListener(...ee){return z.addEventListener(ee[0],ee[1],ee[2])},dispatchEvent(...ee){return z.dispatchEvent(ee[0])},removeEventListener(...ee){return z.removeEventListener(ee[0],ee[1],ee[2])}};f!==Y.coneInnerAngle&&(Y.coneInnerAngle=f),m!==Y.coneOuterAngle&&(Y.coneOuterAngle=m),y!==Y.coneOuterGain&&(Y.coneOuterGain=y),v!==Y.distanceModel&&(Y.distanceModel=v),S!==Y.maxDistance&&(Y.maxDistance=S),k!==Y.orientationX.value&&(Y.orientationX.value=k),g!==Y.orientationY.value&&(Y.orientationY.value=g),w!==Y.orientationZ.value&&(Y.orientationZ.value=w),x!==Y.panningModel&&(Y.panningModel=x),A!==Y.positionX.value&&(Y.positionX.value=A),T!==Y.positionY.value&&(Y.positionY.value=T),N!==Y.positionZ.value&&(Y.positionZ.value=N),b!==Y.refDistance&&(Y.refDistance=b),E!==Y.rolloffFactor&&(Y.rolloffFactor=E),(re[0]!==1||re[1]!==0||re[2]!==0)&&I.setOrientation(...re),(De[0]!==0||De[1]!==0||De[2]!==0)&&I.setPosition(...De);const ae=()=>{z.connect(I),t(z,G,0,0),G.connect(B).connect(j,0,0),G.connect(ne).connect(j,0,1),G.connect(Q).connect(j,0,2),G.connect(Z).connect(j,0,3),G.connect(V).connect(j,0,4),G.connect(W).connect(j,0,5),j.connect($).connect(d.destination)},we=()=>{z.disconnect(I),l(z,G,0,0),G.disconnect(B),B.disconnect(j),G.disconnect(ne),ne.disconnect(j),G.disconnect(Q),Q.disconnect(j),G.disconnect(Z),Z.disconnect(j),G.disconnect(V),V.disconnect(j),G.disconnect(W),W.disconnect(j),j.disconnect($),$.disconnect(d.destination)};return u(ti(Y,I),ae,we)},yx=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),o=s instanceof Float32Array?s:new Float32Array(s),l=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return l},mo=(t,e,n,r)=>t.createScriptProcessor(e,n,r),_x=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return nt(i,r),$e(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),i},wx=(t,e,n,r,s,i)=>{const l=new Float32Array([1,1]),c=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},d={...u,oversample:"none"},f=(v,S,k,g)=>{const w=new Float32Array(16385),x=new Float32Array(16385);for(let L=0;L<16385;L+=1){const I=L/16384*c;w[L]=Math.cos(I),x[L]=Math.sin(I)}const A=n(v,{...u,gain:0}),T=r(v,{...d,curve:w}),N=r(v,{...d,curve:l}),b=n(v,{...u,gain:0}),E=r(v,{...d,curve:x});return{connectGraph(){S.connect(A),S.connect(N.inputs===void 0?N:N.inputs[0]),S.connect(b),N.connect(k),k.connect(T.inputs===void 0?T:T.inputs[0]),k.connect(E.inputs===void 0?E:E.inputs[0]),T.connect(A.gain),E.connect(b.gain),A.connect(g,0,0),b.connect(g,0,1)},disconnectGraph(){S.disconnect(A),S.disconnect(N.inputs===void 0?N:N.inputs[0]),S.disconnect(b),N.disconnect(k),k.disconnect(T.inputs===void 0?T:T.inputs[0]),k.disconnect(E.inputs===void 0?E:E.inputs[0]),T.disconnect(A.gain),E.disconnect(b.gain),A.disconnect(g,0,0),b.disconnect(g,0,1)}}},m=(v,S,k,g)=>{const w=new Float32Array(16385),x=new Float32Array(16385),A=new Float32Array(16385),T=new Float32Array(16385),N=Math.floor(16385/2);for(let Z=0;Z<16385;Z+=1)if(Z>N){const V=(Z-N)/(16384-N)*c;w[Z]=Math.cos(V),x[Z]=Math.sin(V),A[Z]=0,T[Z]=1}else{const V=Z/(16384-N)*c;w[Z]=1,x[Z]=0,A[Z]=Math.cos(V),T[Z]=Math.sin(V)}const b=e(v,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),E=n(v,{...u,gain:0}),L=r(v,{...d,curve:w}),I=n(v,{...u,gain:0}),D=r(v,{...d,curve:x}),j=r(v,{...d,curve:l}),z=n(v,{...u,gain:0}),B=r(v,{...d,curve:A}),ne=n(v,{...u,gain:0}),Q=r(v,{...d,curve:T});return{connectGraph(){S.connect(b),S.connect(j.inputs===void 0?j:j.inputs[0]),b.connect(E,0),b.connect(I,0),b.connect(z,1),b.connect(ne,1),j.connect(k),k.connect(L.inputs===void 0?L:L.inputs[0]),k.connect(D.inputs===void 0?D:D.inputs[0]),k.connect(B.inputs===void 0?B:B.inputs[0]),k.connect(Q.inputs===void 0?Q:Q.inputs[0]),L.connect(E.gain),D.connect(I.gain),B.connect(z.gain),Q.connect(ne.gain),E.connect(g,0,0),z.connect(g,0,0),I.connect(g,0,1),ne.connect(g,0,1)},disconnectGraph(){S.disconnect(b),S.disconnect(j.inputs===void 0?j:j.inputs[0]),b.disconnect(E,0),b.disconnect(I,0),b.disconnect(z,1),b.disconnect(ne,1),j.disconnect(k),k.disconnect(L.inputs===void 0?L:L.inputs[0]),k.disconnect(D.inputs===void 0?D:D.inputs[0]),k.disconnect(B.inputs===void 0?B:B.inputs[0]),k.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),L.disconnect(E.gain),D.disconnect(I.gain),B.disconnect(z.gain),Q.disconnect(ne.gain),E.disconnect(g,0,0),z.disconnect(g,0,0),I.disconnect(g,0,1),ne.disconnect(g,0,1)}}},y=(v,S,k,g,w)=>{if(S===1)return f(v,k,g,w);if(S===2)return m(v,k,g,w);throw s()};return(v,{channelCount:S,channelCountMode:k,pan:g,...w})=>{if(k==="max")throw s();const x=t(v,{...w,channelCount:1,channelCountMode:k,numberOfInputs:2}),A=n(v,{...w,channelCount:S,channelCountMode:k,gain:1}),T=n(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:g});let{connectGraph:N,disconnectGraph:b}=y(v,S,A,T,x);Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(T.gain,"maxValue",{get:()=>1}),Object.defineProperty(T.gain,"minValue",{get:()=>-1});const E={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(j){A.channelCount!==j&&(L&&b(),{connectGraph:N,disconnectGraph:b}=y(v,j,A,T,x),L&&N()),A.channelCount=j},get channelCountMode(){return A.channelCountMode},set channelCountMode(j){if(j==="clamped-max"||j==="max")throw s();A.channelCountMode=j},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(j){A.channelInterpretation=j},get context(){return A.context},get inputs(){return[A]},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get pan(){return T.gain},addEventListener(...j){return A.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return A.dispatchEvent(j[0])},removeEventListener(...j){return A.removeEventListener(j[0],j[1],j[2])}};let L=!1;const I=()=>{N(),L=!0},D=()=>{b(),L=!1};return i(ti(E,x),I,D)}},Sx=(t,e,n,r,s,i,o)=>(l,c)=>{const u=l.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&l.createGain().gain.automationRate===void 0)return n(l,c);nt(u,c);const d=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(d!==null&&d.length<2)throw e();Fe(u,{curve:d},"curve"),Fe(u,c,"oversample");let f=null,m=!1;return o(u,"curve",S=>()=>S.call(u),S=>k=>(S.call(u,k),m&&(r(k)&&f===null?f=t(l,u):!r(k)&&f!==null&&(f(),f=null)),k)),s(u,()=>{m=!0,r(u.curve)&&(f=t(l,u))},()=>{m=!1,f!==null&&(f(),f=null)})},xx=(t,e,n,r,s)=>(i,{curve:o,oversample:l,...c})=>{const u=i.createWaveShaper(),d=i.createWaveShaper();nt(u,c),nt(d,c);const f=n(i,{...c,gain:1}),m=n(i,{...c,gain:-1}),y=n(i,{...c,gain:1}),v=n(i,{...c,gain:-1});let S=null,k=!1,g=null;const w={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(T){f.channelCount=T,m.channelCount=T,u.channelCount=T,y.channelCount=T,d.channelCount=T,v.channelCount=T},get channelCountMode(){return u.channelCountMode},set channelCountMode(T){f.channelCountMode=T,m.channelCountMode=T,u.channelCountMode=T,y.channelCountMode=T,d.channelCountMode=T,v.channelCountMode=T},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(T){f.channelInterpretation=T,m.channelInterpretation=T,u.channelInterpretation=T,y.channelInterpretation=T,d.channelInterpretation=T,v.channelInterpretation=T},get context(){return u.context},get curve(){return g},set curve(T){if(T!==null&&T.length<2)throw e();if(T===null)u.curve=T,d.curve=T;else{const N=T.length,b=new Float32Array(N+2-N%2),E=new Float32Array(N+2-N%2);b[0]=T[0],E[0]=-T[N-1];const L=Math.ceil((N+1)/2),I=(N+1)/2-1;for(let D=1;D<L;D+=1){const j=D/L*I,z=Math.floor(j),B=Math.ceil(j);b[D]=z===B?T[z]:(1-(j-z))*T[z]+(1-(B-j))*T[B],E[D]=z===B?-T[N-1-z]:-((1-(j-z))*T[N-1-z])-(1-(B-j))*T[N-1-B]}b[L]=N%2===1?T[L-1]:(T[L-2]+T[L-1])/2,u.curve=b,d.curve=E}g=T,k&&(r(g)&&S===null?S=t(i,f):S!==null&&(S(),S=null))},get inputs(){return[f]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(T){u.oversample=T,d.oversample=T},addEventListener(...T){return f.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return f.dispatchEvent(T[0])},removeEventListener(...T){return f.removeEventListener(T[0],T[1],T[2])}};o!==null&&(w.curve=o instanceof Float32Array?o:new Float32Array(o)),l!==w.oversample&&(w.oversample=l);const x=()=>{f.connect(u).connect(y),f.connect(m).connect(d).connect(v).connect(y),k=!0,r(g)&&(S=t(i,f))},A=()=>{f.disconnect(u),u.disconnect(y),f.disconnect(m),m.disconnect(d),d.disconnect(v),v.disconnect(y),k=!1,S!==null&&(S(),S=null)};return s(ti(w,y),x,A)},Ct=()=>new DOMException("","NotSupportedError"),Tx={numberOfChannels:1},kx=(t,e,n,r,s)=>class extends t{constructor(o,l,c){let u;if(typeof o=="number"&&l!==void 0&&c!==void 0)u={length:l,numberOfChannels:o,sampleRate:c};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:d,numberOfChannels:f,sampleRate:m}={...Tx,...u},y=r(f,d,m);e(eo,()=>eo(y))||y.addEventListener("statechange",(()=>{let v=0;const S=k=>{this._state==="running"&&(v>0?(y.removeEventListener("statechange",S),k.stopImmediatePropagation(),this._waitForThePromiseToSettle(k)):v+=1)};return S})()),super(y,f),this._length=d,this._nativeOfflineAudioContext=y,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Zg(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},Cx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Ex=(t,e,n,r,s,i,o)=>class extends t{constructor(c,u){const d=s(c),f={...Cx,...u},m=n(d,f),y=i(d),v=y?r():null,S=c.sampleRate/2;super(c,!1,m,v),this._detune=e(this,y,m.detune,153600,-153600),this._frequency=e(this,y,m.frequency,S,-S),this._nativeOscillatorNode=m,this._onended=null,this._oscillatorNodeRenderer=v,this._oscillatorNodeRenderer!==null&&f.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=f.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?o(this,c):null;this._nativeOscillatorNode.onended=u;const d=this._nativeOscillatorNode.onended;this._onended=d!==null&&d===u?c:d}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){$s(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),Wn(this)&&co(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}},Nx=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,l=null,c=null;const u=async(d,f)=>{let m=n(d);const y=gt(m,f);if(!y){const v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,periodicWave:o===null?void 0:o,type:m.type};m=e(f,v),l!==null&&m.start(l),c!==null&&m.stop(c)}return i.set(f,m),y?(await t(f,d.detune,m.detune),await t(f,d.frequency,m.frequency)):(await r(f,d.detune,m.detune),await r(f,d.frequency,m.frequency)),await s(d,f,m),m};return{set periodicWave(d){o=d},set start(d){l=d},set stop(d){c=d},render(d,f){const m=i.get(f);return m!==void 0?Promise.resolve(m):u(d,f)}}},Ax={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},bx=(t,e,n,r,s,i,o)=>class extends t{constructor(c,u){const d=s(c),f={...Ax,...u},m=n(d,f),y=i(d),v=y?r():null;super(c,!1,m,v),this._nativePannerNode=m,this._orientationX=e(this,y,m.orientationX,wt,bt),this._orientationY=e(this,y,m.orientationY,wt,bt),this._orientationZ=e(this,y,m.orientationZ,wt,bt),this._positionX=e(this,y,m.positionX,wt,bt),this._positionY=e(this,y,m.positionY,wt,bt),this._positionZ=e(this,y,m.positionZ,wt,bt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}},Ox=(t,e,n,r,s,i,o,l,c,u)=>()=>{const d=new WeakMap;let f=null;const m=async(y,v)=>{let S=null,k=i(y);const g={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation},w={...g,coneInnerAngle:k.coneInnerAngle,coneOuterAngle:k.coneOuterAngle,coneOuterGain:k.coneOuterGain,distanceModel:k.distanceModel,maxDistance:k.maxDistance,panningModel:k.panningModel,refDistance:k.refDistance,rolloffFactor:k.rolloffFactor},x=gt(k,v);if("bufferSize"in k)S=r(v,{...g,gain:1});else if(!x){const A={...w,orientationX:k.orientationX.value,orientationY:k.orientationY.value,orientationZ:k.orientationZ.value,positionX:k.positionX.value,positionY:k.positionY.value,positionZ:k.positionZ.value};k=s(v,A)}if(d.set(v,S===null?k:S),S!==null){if(f===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const D=new o(6,y.context.length,v.sampleRate),j=e(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});j.connect(D.destination),f=(async()=>{const z=await Promise.all([y.orientationX,y.orientationY,y.orientationZ,y.positionX,y.positionY,y.positionZ].map(async(B,ne)=>{const Q=n(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ne===0?1:0});return await l(D,B,Q.offset),Q}));for(let B=0;B<6;B+=1)z[B].connect(j,0,B),z[B].start(0);return u(D)})()}const A=await f,T=r(v,{...g,gain:1});await c(y,v,T);const N=[];for(let D=0;D<A.numberOfChannels;D+=1)N.push(A.getChannelData(D));let b=[N[0][0],N[1][0],N[2][0]],E=[N[3][0],N[4][0],N[5][0]],L=r(v,{...g,gain:1}),I=s(v,{...w,orientationX:b[0],orientationY:b[1],orientationZ:b[2],positionX:E[0],positionY:E[1],positionZ:E[2]});T.connect(L).connect(I.inputs[0]),I.connect(S);for(let D=128;D<A.length;D+=128){const j=[N[0][D],N[1][D],N[2][D]],z=[N[3][D],N[4][D],N[5][D]];if(j.some((B,ne)=>B!==b[ne])||z.some((B,ne)=>B!==E[ne])){b=j,E=z;const B=D/v.sampleRate;L.gain.setValueAtTime(0,B),L=r(v,{...g,gain:0}),I=s(v,{...w,orientationX:b[0],orientationY:b[1],orientationZ:b[2],positionX:E[0],positionY:E[1],positionZ:E[2]}),L.gain.setValueAtTime(1,B),T.connect(L).connect(I.inputs[0]),I.connect(S)}}return S}return x?(await t(v,y.orientationX,k.orientationX),await t(v,y.orientationY,k.orientationY),await t(v,y.orientationZ,k.orientationZ),await t(v,y.positionX,k.positionX),await t(v,y.positionY,k.positionY),await t(v,y.positionZ,k.positionZ)):(await l(v,y.orientationX,k.orientationX),await l(v,y.orientationY,k.orientationY),await l(v,y.orientationZ,k.orientationZ),await l(v,y.positionX,k.positionX),await l(v,y.positionY,k.positionY),await l(v,y.positionZ,k.positionZ)),ei(k)?await c(y,v,k.inputs[0]):await c(y,v,k),k};return{render(y,v){const S=d.get(v);return S!==void 0?Promise.resolve(S):m(y,v)}}},Mx={disableNormalization:!1},Rx=(t,e,n,r)=>class av{constructor(i,o){const l=e(i),c=r({...Mx,...o}),u=t(l,c);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===av.prototype||n.has(i)}},Ix=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),Dx=(t,e,n)=>async(r,s,i)=>{const o=t(r);await Promise.all(o.activeInputs.map((l,c)=>Array.from(l).map(async([u,d])=>{const m=await e(u).render(u,s),y=r.context.destination;!n(u)&&(r!==y||!n(r))&&m.connect(i,d,c)})).reduce((l,c)=>[...l,...c],[]))},Px=(t,e,n)=>async(r,s,i)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([l,c])=>{const d=await t(l).render(l,s);n(l)||d.connect(i,c)}))},Fx=(t,e,n,r)=>s=>t(eo,()=>eo(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const o=n(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=l=>{o.disconnect(),i(l.renderedBuffer)},o.connect(s.destination),s.startRendering()}),jx=t=>(e,n)=>{t.set(e,n)},Lx=t=>(e,n)=>t.set(e,n),Vx=(t,e,n,r,s,i,o,l)=>(c,u)=>n(c).render(c,u).then(()=>Promise.all(Array.from(r(u)).map(d=>n(d).render(d,u)))).then(()=>s(u)).then(d=>(typeof d.copyFromChannel!="function"?(o(d),bh(d)):e(i,()=>i(d))||l(d),t.add(d),d)),qx={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},zx=(t,e,n,r,s,i)=>class extends t{constructor(l,c){const u=s(l),d={...qx,...c},f=n(u,d),m=i(u),y=m?r():null;super(l,!1,f,y),this._pan=e(this,m,f.pan)}get pan(){return this._pan}},Wx=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(l,c)=>{let u=n(l);const d=gt(u,c);if(!d){const f={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(c,f)}return i.set(c,u),d?await t(c,l.pan,u.pan):await r(c,l.pan,u.pan),ei(u)?await s(l,c,u.inputs[0]):await s(l,c,u),u};return{render(l,c){const u=i.get(c);return u!==void 0?Promise.resolve(u):o(l,c)}}},Bx=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Ux=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,o=!1;try{await r.audioWorklet.addModule(s);const l=new t(r,"a",{numberOfOutputs:0}),c=r.createOscillator();l.port.onmessage=()=>i=!0,l.onprocessorerror=()=>o=!0,c.connect(l),c.start(0),await r.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(s)}return i&&!o},$x=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},Qx=()=>new DOMException("","UnknownError"),Hx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Gx=(t,e,n,r,s,i,o)=>class extends t{constructor(c,u){const d=s(c),f={...Hx,...u},m=n(d,f),v=i(d)?r():null;super(c,!0,m,v),this._isCurveNullified=!1,this._nativeWaveShaperNode=m,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}},Yx=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let l=e(i);if(!gt(l,o)){const u={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,curve:l.curve,oversample:l.oversample};l=t(o,u)}return r.set(o,l),ei(l)?await n(i,o,l.inputs[0]):await n(i,o,l),l};return{render(i,o){const l=r.get(o);return l!==void 0?Promise.resolve(l):s(i,o)}}},Xx=()=>typeof window>"u"?null:window,Zx=(t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const o=t(i),l=t(s);if(l>=n.numberOfChannels)throw e();const c=n.length,u=n.getChannelData(l),d=r.length;for(let f=o<0?-o:0;f+o<c&&f<d;f+=1)r[f]=u[f+o]},n.copyToChannel=(r,s,i=0)=>{const o=t(i),l=t(s);if(l>=n.numberOfChannels)throw e();const c=n.length,u=n.getChannelData(l),d=r.length;for(let f=o<0?-o:0;f+o<c&&f<d;f+=1)u[f+o]=r[f]}},Kx=t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const o=t(i),l=t(s);if(o<e.length)return n.call(e,r,l,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const o=t(i),l=t(s);if(o<e.length)return n.call(e,r,l,o)})(e.copyToChannel)},Jx=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},eT=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const l=r.numberOfInputs;for(let c=0;c<l;c+=1)s.connect(r,0,c)},()=>s.disconnect(r))},lv=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),uv=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},go=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(o)})},tT=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),nT=t=>({...t,channelCount:t.numberOfOutputs}),rT=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},cv=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;cv(t,e,n+1e-7)}},sT=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},iT=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},oT=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Dh=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},hv=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Ph=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},aT=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},lT=t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,o=i===null?r:Math.min(i.duration,r);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)},dv=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),ti(t,n),t.stop=(s=>{let i=!1;return(o=0)=>{if(i)try{s.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else s.call(t,o),i=!0}})(t.stop)},ni=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},uT=b1(is),cT=P1(is),hT=Hw(pl),fv=new WeakMap,dT=hS(fv),yn=Tw(new Map,new WeakMap),On=Xx(),pv=zS(yn,Mn),Fh=cS(St),ct=Dx(St,Fh,es),fT=q1(pv,Ie,ct),Ae=pS(fl),Xn=px(On),ke=MS(Xn),mv=new WeakMap,gv=rS(ni),vo=$S(On),jh=NS(vo),Lh=AS(On),vv=bS(On),to=HS(On),Ye=hw(O1(Ug),D1(uT,cT,Wa,hT,Ba,St,dT,uo,Ie,is,Wn,es,da),yn,xS(xc,Ba,St,Ie,Ji,Wn),Mn,ml,Ct,Bw(Wa,xc,St,Ie,Ji,Ae,Wn,ke),Xw(mv,St,vn),gv,Ae,jh,Lh,vv,ke,to),pT=V1(Ye,fT,Mn,pv,Ae,ke),Vh=new WeakSet,yp=WS(On),yv=Fw(new Uint32Array(1)),qh=Zx(yv,Mn),zh=Kx(yv),_v=W1(Vh,yn,Ct,yp,Xn,Bx(yp),qh,zh),gl=F1(Pt),wv=Px(Fh,ho,es),Rn=Ow(wv),ri=US(gl,yn,sT,iT,oT,Dh,hv,Ph,lT,Jx(go),dv),In=Ix(dS(ho),wv),mT=$1(Rn,ri,Ie,In,ct),_n=dw(M1($g),mv,Ah,fw,T1,k1,C1,E1,N1,_c,Wg,vo,cv),gT=U1(Ye,mT,_n,it,ri,Ae,ke,ni),vT=ew(Ye,tw,Mn,it,QS(Pt,go),Ae,ke,ct),yT=xw(Rn,iv,Ie,In,ct),os=Lx(fv),_T=Sw(Ye,_n,yT,ml,iv,Ae,ke,os),Mr=VS(is,Lh),wT=eT(it,Mr),Rr=ex(vo,wT),ST=Ew(Rr,Ie,ct),xT=Cw(Ye,ST,Rr,Ae,ke),TT=bw(po,Ie,ct),kT=Aw(Ye,TT,po,Ae,ke,nT),CT=rx(gl,ri,Pt,Mr),si=nx(gl,yn,CT,Dh,Ph),ET=Pw(Rn,si,Ie,In,ct),NT=Dw(Ye,_n,ET,si,Ae,ke,ni),Sv=sx(Ct,go),AT=Vw(Sv,Ie,ct),bT=Lw(Ye,AT,Sv,Ae,ke,os),OT=Qw(Rn,ov,Ie,In,ct),MT=$w(Ye,_n,OT,ov,Ae,ke,os),xv=ix(Ct),RT=eS(Rn,xv,Ie,In,ct),IT=Jw(Ye,_n,RT,xv,Ct,Ae,ke,os),DT=lS(Rn,Pt,Ie,In,ct),PT=aS(Ye,_n,DT,Pt,Ae,ke),FT=ux(ml,it,mo,Ct),vl=Fx(yn,Pt,mo,$x(Pt,Xn)),jT=SS(ri,Ie,Xn,ct,vl),LT=ox(FT),VT=_S(Ye,LT,jT,Ae,ke,os),qT=nw(_n,Rr,si,mo,Ct,lv,ke,go),Tv=new WeakMap,zT=LS(vT,qT,gv,ke,Tv,ni),kv=mx(gl,yn,Dh,hv,Ph,dv),WT=Nx(Rn,kv,Ie,In,ct),BT=Ex(Ye,_n,kv,WT,Ae,ke,ni),Cv=Rw(ri),UT=xx(Cv,it,Pt,uv,Mr),yl=Sx(Cv,it,UT,uv,Mr,vo,go),$T=vx(Wa,it,Rr,Pt,mo,yl,Ct,Ba,lv,Mr),Ev=gx($T),QT=Ox(Rn,Rr,si,Pt,Ev,Ie,Xn,In,ct,vl),HT=bx(Ye,_n,Ev,QT,Ae,ke,os),GT=yx(Mn),YT=Rx(GT,Ae,new WeakSet,rT),XT=wx(Rr,po,Pt,yl,Ct,Mr),Nv=_x(XT,Ct),ZT=Wx(Rn,Nv,Ie,In,ct),KT=zx(Ye,_n,Nv,ZT,Ae,ke),JT=Yx(yl,Ie,ct),ek=Gx(Ye,it,yl,JT,Ae,ke,os),Av=RS(On),Wh=sS(On),bv=new WeakMap,tk=mS(bv,Xn),nk=Av?I1(yn,Ct,nS(On),Wh,iS(A1),Ae,tk,ke,to,new WeakMap,new WeakMap,Ux(to,Xn),On):void 0,rk=OS(jh,ke),sk=Ww(Vh,yn,zw,tS,new WeakSet,Ae,rk,qa,eo,qh,zh),Ov=_w(nk,pT,_v,gT,_T,xT,kT,NT,bT,sk,MT,IT,PT,VT,zT,BT,HT,YT,KT,ek),ik=IS(Ye,cx,Ae,ke),ok=PS(Ye,hx,Ae,ke),ak=FS(Ye,dx,Ae,ke),lk=fx(it,ke),uk=jS(Ye,lk,Ae),ck=J1(Ov,it,Ct,Qx,ik,ok,ak,uk,vo),Bh=gS(Tv),hk=j1(Bh),Mv=Mw(Mn),dk=Gw(Bh),Rv=Zw(Mn),Iv=new WeakMap,fk=uS(Iv,vn),pk=JS(Mv,Mn,it,Rr,po,si,Pt,mo,Ct,Rv,Wh,fk,Mr),mk=YS(it,pk,Pt,Ct,Mr),gk=yw(Rn,Mv,ri,Rr,po,si,Pt,dk,Rv,Wh,Ie,to,Xn,In,ct,vl),vk=fS(bv),yk=jx(Iv),_p=Av?mw(hk,Ye,_n,gk,mk,St,vk,Ae,ke,to,tT,yk,aT,ni):void 0,_k=qw(Ct,Xn),wk=Vx(Vh,yn,Fh,Bh,vl,qa,qh,zh),Sk=kx(Ov,yn,it,_k,wk),xk=TS(fl,jh),Tk=kS(Nh,Lh),kk=CS(Ah,vv),Ck=ES(fl,ke);function en(t){return t===void 0}function ge(t){return t!==void 0}function Ek(t){return typeof t=="function"}function Cr(t){return typeof t=="number"}function Gr(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function Nk(t){return typeof t=="boolean"}function mn(t){return Array.isArray(t)}function Hn(t){return typeof t=="string"}function Ko(t){return Hn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function ce(t,e){if(!t)throw new Error(e)}function Er(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Dv(t){!t.isOffline&&t.state!=="running"&&Uh('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Pv=!1,wp=!1;function Sp(t){Pv=t}function Ak(t){en(t)&&Pv&&!wp&&(wp=!0,Uh("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Fv=console;function bk(...t){Fv.log(...t)}function Uh(...t){Fv.warn(...t)}function Ok(t){return new ck(t)}function Mk(t,e,n){return new Sk(t,e,n)}const Lt=typeof self=="object"?self:null,Rk=Lt&&(Lt.hasOwnProperty("AudioContext")||Lt.hasOwnProperty("webkitAudioContext"));function Ik(t,e,n){return ce(ge(_p),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(Lt==null?void 0:Lt.BaseAudioContext)?Lt==null?void 0:Lt.AudioWorkletNode:_p)(t,e,n)}function wn(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Je(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}class Dk{constructor(e,n,r,s){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function ts(t){return kk(t)}function xr(t){return Tk(t)}function fa(t){return Ck(t)}function fs(t){return xk(t)}function Pk(t){return t instanceof _v}function Fk(t,e){return t==="value"||ts(e)||xr(e)||Pk(e)}function Ps(t,...e){if(!e.length)return t;const n=e.shift();if(Gr(t)&&Gr(n))for(const r in n)Fk(r,n[r])?t[r]=n[r]:Gr(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Ps(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Ps(t,...e)}function jk(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function le(t,e,n=[],r){const s={},i=Array.from(e);if(Gr(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(l=>Reflect.has(t,l))||(Ps(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&Gr(i[0]))Ps(s,i[0]);else for(let o=0;o<n.length;o++)ge(i[o])&&(s[n[o]]=i[o]);return Ps(t,s)}function Lk(t){return t.constructor.getDefaults()}function Fs(t,e){return en(t)?e:t}function xp(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Zn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Lt&&this.toString()===Lt.TONE_DEBUG_CLASS)&&bk(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Zn.version=zg;const $h=1e-6;function Qs(t,e){return t>e+$h}function Nc(t,e){return Qs(t,e)||hn(t,e)}function Ha(t,e){return t+$h<e}function hn(t,e){return Math.abs(t-e)<$h}function Vk(t,e,n){return Math.max(Math.min(t,n),e)}class tn extends Zn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=le(tn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(ce(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];ce(Nc(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(hn(this._timeline[n].time,e)){for(let r=n;r>=0&&hn(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Nc(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let o=Math.floor(r+(i-r)/2);const l=this._timeline[o],c=this._timeline[o+1];if(hn(l[n],e)){for(let u=o;u<this._timeline.length;u++){const d=this._timeline[u];if(hn(d[n],e))o=u;else break}return o}else{if(Ha(l[n],e)&&Qs(c[n],e))return o;Qs(l[n],e)?i=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return s!==-1&&i!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):s===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&hn(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&hn(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const jv=[];function _l(t){jv.push(t)}function qk(t){jv.forEach(e=>e(t))}const Lv=[];function wl(t){Lv.push(t)}function zk(t){Lv.forEach(e=>e(t))}class yo extends Zn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{en(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(en(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(en(n))this._events[s]=[];else{const i=this._events[s];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(yo.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class Vv extends yo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class _o extends Vv{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new tn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=le(_o.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=Ok({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new Dk(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(qk(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return ce(fs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return ce(fs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return ce(fs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){ce(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){ce(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){ce(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){ce(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return Ik(this.rawContext,e,n)}addAudioWorkletModule(e){return Je(this,void 0,void 0,function*(){ce(ge(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Je(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return fs(this._context)?this._context.resume():Promise.resolve()}close(){return Je(this,void 0,void 0,function*(){fs(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&zk(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,n=>{n.callback(),this._timeouts.remove(n)})}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}class Wk extends Vv{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Je(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Le(t,e){mn(e)?e.forEach(n=>Le(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Qh(t,e){mn(e)?e.forEach(n=>Qh(t,n)):Object.defineProperty(t,e,{writable:!0})}const Te=()=>{};class Pe extends Zn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Te;const e=le(Pe.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Hn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Te,onload:Te,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:qt().sampleRate}set(e){return e instanceof Pe?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Je(this,void 0,void 0,function*(){const n=Pe.load(e).then(r=>{this.set(r),this.onload(this)});Pe.downloads.push(n);try{yield n}finally{const r=Pe.downloads.indexOf(n);Pe.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=mn(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,i=qt(),o=i.createBuffer(r,s,i.sampleRate),l=!n&&r===1?[e]:e;for(let c=0;c<r;c++)o.copyToChannel(l[c],c);return this._buffer=o,this}toMono(e){if(Cr(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const i=this.toArray(s);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if(Cr(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){ce(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);ce(r<s,"The start time must be less than the end time");const i=s-r,o=qt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let l=0;l<this.numberOfChannels;l++)o.copyToChannel(this.getChannelData(l).subarray(r,s),l);return new Pe(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Pe().fromArray(e)}static fromUrl(e){return Je(this,void 0,void 0,function*(){return yield new Pe().load(e)})}static load(e){return Je(this,void 0,void 0,function*(){const n=Pe.baseUrl===""||Pe.baseUrl.endsWith("/")?Pe.baseUrl:Pe.baseUrl+"/",r=yield fetch(n+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const s=yield r.arrayBuffer();return yield qt().decodeAudioData(s)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Je(this,void 0,void 0,function*(){for(yield Promise.resolve();Pe.downloads.length;)yield Pe.downloads[0]})}}Pe.baseUrl="";Pe.downloads=[];class Hh extends _o{constructor(){super({clockSource:"offline",context:fa(arguments[0])?arguments[0]:Mk(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:fa(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=fa(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Je(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(){return Je(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new Pe(n)})}close(){return Promise.resolve()}}const qv=new Wk;let $r=qv;function qt(){return $r===qv&&Rk&&Bk(new _o),$r}function Bk(t,e=!1){e&&$r.dispose(),fs(t)?$r=new _o(t):fa(t)?$r=new Hh(t):$r=t}function Uk(){return $r.resume()}if(Lt&&!Lt.TONE_SILENCE_LOGGING){const e=` * Tone.js v${zg} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function $k(t){return Math.pow(10,t/20)}function Qk(t){return 20*(Math.log(t)/Math.LN10)}function zv(t){return Math.pow(2,t/12)}let Sl=440;function Hk(){return Sl}function Gk(t){Sl=t}function Ac(t){return Math.round(Wv(t))}function Wv(t){return 69+12*Math.log2(t/Sl)}function Yk(t){return Sl*Math.pow(2,(t-69)/12)}class Gh extends Zn{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Gh&&this.fromType(this._val),en(this._val))return this._noArg();if(Hn(this._val)&&en(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Gr(this._val)){let e=0;for(const n in this._val)if(ge(this._val[n])){const r=this._val[n],s=new this.constructor(this.context,n).valueOf()*r;e+=s}return e}if(ge(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return Hn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class dn extends Gh{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new dn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),l=Math.round(s/r)*r-s;return s+l*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],s=new dn(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new dn(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(r=i,s=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Ac(this.toFrequency())}_now(){return this.context.now()}}class Kt extends dn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Hk()}static set A4(e){Gk(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Kt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const s=Xk[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:Kt.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new Kt(this.context,this.valueOf()*zv(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Ac(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Kt.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),Zk[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Yk(e)}static ftom(e){return Ac(e)}}const Xk={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Zk=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Pi extends dn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Dt extends Zn{constructor(){super();const e=le(Dt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:qt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return Ak(e),new dn(this.context,e).toSeconds()}toFrequency(e){return new Kt(this.context,e).toFrequency()}toTicks(e){return new Pi(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{en(e[r])&&delete n[r]}),n}get(){const e=Lk(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];ge(r)&&ge(r.value)&&ge(r.setValueAtTime)?e[n]=r.value:r instanceof Dt?e[n]=r._getPartialProperties(e[n]):mn(r)||Cr(r)||Hn(r)||Nk(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&ge(this[n])&&(this[n]&&ge(this[n].value)&&ge(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Dt?this[n].set(e[n]):this[n]=e[n])}),this}}class Yh extends tn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Er(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class _e extends Dt{constructor(){const e=le(_e.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,ce(ge(e.param)&&(ts(e.param)||e.param instanceof _e),"param must be an AudioParam");!ts(e.param);)e.param=e.param._param;this._swappable=ge(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new tn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ge(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Dt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ge(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ge(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return ge(this.maxValue)&&ge(this.minValue)&&Er(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?$k(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?Qk(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return ce(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(s===null)i=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(s.time);let l;o===null?l=this._initialValue:l=o.value,s.type==="setTargetAtTime"&&(i=this._exponentialApproach(s.time,l,s.value,s.constant,n))}else if(r===null)i=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=s.value;if(s.type==="setTargetAtTime"){const l=this._events.getBefore(s.time);l===null?o=this._initialValue:o=l.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(s.time,o,r.time,r.value,n):i=this._exponentialInterpolate(s.time,o,r.time,r.value,n)}else i=s.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return ce(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=hn(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return ce(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);ce(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),ce(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const o=r/(e.length-1);for(let l=1;l<e.length;l++){const c=this._fromType(e[l])*s;this.linearRampToValueAtTime(this._toType(c),n+l*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return ce(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));ce(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&hn(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),i=s?s.time:n+2,o=(i-n)/10;for(let l=n;l<i;l+=o)e.linearRampToValueAtTime(this.getValueAtTime(l),l)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){ce(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(s-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class he extends Dt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ge(this.input)?ts(this.input)||this.input instanceof _e?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ge(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ge(e)&&(e instanceof he||xr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();ce(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return as(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Uh("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return Bv(this,e,n,r),this}chain(...e){return no(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),ge(this.input)&&(this.input instanceof he?this.input.dispose():xr(this.input)&&this.input.disconnect()),ge(this.output)&&(this.output instanceof he?this.output.dispose():xr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function no(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof he?n.connect(r):xr(n)&&as(n,r),r),e)}function as(t,e,n=0,r=0){for(ce(ge(t),"Cannot connect from undefined node"),ce(ge(e),"Cannot connect to undefined node"),(e instanceof he||xr(e))&&ce(e.numberOfInputs>0,"Cannot connect to node with no inputs"),ce(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof he||e instanceof _e;)ge(e.input)&&(e=e.input);for(;t instanceof he;)ge(t.output)&&(t=t.output);ts(e)?t.connect(e,n):t.connect(e,n,r)}function Bv(t,e,n=0,r=0){if(ge(e))for(;e instanceof he;)e=e.input;for(;!xr(t);)ge(t.output)&&(t=t.output);ts(e)?t.disconnect(e,n):xr(e)?t.disconnect(e,n,r):t.disconnect()}class He extends he{constructor(){const e=le(He.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new _e({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Le(this,"gain")}static getDefaults(){return Object.assign(he.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Hs extends he{constructor(e){super(e),this.onended=Te,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new He({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(he.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Te})}_startGain(e,n=1){ce(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){ce(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Te&&(this.onended(this),this.onended=Te,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ce(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Te,this}}class Xh extends Hs{constructor(){const e=le(Xh.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),as(this._source,this._gainNode),this.offset=new _e({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Hs.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Ne extends he{constructor(){const e=le(Ne.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Xh({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(he.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return xl(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function xl(t,e,n,r){(e instanceof _e||ts(e)||e instanceof Ne&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Ne&&(e.overridden=!0)),as(t,e,n,r)}class Zh extends _e{constructor(){const e=le(Zh.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new tn(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(_e.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let l=0;l<=o;l++){const c=r*l+n,u=this._exponentialApproach(i.time,i.value,s,r,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max((n-s.time)*10,1)),o=(n-s.time)/i;for(let l=0;l<=i;l++){const c=o*l+s.time,u=this._exponentialInterpolate(s.time,s.value,n,r,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(en(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),l=Math.sqrt(Math.pow(s,2)-2*o*(n.ticks-e)),c=(-s+l)/o,u=(-s-l)/o;return(c>0?c:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Kh extends Ne{constructor(){const e=le(Kh.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Zh({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Ne.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Jh extends Dt{constructor(){const e=le(Jh.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Yh,this._tickOffset=new tn,this._ticksAtTime=new tn,this._secondsAtTime=new tn,this.frequency=new Kh({context:this.context,units:e.units,value:e.frequency}),Le(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Dt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),ge(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=s||r,l=s?s.ticks:0,c=null;return this._state.forEachBetween(o.time,n+this.sampleTime,u=>{let d=o.time;const f=this._tickOffset.get(u.time);f&&f.time>=o.time&&(l=f.ticks,d=f.time),o.state==="started"&&u.state!=="started"&&(l+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(d),u.time!==i.time&&(c={state:u.state,time:u.time,ticks:l})),o=u}),this._state.remove(i),c&&this._ticksAtTime.add(c),l}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let i=s||n,o=s?s.seconds:0,l=null;return this._state.forEachBetween(i.time,e+this.sampleTime,c=>{let u=i.time;const d=this._tickOffset.get(c.time);d&&d.time>=i.time&&(o=d.seconds,u=d.time),i.state==="started"&&c.state!=="started"&&(o+=c.time-u,c.time!==r.time&&(l={state:c.state,time:c.time,seconds:o})),i=c}),this._state.remove(r),l&&this._secondsAtTime.add(l),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),o=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,o=>{s&&s.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,r),s=o});let i=null;if(s&&s.state==="started"){const o=Math.max(s.time,e),l=this.frequency.getTicksAtTime(o),c=this.frequency.getTicksAtTime(s.time),u=l-c;let d=Math.ceil(u)-u;d=hn(d,1)?0:d;let f=this.frequency.getTimeOfTick(l+d);for(;f<n;){try{r(f,Math.round(this.getTicksAtTime(f)))}catch(m){i=m;break}f+=this.frequency.getDurationOfTicks(1,f)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Tl extends Dt{constructor(){const e=le(Tl.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Te,this._lastUpdate=0,this._state=new Yh("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Jh({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Le(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Dt.getDefaults(),{callback:Te,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Dv(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}yo.mixin(Tl);class ii extends he{constructor(){const e=le(ii.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new He({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Le(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(he.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class ed extends he{constructor(){const e=le(ed.getDefaults(),arguments);super(e),this.name="Destination",this.input=new ii({context:this.context}),this.output=new He({context:this.context}),this.volume=this.input.volume,no(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(he.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),no(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}_l(t=>{t.destination=new ed({context:t})});wl(t=>{t.destination.dispose()});class Kk extends he{constructor(){super(...arguments),this.name="Listener",this.positionX=new _e({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new _e({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new _e({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new _e({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new _e({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new _e({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new _e({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new _e({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new _e({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(he.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}_l(t=>{t.listener=new Kk({context:t})});wl(t=>{t.listener.dispose()});class td extends Zn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=le(td.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Te,onload:Te,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return ce(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=Te,s=Te){return Hn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Pe(this.baseUrl+n,r,s))):this._buffers.set(e.toString(),new Pe(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Ns extends Pi{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Jk extends Dt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new tn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,n=>{e-n.time<=this.expiration&&n.callback(),this._events.remove(n)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}_l(t=>{t.draw=new Jk({context:t})});wl(t=>{t.draw.dispose()});class eC extends Zn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){ce(ge(e.time),"Events must have a time property"),ce(ge(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new tC(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class tC{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class nC extends Zn{constructor(e){super(),this.name="TimelineValue",this._timeline=new tn({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Gn extends he{constructor(){super(le(Gn.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return xl(this,e,n,r),this}}class wo extends Gn{constructor(){const e=le(wo.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,mn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Ek(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Ne.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++){const o=s/(i-1)*2-1;r[s]=e(o,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));ce(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class nd extends Gn{constructor(){const e=le(nd.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new wo({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Gn.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Nr{constructor(e,n){this.id=Nr._eventId++,this._remainderTime=0;const r=Object.assign(Nr.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Te,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Nr._eventId=0;class rd extends Nr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(rd.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Nr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Ha(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Ns(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Ha(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ns(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);Qs(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class kl extends Dt{constructor(){const e=le(kl.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new nC(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new tn,this._repeatedEvents=new eC,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Tl({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Le(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Dt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new Ns(this.context,this._swingTicks*2/3).toSeconds()*s}Sp(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),Sp(!1)}schedule(e,n){const r=new Nr(this,{callback:e,time:new Pi(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new rd(this,{callback:e,duration:new dn(this.context,s).toTicks(),interval:new dn(this.context,n).toTicks(),time:new Pi(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new Nr(this,{callback:e,once:!0,time:new Pi(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Ns(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return ge(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){mn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new dn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new dn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Ns(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Ns(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+s;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){const r=this.now();let s=this.bpm,i=1/(60/s.getValueAtTime(r)/this.PPQ),o=[];if(e.units==="time"){const c=.015625/i,u=new He(c),d=new nd(-1),f=new He(c);s.chain(u,d,f),s=f,i=1/i,o=[u,d,f]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);const l=new He(n);return s.connect(l),l.connect(e._param),o.push(l),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Qh(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}yo.mixin(kl);_l(t=>{t.transport=new kl({context:t})});wl(t=>{t.transport.dispose()});class Bt extends he{constructor(e){super(e),this.input=void 0,this._state=new Yh("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Te,this._syncedStop=Te,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ii({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Le(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(he.getDefaults(),{mute:!1,onstop:Te,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=en(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")ce(Qs(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(Fs(n,0)),i.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(l=>{this._start(l,n,r)},s);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else Dv(this.context),this._start(s,n,r);return this}stop(e){let n=en(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||ge(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(Qs(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Te,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Cl extends Hs{constructor(){const e=le(Cl.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,as(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new _e({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Pe(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Hs.getDefaults(),{url:new Pe,loop:!1,loopEnd:0,loopStart:0,onload:Te,onerror:Te,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){ce(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),this.loop?n=Fs(n,this.loopStart):n=Fs(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const l=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),u=l-c;Nc(o,l)&&(o=(o-c)%u+c),hn(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Ha(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),ge(r)){let l=this.toSeconds(r);l=Math.max(l,0),this.stop(i+l)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function ls(t,e){return Je(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new Hh(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class sd extends Hs{constructor(){const e=le(sd.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],as(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new _e({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new _e({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Le(this,["frequency","detune"])}static getDefaults(){return Object.assign(Hs.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Qe extends Bt{constructor(){const e=le(Qe.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Ne({context:this.context,units:"frequency",value:e.frequency}),Le(this,"frequency"),this.detune=new Ne({context:this.context,units:"cents",value:e.detune}),Le(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Bt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new sd({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Qe._periodicWaveCache.find(n=>n.phase===this._phase&&jk(n.partials,this._partials));{const e=Qe._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(ge(r)){const{partials:s,wave:i}=r;this._wave=i,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(s,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Qe._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),Qe._periodicWaveCache.length>100&&Qe._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Er(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((i,o)=>s[o]=i),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const i=new Float32Array(s),o=new Float32Array(s);let l=1;if(e==="custom"){if(l=this._partials.length+1,this._partialCount=this._partials.length,s=l,this._partials.length===0)return[i,o]}else{const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);c?(l=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),e=c[1],l=Math.max(l,2),s=l):this._partialCount=0,this._partials=[]}for(let c=1;c<s;++c){const u=2/(c*Math.PI);let d;switch(e){case"sine":d=c<=l?1:0,this._partials[c-1]=d;break;case"square":d=c&1?2*u:0,this._partials[c-1]=d;break;case"sawtooth":d=u*(c&1?1:-1),this._partials[c-1]=d;break;case"triangle":c&1?d=2*(u*u)*(c-1>>1&1?-1:1):d=0,this._partials[c-1]=d;break;case"custom":d=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}d!==0?(i[c]=-d*Math.sin(n*c),o[c]=d*Math.cos(n*c)):(i[c]=0,o[c]=0)}return[i,o]}_inverseFFT(e,n,r){let s=0;const i=e.length;for(let o=0;o<i;o++)s+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,i=32;for(let o=0;o<i;o++)r=Math.max(this._inverseFFT(e,n,o/i*s),r);return Vk(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Je(this,arguments,void 0,function*(e=1024){return ls(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Qe._periodicWaveCache=[];class Uv extends Gn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new wo({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ns extends Ne{constructor(){const e=le(ns.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new He({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ne.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class El extends Bt{constructor(){const e=le(El.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Uv({context:this.context}),this._modulationNode=new He({context:this.context}),this._carrier=new Qe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Qe({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ns({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Le(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Qe.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Je(this,arguments,void 0,function*(e=1024){return ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Nl extends Bt{constructor(){const e=le(Nl.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new He({context:this.context,gain:0}),this._carrier=new Qe({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Ne({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Qe({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ns({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new ns({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Le(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Qe.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Je(this,arguments,void 0,function*(e=1024){return ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class So extends Bt{constructor(){const e=le(So.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new He({context:this.context,gain:0}),this._thresh=new wo({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Ne({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Qe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Le(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Bt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Je(this,arguments,void 0,function*(e=1024){return ls(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Al extends Bt{constructor(){const e=le(Al.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Ne({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ne({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Le(this,["frequency","detune"])}static getDefaults(){return Object.assign(Qe.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(Er(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new Qe({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Te});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Je(this,arguments,void 0,function*(e=1024){return ls(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class bl extends Bt{constructor(){const e=le(bl.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ns({context:this.context,value:2}),this._pulse=new So({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Qe({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Le(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Bt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Je(this,arguments,void 0,function*(e=1024){return ls(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Tp={am:El,fat:Al,fm:Nl,oscillator:Qe,pulse:So,pwm:bl};class Ga extends Bt{constructor(){const e=le(Ga.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Ne({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ne({context:this.context,units:"cents",value:e.detune}),Le(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Qe.getDefaults(),Nl.getDefaults(),El.getDefaults(),Al.getDefaults(),So.getDefaults(),bl.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Tp[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Tp[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Cr(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Cr(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Hn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Je(this,arguments,void 0,function*(e=1024){return ls(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class id extends Ne{constructor(){super(le(id.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new He({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,no(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Ne.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class od extends Gn{constructor(){const e=le(od.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new ns({context:this.context,value:e.max-e.min}),this._add=this.output=new id({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Gn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class ad extends Gn{constructor(){super(le(ad.getDefaults(),arguments)),this.name="Zero",this._gain=new He({context:this.context}),this.output=this._gain,this.input=void 0,as(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Bv(this.context.getConstant(0),this._gain),this}}class Ya extends he{constructor(){const e=le(Ya.getDefaults(),arguments,["frequency","min","max"]);super(e),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=_e.prototype._fromType,this._toType=_e.prototype._toType,this._is=_e.prototype._is,this._clampValue=_e.prototype._clampValue,this._oscillator=new Qe(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new He({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Ne({context:this.context,units:"audioRange",value:0}),this._zeros=new ad({context:this.context}),this._a2g=new Uv({context:this.context}),this._scaler=this.output=new od({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Le(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Qe.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,r=this.max;this._units=e,this.min=n,this.max=r}get state(){return this._oscillator.state}connect(e,n,r){return(e instanceof _e||e instanceof Ne)&&(this.convert=e.convert,this.units=e.units),xl(this,e,n,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function $v(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Er(i,t,e),n.set(this,i)}})}}function Kn(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Er(this.toSeconds(i),t,e),n.set(this,i)}})}}class Ol extends Bt{constructor(){const e=le(Ol.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Pe({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Bt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Te,onerror:Te,playbackRate:1,reverse:!1})}load(e){return Je(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Te){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Fs(n,this._loopStart):n=Fs(n,0);const s=this.toSeconds(n),i=r;r=Fs(r,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const l=new Cl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(l),this._loop&&en(i)?l.start(e,s):l.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Er(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Er(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}wn([Kn(0)],Ol.prototype,"fadeIn",void 0);wn([Kn(0)],Ol.prototype,"fadeOut",void 0);class Ir extends he{constructor(){const e=le(Ir.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Ne({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(he.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Hn(e))return e;{let r;for(r in Jo)if(Jo[r][n]===e)return r;return e}}_setCurve(e,n,r){if(Hn(r)&&Reflect.has(Jo,r)){const s=Jo[r];Gr(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(mn(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const l=1/s;s=(1-o)/l}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let l=this._attackCurve;for(let c=1;c<l.length;c++)if(l[c-1]<=o&&o<=l[c]){l=this._attackCurve.slice(c),l[0]=o;break}this._sig.setValueCurveAtTime(l,e,s,n)}if(i&&this.sustain<1){const l=n*this.sustain,c=e+s;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(l,i+c):this._sig.exponentialApproachValueAtTime(l,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(ce(mn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return xl(this,e,n,r),this}asArray(){return Je(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new Hh(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),o=i*.1,l=i+o,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/l,decay:n*this.toSeconds(this.decay)/l,release:n*this.toSeconds(this.release)/l,context:r}));return c._sig.toDestination(),c.triggerAttackRelease(n*(s+o)/l,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}wn([Kn(0)],Ir.prototype,"attack",void 0);wn([Kn(0)],Ir.prototype,"decay",void 0);wn([$v(0,1)],Ir.prototype,"sustain",void 0);wn([Kn(0)],Ir.prototype,"release",void 0);const Jo=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[],i=6.4;for(e=0;e<127;e++){n=e/127;const m=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;s[e]=m/10+n*.83}s[127]=1;const o=[],l=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*l)/l;const c=[];for(e=0;e<128;e++)n=e/127,c[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/127;const m=Math.pow(n,3)*4+.2,y=Math.cos(m*Math.PI*2*n);u[e]=Math.abs(y*(1-n))}function d(m){const y=new Array(m.length);for(let v=0;v<m.length;v++)y[v]=1-m[v];return y}function f(m){return m.slice(0).reverse()}return{bounce:{In:d(u),Out:u},cosine:{In:r,Out:f(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:d(s)},sine:{In:c,Out:d(c)},step:{In:o,Out:d(o)}}})();class Gs extends he{constructor(){const e=le(Gs.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new ii({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Le(this,"volume")}static getDefaults(){return Object.assign(he.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const i=s[n],o=this.context.transport.schedule(l=>{s[n]=l,r.apply(this,s)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ys extends Gs{constructor(){const e=le(Ys.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Gs.getDefaults(),{detune:0,onsilence:Te,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof Kt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}wn([Kn(0)],Ys.prototype,"portamento",void 0);class ld extends Ir{constructor(){super(le(ld.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new He({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ro extends Ys{constructor(){const e=le(ro.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Ga(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ld(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Le(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ys.getDefaults(),{envelope:Object.assign(xp(Ir.getDefaults(),Object.keys(he.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(xp(Ga.getDefaults(),[...Object.keys(Bt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Xa extends he{constructor(){const e=le(Xa.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new _e({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new _e({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new _e({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new _e({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(he.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){ce(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let o=0;o<e;o++){const c=Math.pow(o/e,2)*19980+20;n[o]=c}const r=new Float32Array(e),s=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(n,r,s),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class ud extends he{constructor(){const e=le(ud.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new He({context:this.context}),this.output=new He({context:this.context}),this._filters=[],this._filters=[],this.Q=new Ne({context:this.context,units:"positive",value:e.Q}),this.frequency=new Ne({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ne({context:this.context,units:"cents",value:e.detune}),this.gain=new Ne({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Le(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(he.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){ce(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(r=>r.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=Cr(e)?e:parseInt(e,10),r=[-12,-24,-48,-96];let s=r.indexOf(n);ce(s!==-1,`rolloff can only be ${r.join(", ")}`),s+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(i=>i.disconnect()),this._filters=new Array(s);for(let i=0;i<s;i++){const o=new Xa({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[i]=o}this._internalChannels=this._filters,no(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new Xa({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((i,o)=>r[o]*=i)}),n.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Qh(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Ml extends ro{constructor(){const e=le(Ml.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Le(this,["oscillator","envelope"])}static getDefaults(){return Ps(Ys.getDefaults(),ro.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof Kt?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}wn([$v(0)],Ml.prototype,"octaves",void 0);wn([Kn(0)],Ml.prototype,"pitchDecay",void 0);const Qv=new Set;function cd(t){Qv.add(t)}function Hv(t,e){const n=`registerProcessor("${t}", ${e})`;Qv.add(n)}const rC=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;cd(rC);const sC=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;cd(sC);const iC=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;cd(iC);const oC="feedback-comb-filter",aC=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Hv(oC,aC);class Rl extends Gs{constructor(){const e=le(Rl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(ce(Ko(r)||Cr(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),Ko(r)){const i=new Kt(this.context,r).toMidi();n[i]=e.urls[r]}else Cr(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new td({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Gs.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Te,onerror:Te,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=Wv(new Kt(this.context,s).toFrequency()),o=Math.round(i),l=i-o,c=this._findClosest(o),u=o-c,d=this._buffers.get(u),f=zv(c+l),m=new Cl({url:d,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:f}).connect(this.output);m.start(n,0,d.duration/f,r),mn(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(m),m.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const y=this._activeSources.get(o),v=y.indexOf(m);v!==-1&&y.splice(v,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new Kt(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),mn(n)?(ce(mn(e),"notes must be an array when duration is array"),e.forEach((o,l)=>{const c=n[Math.min(l,n.length-1)];this.triggerRelease(o,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(ce(Ko(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Ko(e)){const s=new Kt(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}wn([Kn(0)],Rl.prototype,"attack",void 0);wn([Kn(0)],Rl.prototype,"release",void 0);class hd extends he{constructor(){const e=le(hd.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new _e({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Le(this,"pan")}static getDefaults(){return Object.assign(he.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const lC="bit-crusher",uC=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Hv(lC,uC);class Xe extends he{constructor(){const e=le(Xe.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new He({context:this.context}),Xe._allSolos.has(this.context)||Xe._allSolos.set(this.context,new Set),Xe._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(he.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Xe._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Xe._soloed.has(this.context)||Xe._soloed.set(this.context,new Set),Xe._soloed.get(this.context).add(this)}_removeSolo(){Xe._soloed.has(this.context)&&Xe._soloed.get(this.context).delete(this)}_isSoloed(){return Xe._soloed.has(this.context)&&Xe._soloed.get(this.context).has(this)}_noSolos(){return!Xe._soloed.has(this.context)||Xe._soloed.has(this.context)&&Xe._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Xe._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Xe._allSolos=new Map;Xe._soloed=new Map;class dd extends he{constructor(){const e=le(dd.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new hd({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ii({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Le(this,["pan","volume"])}static getDefaults(){return Object.assign(he.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class As extends he{constructor(){const e=le(As.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Xe({solo:e.solo,context:this.context}),this._panVol=this.output=new dd({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Le(this,["pan","volume"])}static getDefaults(){return Object.assign(he.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return As.buses.has(e)||As.buses.set(e,new He({context:this.context})),As.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new He({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}As.buses=new Map;function Tu(){return qt().now()}const cC=qt().transport;qt().destination;qt().destination;qt().listener;qt().draw;const ku=qt();class hC{constructor(){yt(this,"voices",new Map);yt(this,"masterGain");yt(this,"params");yt(this,"activeNotes",new Set);console.log("ToneSynthesizer constructor called"),this.masterGain=new He(.35),this.masterGain.toDestination(),console.log("Master gain connected to destination, Tone context state:",ku.state),this.params={oscillatorType:"square",frequency:440,volume:.3,attack:.1,decay:.2,sustain:.5,release:.3,cutoff:4e3,resonance:1,filterType:"lowpass",lfoRate:5,lfoAmount:0,detuneAmount:0,ringModAmount:0,wetness:.3,coarseness:.5}}updateParams(e){this.params={...this.params,...e},this.voices.forEach(n=>{this._updateVoiceParams(n)})}_updateVoiceParams(e){e.filter.frequency.rampTo(this.params.cutoff,.1),e.filter.Q.rampTo(this.params.resonance,.1),e.filter.type=this.params.filterType,e.lfo.frequency.rampTo(this.params.lfoRate,.1)}noteOn(e,n=1,r=0){this.activeNotes.has(e)&&this.noteOff(e);const s=this.midiNoteToFrequency(e);console.log("noteOn:",{noteNumber:e,frequency:s,oscType:this.params.oscillatorType});try{const i=new ro({oscillator:{type:this.params.oscillatorType},envelope:{attack:this.params.attack,decay:this.params.decay,sustain:this.params.sustain,release:this.params.release}}),o=new ud({frequency:this.params.cutoff,type:this.params.filterType,Q:this.params.resonance});i.connect(o),o.connect(this.masterGain);let l=null;this.params.lfoAmount>0&&(l=new Ya({frequency:this.params.lfoRate,min:s*.95,max:s*1.05}),l.connect(i.frequency),l.start()),i.frequency.value=s,i.triggerAttack(Tu()),console.log("Note triggered with attack"),this.voices.set(e,{synth:i,filter:o,lfo:l||new Ya}),this.activeNotes.add(e)}catch(i){console.error("Error in noteOn:",i)}}noteOff(e){const n=this.voices.get(e);if(n){try{if(n.synth.triggerRelease(Tu()),n.lfo)try{n.lfo.stop()}catch{}setTimeout(()=>{try{n.synth.dispose(),n.filter.dispose(),n.lfo&&n.lfo.dispose()}catch{}},this.params.release*1e3+100)}catch{}this.voices.delete(e),this.activeNotes.delete(e)}}stopAllNotes(){const e=Tu();this.voices.forEach(n=>{try{n.synth.triggerRelease(e),n.lfo.stop()}catch{}}),setTimeout(()=>{this.voices.forEach(n=>{try{n.synth.dispose(),n.filter.dispose(),n.lfo.dispose()}catch{}}),this.voices.clear(),this.activeNotes.clear()},this.params.release*1e3+100)}updateFilterCutoff(e,n){}updateOscillatorType(e,n){}midiNoteToFrequency(e){return 440*Math.pow(2,(e-69)/12)}frequencyToMidiNote(e){return Math.round(69+12*Math.log2(e/440))}setMasterVolume(e){this.masterGain.gain.rampTo(Math.max(0,Math.min(1,e)),.1)}suspend(){cC.pause()}resume(){console.log("Resume called, context state before:",ku.state),Uk().then(()=>{console.log("Tone.js started successfully, context state:",ku.state)}).catch(e=>{console.warn("Tone.js start failed:",e)})}getAudioContext(){return qt().rawContext}}var Gv={exports:{}};const dC={},fC=Object.freeze(Object.defineProperty({__proto__:null,default:dC},Symbol.toStringTag,{value:"Module"})),kp=Hy(fC);(function(t,e){var n=void 0,r=function(s){return n||(n=new Promise(function(i,o){var l=typeof s<"u"?s:{},c=l.onAbort;l.onAbort=function(a){o(new Error(a)),c&&c(a)},l.postRun=l.postRun||[],l.postRun.push(function(){i(l)}),t=void 0;var u;u||(u=typeof l<"u"?l:{});var d=typeof window=="object",f=typeof WorkerGlobalScope<"u",m=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";u.onRuntimeInitialized=function(){function a(M,q){switch(typeof q){case"boolean":By(M,q?1:0);break;case"number":qy(M,q);break;case"string":zy(M,q,-1,-1);break;case"object":if(q===null)Bd(M);else if(q.length!=null){var te=Oo(q,bo);Wy(M,te,q.length,-1),Mo(te)}else Ro(M,"Wrong API use : tried to return a value of an unknown type ("+q+").",-1);break;default:Bd(M)}}function h(M,q){for(var te=[],oe=0;oe<M;oe+=1){var ue=ht(q+4*oe,"i32"),Se=Py(ue);if(Se===1||Se===2)ue=Vy(ue);else if(Se===3)ue=jy(ue);else if(Se===4){Se=ue,ue=Fy(Se),Se=Ly(Se);for(var sn=new Uint8Array(ue),Ht=0;Ht<ue;Ht+=1)sn[Ht]=I[Se+Ht];ue=sn}else ue=null;te.push(ue)}return te}function p(M,q){this.Qa=M,this.db=q,this.Oa=1,this.lb=[]}function _(M,q){if(this.db=q,q=Pr(M)+1,this.eb=Hl(q),this.eb===null)throw Error("Unable to allocate memory for the SQL string");Dn(M,D,this.eb,q),this.kb=this.eb,this.Za=this.pb=null}function C(M){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),M!=null){var q=this.filename,te="/",oe=q;if(te&&(te=typeof te=="string"?te:Pl(te),oe=q?ve(te+"/"+q):te),q=gd(!0,!0),oe=hy(oe,q),M){if(typeof M=="string"){te=Array(M.length);for(var ue=0,Se=M.length;ue<Se;++ue)te[ue]=M.charCodeAt(ue);M=te}Co(oe,q|146),te=hs(oe,577),Id(te,M,0,M.length,0),zl(te),Co(oe,q)}}this.handleError(se(this.filename,R)),this.db=ht(R,"i32"),$d(this.db),this.fb={},this.Sa={}}var R=sr(4),P=u.cwrap,se=P("sqlite3_open","number",["string","number"]),pe=P("sqlite3_close_v2","number",["number"]),fe=P("sqlite3_exec","number",["number","string","number","number","number"]),Be=P("sqlite3_changes","number",["number"]),Nt=P("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Ld=P("sqlite3_sql","string",["number"]),yy=P("sqlite3_normalized_sql","string",["number"]),Vd=P("sqlite3_prepare_v2","number",["number","number","number","number","number"]),_y=P("sqlite3_bind_text","number",["number","number","number","number","number"]),qd=P("sqlite3_bind_blob","number",["number","number","number","number","number"]),wy=P("sqlite3_bind_double","number",["number","number","number"]),Sy=P("sqlite3_bind_int","number",["number","number","number"]),xy=P("sqlite3_bind_parameter_index","number",["number","string"]),Ty=P("sqlite3_step","number",["number"]),ky=P("sqlite3_errmsg","string",["number"]),Cy=P("sqlite3_column_count","number",["number"]),Ey=P("sqlite3_data_count","number",["number"]),Ny=P("sqlite3_column_double","number",["number","number"]),zd=P("sqlite3_column_text","string",["number","number"]),Ay=P("sqlite3_column_blob","number",["number","number"]),by=P("sqlite3_column_bytes","number",["number","number"]),Oy=P("sqlite3_column_type","number",["number","number"]),My=P("sqlite3_column_name","string",["number","number"]),Ry=P("sqlite3_reset","number",["number"]),Iy=P("sqlite3_clear_bindings","number",["number"]),Dy=P("sqlite3_finalize","number",["number"]),Wd=P("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Py=P("sqlite3_value_type","number",["number"]),Fy=P("sqlite3_value_bytes","number",["number"]),jy=P("sqlite3_value_text","string",["number"]),Ly=P("sqlite3_value_blob","number",["number"]),Vy=P("sqlite3_value_double","number",["number"]),qy=P("sqlite3_result_double","",["number","number"]),Bd=P("sqlite3_result_null","",["number"]),zy=P("sqlite3_result_text","",["number","string","number","number"]),Wy=P("sqlite3_result_blob","",["number","number","number","number"]),By=P("sqlite3_result_int","",["number","number"]),Ro=P("sqlite3_result_error","",["number","string","number"]),Ud=P("sqlite3_aggregate_context","number",["number","number"]),$d=P("RegisterExtensionFunctions","number",["number"]),Qd=P("sqlite3_update_hook","number",["number","number","number"]);p.prototype.bind=function(M){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(M)?this.Cb(M):M!=null&&typeof M=="object"?this.Db(M):!0},p.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var M=Ty(this.Qa);switch(M){case 100:return!0;case 101:return!1;default:throw this.db.handleError(M)}},p.prototype.wb=function(M){return M==null&&(M=this.Oa,this.Oa+=1),Ny(this.Qa,M)},p.prototype.Gb=function(M){if(M==null&&(M=this.Oa,this.Oa+=1),M=zd(this.Qa,M),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(M)},p.prototype.Hb=function(M){return M==null&&(M=this.Oa,this.Oa+=1),zd(this.Qa,M)},p.prototype.getBlob=function(M){M==null&&(M=this.Oa,this.Oa+=1);var q=by(this.Qa,M);M=Ay(this.Qa,M);for(var te=new Uint8Array(q),oe=0;oe<q;oe+=1)te[oe]=I[M+oe];return te},p.prototype.get=function(M,q){q=q||{},M!=null&&this.bind(M)&&this.step(),M=[];for(var te=Ey(this.Qa),oe=0;oe<te;oe+=1)switch(Oy(this.Qa,oe)){case 1:var ue=q.useBigInt?this.Gb(oe):this.wb(oe);M.push(ue);break;case 2:M.push(this.wb(oe));break;case 3:M.push(this.Hb(oe));break;case 4:M.push(this.getBlob(oe));break;default:M.push(null)}return M},p.prototype.getColumnNames=function(){for(var M=[],q=Cy(this.Qa),te=0;te<q;te+=1)M.push(My(this.Qa,te));return M},p.prototype.getAsObject=function(M,q){M=this.get(M,q),q=this.getColumnNames();for(var te={},oe=0;oe<q.length;oe+=1)te[q[oe]]=M[oe];return te},p.prototype.getSQL=function(){return Ld(this.Qa)},p.prototype.getNormalizedSQL=function(){return yy(this.Qa)},p.prototype.run=function(M){return M!=null&&this.bind(M),this.step(),this.reset()},p.prototype.sb=function(M,q){q==null&&(q=this.Oa,this.Oa+=1),M=fd(M);var te=Oo(M,bo);this.lb.push(te),this.db.handleError(_y(this.Qa,q,te,M.length-1,0))},p.prototype.Bb=function(M,q){q==null&&(q=this.Oa,this.Oa+=1);var te=Oo(M,bo);this.lb.push(te),this.db.handleError(qd(this.Qa,q,te,M.length,0))},p.prototype.rb=function(M,q){q==null&&(q=this.Oa,this.Oa+=1),this.db.handleError((M===(M|0)?Sy:wy)(this.Qa,q,M))},p.prototype.Eb=function(M){M==null&&(M=this.Oa,this.Oa+=1),qd(this.Qa,M,0,0,0)},p.prototype.tb=function(M,q){switch(q==null&&(q=this.Oa,this.Oa+=1),typeof M){case"string":this.sb(M,q);return;case"number":this.rb(M,q);return;case"bigint":this.sb(M.toString(),q);return;case"boolean":this.rb(M+0,q);return;case"object":if(M===null){this.Eb(q);return}if(M.length!=null){this.Bb(M,q);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+M+")."},p.prototype.Db=function(M){var q=this;return Object.keys(M).forEach(function(te){var oe=xy(q.Qa,te);oe!==0&&q.tb(M[te],oe)}),!0},p.prototype.Cb=function(M){for(var q=0;q<M.length;q+=1)this.tb(M[q],q+1);return!0},p.prototype.reset=function(){return this.freemem(),Iy(this.Qa)===0&&Ry(this.Qa)===0},p.prototype.freemem=function(){for(var M;(M=this.lb.pop())!==void 0;)Mo(M)},p.prototype.free=function(){this.freemem();var M=Dy(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,M},_.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var M=fi(),q=sr(4);Dr(R),Dr(q);try{this.db.handleError(Vd(this.db.db,this.kb,-1,R,q)),this.kb=ht(q,"i32");var te=ht(R,"i32");return te===0?(this.mb(),{done:!0}):(this.Za=new p(te,this.db),this.db.fb[te]=this.Za,{value:this.Za,done:!1})}catch(oe){throw this.pb=Ve(this.kb),this.mb(),oe}finally{di(M)}},_.prototype.mb=function(){Mo(this.eb),this.eb=null},_.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:Ve(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(_.prototype[Symbol.iterator]=function(){return this}),C.prototype.run=function(M,q){if(!this.db)throw"Database closed";if(q){M=this.prepare(M,q);try{M.step()}finally{M.free()}}else this.handleError(fe(this.db,M,0,0,R));return this},C.prototype.exec=function(M,q,te){if(!this.db)throw"Database closed";var oe=fi(),ue=null;try{var Se=$l(M),sn=sr(4);for(M=[];ht(Se,"i8")!==0;){Dr(R),Dr(sn),this.handleError(Vd(this.db,Se,-1,R,sn));var Ht=ht(R,"i32");if(Se=ht(sn,"i32"),Ht!==0){var Ft=null;for(ue=new p(Ht,this),q!=null&&ue.bind(q);ue.step();)Ft===null&&(Ft={columns:ue.getColumnNames(),values:[]},M.push(Ft)),Ft.values.push(ue.get(null,te));ue.free()}}return M}catch(on){throw ue&&ue.free(),on}finally{di(oe)}},C.prototype.each=function(M,q,te,oe,ue){typeof q=="function"&&(oe=te,te=q,q=void 0),M=this.prepare(M,q);try{for(;M.step();)te(M.getAsObject(null,ue))}finally{M.free()}if(typeof oe=="function")return oe()},C.prototype.prepare=function(M,q){if(Dr(R),this.handleError(Nt(this.db,M,-1,R,0)),M=ht(R,"i32"),M===0)throw"Nothing to prepare";var te=new p(M,this);return q!=null&&te.bind(q),this.fb[M]=te},C.prototype.iterateStatements=function(M){return new _(M,this)},C.prototype.export=function(){Object.values(this.fb).forEach(function(q){q.free()}),Object.values(this.Sa).forEach(rr),this.Sa={},this.handleError(pe(this.db));var M=dy(this.filename);return this.handleError(se(this.filename,R)),this.db=ht(R,"i32"),$d(this.db),M},C.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(M){M.free()}),Object.values(this.Sa).forEach(rr),this.Sa={},this.Ya&&(rr(this.Ya),this.Ya=void 0),this.handleError(pe(this.db)),Ad("/"+this.filename),this.db=null)},C.prototype.handleError=function(M){if(M===0)return null;throw M=ky(this.db),Error(M)},C.prototype.getRowsModified=function(){return Be(this.db)},C.prototype.create_function=function(M,q){Object.prototype.hasOwnProperty.call(this.Sa,M)&&(rr(this.Sa[M]),delete this.Sa[M]);var te=hi(function(oe,ue,Se){ue=h(ue,Se);try{var sn=q.apply(null,ue)}catch(Ht){Ro(oe,Ht,-1);return}a(oe,sn)},"viii");return this.Sa[M]=te,this.handleError(Wd(this.db,M,q.length,1,0,te,0,0,0)),this},C.prototype.create_aggregate=function(M,q){var te=q.init||function(){return null},oe=q.finalize||function(Ft){return Ft},ue=q.step;if(!ue)throw"An aggregate function must have a step function in "+M;var Se={};Object.hasOwnProperty.call(this.Sa,M)&&(rr(this.Sa[M]),delete this.Sa[M]),q=M+"__finalize",Object.hasOwnProperty.call(this.Sa,q)&&(rr(this.Sa[q]),delete this.Sa[q]);var sn=hi(function(Ft,on,Yl){var Vr=Ud(Ft,1);Object.hasOwnProperty.call(Se,Vr)||(Se[Vr]=te()),on=h(on,Yl),on=[Se[Vr]].concat(on);try{Se[Vr]=ue.apply(null,on)}catch(Uy){delete Se[Vr],Ro(Ft,Uy,-1)}},"viii"),Ht=hi(function(Ft){var on=Ud(Ft,1);try{var Yl=oe(Se[on])}catch(Vr){delete Se[on],Ro(Ft,Vr,-1);return}a(Ft,Yl),delete Se[on]},"vi");return this.Sa[M]=sn,this.Sa[q]=Ht,this.handleError(Wd(this.db,M,ue.length-1,1,0,0,sn,Ht,0)),this},C.prototype.updateHook=function(M){this.Ya&&(Qd(this.db,0,0),rr(this.Ya),this.Ya=void 0),M&&(this.Ya=hi(function(q,te,oe,ue,Se){switch(te){case 18:q="insert";break;case 23:q="update";break;case 9:q="delete";break;default:throw"unknown operationCode in updateHook callback: "+te}if(oe=oe?K(D,oe):"",ue=ue?K(D,ue):"",Se>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";M(q,oe,ue,Number(Se))},"viiiij"),Qd(this.db,this.Ya,0))},u.Database=C};var y={...u},v="./this.program",S=(a,h)=>{throw h},k="",g,w;if(m){var x=kp;k=__dirname+"/",w=a=>(a=V(a)?new URL(a):a,x.readFileSync(a)),g=async a=>(a=V(a)?new URL(a):a,x.readFileSync(a,void 0)),!u.thisProgram&&1<process.argv.length&&(v=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=u,S=(a,h)=>{throw process.exitCode=a,h}}else(d||f)&&(f?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),k=k.startsWith("blob:")?"":k.slice(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1),f&&(w=a=>{var h=new XMLHttpRequest;return h.open("GET",a,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),g=async a=>{if(V(a))return new Promise((p,_)=>{var C=new XMLHttpRequest;C.open("GET",a,!0),C.responseType="arraybuffer",C.onload=()=>{C.status==200||C.status==0&&C.response?p(C.response):_(C.status)},C.onerror=_,C.send(null)});var h=await fetch(a,{credentials:"same-origin"});if(h.ok)return h.arrayBuffer();throw Error(h.status+" : "+h.url)});var A=u.print||console.log.bind(console),T=u.printErr||console.error.bind(console);Object.assign(u,y),y=null,u.thisProgram&&(v=u.thisProgram);var N=u.wasmBinary,b,E=!1,L,I,D,j,z,B,ne,Q,Z,V=a=>a.startsWith("file://");function W(){var a=b.buffer;u.HEAP8=I=new Int8Array(a),u.HEAP16=j=new Int16Array(a),u.HEAPU8=D=new Uint8Array(a),u.HEAPU16=new Uint16Array(a),u.HEAP32=z=new Int32Array(a),u.HEAPU32=B=new Uint32Array(a),u.HEAPF32=ne=new Float32Array(a),u.HEAPF64=Z=new Float64Array(a),u.HEAP64=Q=new BigInt64Array(a),u.HEAPU64=new BigUint64Array(a)}var $=0,G=null;function re(a){var h;throw(h=u.onAbort)==null||h.call(u,a),a="Aborted("+a+")",T(a),E=!0,new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.")}var De;async function F(a){if(!N)try{var h=await g(a);return new Uint8Array(h)}catch{}if(a==De&&N)a=new Uint8Array(N);else if(w)a=w(a);else throw"both async and sync fetching of the wasm failed";return a}async function Y(a,h){try{var p=await F(a);return await WebAssembly.instantiate(p,h)}catch(_){T(`failed to asynchronously prepare wasm: ${_}`),re(_)}}async function ae(a){var h=De;if(!N&&typeof WebAssembly.instantiateStreaming=="function"&&!V(h)&&!m)try{var p=fetch(h,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(p,a)}catch(_){T(`wasm streaming compile failed: ${_}`),T("falling back to ArrayBuffer instantiation")}return Y(h,a)}class we{constructor(h){yt(this,"name","ExitStatus");this.message=`Program terminated with exit(${h})`,this.status=h}}var ee=a=>{for(;0<a.length;)a.shift()(u)},Sn=[],xn=[],Jn=()=>{var a=u.preRun.shift();xn.unshift(a)};function ht(a,h="i8"){switch(h.endsWith("*")&&(h="*"),h){case"i1":return I[a];case"i8":return I[a];case"i16":return j[a>>1];case"i32":return z[a>>2];case"i64":return Q[a>>3];case"float":return ne[a>>2];case"double":return Z[a>>3];case"*":return B[a>>2];default:re(`invalid type for getValue: ${h}`)}}var oi=u.noExitRuntime||!0;function Dr(a){var h="i32";switch(h.endsWith("*")&&(h="*"),h){case"i1":I[a]=0;break;case"i8":I[a]=0;break;case"i16":j[a>>1]=0;break;case"i32":z[a>>2]=0;break;case"i64":Q[a>>3]=BigInt(0);break;case"float":ne[a>>2]=0;break;case"double":Z[a>>3]=0;break;case"*":B[a>>2]=0;break;default:re(`invalid type for setValue: ${h}`)}}var X=typeof TextDecoder<"u"?new TextDecoder:void 0,K=(a,h=0,p=NaN)=>{var _=h+p;for(p=h;a[p]&&!(p>=_);)++p;if(16<p-h&&a.buffer&&X)return X.decode(a.subarray(h,p));for(_="";h<p;){var C=a[h++];if(C&128){var R=a[h++]&63;if((C&224)==192)_+=String.fromCharCode((C&31)<<6|R);else{var P=a[h++]&63;C=(C&240)==224?(C&15)<<12|R<<6|P:(C&7)<<18|R<<12|P<<6|a[h++]&63,65536>C?_+=String.fromCharCode(C):(C-=65536,_+=String.fromCharCode(55296|C>>10,56320|C&1023))}}else _+=String.fromCharCode(C)}return _},Ve=(a,h)=>a?K(D,a,h):"",Ce=(a,h)=>{for(var p=0,_=a.length-1;0<=_;_--){var C=a[_];C==="."?a.splice(_,1):C===".."?(a.splice(_,1),p++):p&&(a.splice(_,1),p--)}if(h)for(;p;p--)a.unshift("..");return a},ve=a=>{var h=a.charAt(0)==="/",p=a.slice(-1)==="/";return(a=Ce(a.split("/").filter(_=>!!_),!h).join("/"))||h||(a="."),a&&p&&(a+="/"),(h?"/":"")+a},be=a=>{var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);return a=h[0],h=h[1],!a&&!h?".":(h&&(h=h.slice(0,-1)),a+h)},ot=a=>a&&a.match(/([^\/]+|\/)\/*$/)[1],Tn=()=>{if(m){var a=kp;return h=>a.randomFillSync(h)}return h=>crypto.getRandomValues(h)},er=a=>{(er=Tn())(a)},ai=(...a)=>{for(var h="",p=!1,_=a.length-1;-1<=_&&!p;_--){if(p=0<=_?a[_]:"/",typeof p!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!p)return"";h=p+"/"+h,p=p.charAt(0)==="/"}return h=Ce(h.split("/").filter(C=>!!C),!p).join("/"),(p?"/":"")+h||"."},li=[],Pr=a=>{for(var h=0,p=0;p<a.length;++p){var _=a.charCodeAt(p);127>=_?h++:2047>=_?h+=2:55296<=_&&57343>=_?(h+=4,++p):h+=3}return h},Dn=(a,h,p,_)=>{if(!(0<_))return 0;var C=p;_=p+_-1;for(var R=0;R<a.length;++R){var P=a.charCodeAt(R);if(55296<=P&&57343>=P){var se=a.charCodeAt(++R);P=65536+((P&1023)<<10)|se&1023}if(127>=P){if(p>=_)break;h[p++]=P}else{if(2047>=P){if(p+1>=_)break;h[p++]=192|P>>6}else{if(65535>=P){if(p+2>=_)break;h[p++]=224|P>>12}else{if(p+3>=_)break;h[p++]=240|P>>18,h[p++]=128|P>>12&63}h[p++]=128|P>>6&63}h[p++]=128|P&63}}return h[p]=0,p-C},fd=(a,h)=>{var p=Array(Pr(a)+1);return a=Dn(a,p,0,p.length),h&&(p.length=a),p},pd=[];function md(a,h){pd[a]={input:[],output:[],cb:h},Vl(a,ry)}var ry={open(a){var h=pd[a.node.rdev];if(!h)throw new H(43);a.tty=h,a.seekable=!1},close(a){a.tty.cb.fsync(a.tty)},fsync(a){a.tty.cb.fsync(a.tty)},read(a,h,p,_){if(!a.tty||!a.tty.cb.xb)throw new H(60);for(var C=0,R=0;R<_;R++){try{var P=a.tty.cb.xb(a.tty)}catch{throw new H(29)}if(P===void 0&&C===0)throw new H(6);if(P==null)break;C++,h[p+R]=P}return C&&(a.node.atime=Date.now()),C},write(a,h,p,_){if(!a.tty||!a.tty.cb.qb)throw new H(60);try{for(var C=0;C<_;C++)a.tty.cb.qb(a.tty,h[p+C])}catch{throw new H(29)}return _&&(a.node.mtime=a.node.ctime=Date.now()),C}},sy={xb(){e:{if(!li.length){var a=null;if(m){var h=Buffer.alloc(256),p=0,_=process.stdin.fd;try{p=x.readSync(_,h,0,256)}catch(C){if(C.toString().includes("EOF"))p=0;else throw C}0<p&&(a=h.slice(0,p).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(a=window.prompt("Input: "),a!==null&&(a+=`
`));if(!a){a=null;break e}li=fd(a,!0)}a=li.shift()}return a},qb(a,h){h===null||h===10?(A(K(a.output)),a.output=[]):h!=0&&a.output.push(h)},fsync(a){var h;0<((h=a.output)==null?void 0:h.length)&&(A(K(a.output)),a.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},iy={qb(a,h){h===null||h===10?(T(K(a.output)),a.output=[]):h!=0&&a.output.push(h)},fsync(a){var h;0<((h=a.output)==null?void 0:h.length)&&(T(K(a.output)),a.output=[])}},de={Wa:null,Xa(){return de.createNode(null,"/",16895,0)},createNode(a,h,p,_){if((p&61440)===24576||(p&61440)===4096)throw new H(63);return de.Wa||(de.Wa={dir:{node:{Ta:de.La.Ta,Ua:de.La.Ua,lookup:de.La.lookup,hb:de.La.hb,rename:de.La.rename,unlink:de.La.unlink,rmdir:de.La.rmdir,readdir:de.La.readdir,symlink:de.La.symlink},stream:{Va:de.Ma.Va}},file:{node:{Ta:de.La.Ta,Ua:de.La.Ua},stream:{Va:de.Ma.Va,read:de.Ma.read,write:de.Ma.write,ib:de.Ma.ib,jb:de.Ma.jb}},link:{node:{Ta:de.La.Ta,Ua:de.La.Ua,readlink:de.La.readlink},stream:{}},ub:{node:{Ta:de.La.Ta,Ua:de.La.Ua},stream:cy}}),p=Sd(a,h,p,_),Et(p.mode)?(p.La=de.Wa.dir.node,p.Ma=de.Wa.dir.stream,p.Na={}):(p.mode&61440)===32768?(p.La=de.Wa.file.node,p.Ma=de.Wa.file.stream,p.Ra=0,p.Na=null):(p.mode&61440)===40960?(p.La=de.Wa.link.node,p.Ma=de.Wa.link.stream):(p.mode&61440)===8192&&(p.La=de.Wa.ub.node,p.Ma=de.Wa.ub.stream),p.atime=p.mtime=p.ctime=Date.now(),a&&(a.Na[h]=p,a.atime=a.mtime=a.ctime=p.atime),p},Sb(a){return a.Na?a.Na.subarray?a.Na.subarray(0,a.Ra):new Uint8Array(a.Na):new Uint8Array(0)},La:{Ta(a){var h={};return h.dev=(a.mode&61440)===8192?a.id:1,h.ino=a.id,h.mode=a.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=a.rdev,Et(a.mode)?h.size=4096:(a.mode&61440)===32768?h.size=a.Ra:(a.mode&61440)===40960?h.size=a.link.length:h.size=0,h.atime=new Date(a.atime),h.mtime=new Date(a.mtime),h.ctime=new Date(a.ctime),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},Ua(a,h){for(var p of["mode","atime","mtime","ctime"])h[p]!=null&&(a[p]=h[p]);h.size!==void 0&&(h=h.size,a.Ra!=h&&(h==0?(a.Na=null,a.Ra=0):(p=a.Na,a.Na=new Uint8Array(h),p&&a.Na.set(p.subarray(0,Math.min(h,a.Ra))),a.Ra=h)))},lookup(){throw de.vb},hb(a,h,p,_){return de.createNode(a,h,p,_)},rename(a,h,p){try{var _=Fr(h,p)}catch{}if(_){if(Et(a.mode))for(var C in _.Na)throw new H(55);jl(_)}delete a.parent.Na[a.name],h.Na[p]=a,a.name=p,h.ctime=h.mtime=a.parent.ctime=a.parent.mtime=Date.now()},unlink(a,h){delete a.Na[h],a.ctime=a.mtime=Date.now()},rmdir(a,h){var p=Fr(a,h),_;for(_ in p.Na)throw new H(55);delete a.Na[h],a.ctime=a.mtime=Date.now()},readdir(a){return[".","..",...Object.keys(a.Na)]},symlink(a,h,p){return a=de.createNode(a,h,41471,0),a.link=p,a},readlink(a){if((a.mode&61440)!==40960)throw new H(28);return a.link}},Ma:{read(a,h,p,_,C){var R=a.node.Na;if(C>=a.node.Ra)return 0;if(a=Math.min(a.node.Ra-C,_),8<a&&R.subarray)h.set(R.subarray(C,C+a),p);else for(_=0;_<a;_++)h[p+_]=R[C+_];return a},write(a,h,p,_,C,R){if(h.buffer===I.buffer&&(R=!1),!_)return 0;if(a=a.node,a.mtime=a.ctime=Date.now(),h.subarray&&(!a.Na||a.Na.subarray)){if(R)return a.Na=h.subarray(p,p+_),a.Ra=_;if(a.Ra===0&&C===0)return a.Na=h.slice(p,p+_),a.Ra=_;if(C+_<=a.Ra)return a.Na.set(h.subarray(p,p+_),C),_}R=C+_;var P=a.Na?a.Na.length:0;if(P>=R||(R=Math.max(R,P*(1048576>P?2:1.125)>>>0),P!=0&&(R=Math.max(R,256)),P=a.Na,a.Na=new Uint8Array(R),0<a.Ra&&a.Na.set(P.subarray(0,a.Ra),0)),a.Na.subarray&&h.subarray)a.Na.set(h.subarray(p,p+_),C);else for(R=0;R<_;R++)a.Na[C+R]=h[p+R];return a.Ra=Math.max(a.Ra,C+_),_},Va(a,h,p){if(p===1?h+=a.position:p===2&&(a.node.mode&61440)===32768&&(h+=a.node.Ra),0>h)throw new H(28);return h},ib(a,h,p,_,C){if((a.node.mode&61440)!==32768)throw new H(43);if(a=a.node.Na,C&2||!a||a.buffer!==I.buffer){C=!0,_=65536*Math.ceil(h/65536);var R=Fd(65536,_);if(R&&D.fill(0,R,R+_),_=R,!_)throw new H(48);a&&((0<p||p+h<a.length)&&(a.subarray?a=a.subarray(p,p+h):a=Array.prototype.slice.call(a,p,p+h)),I.set(a,_))}else C=!1,_=a.byteOffset;return{Kb:_,Ab:C}},jb(a,h,p,_){return de.Ma.write(a,h,0,_,p,!1),0}}},gd=(a,h)=>{var p=0;return a&&(p|=365),h&&(p|=146),p},Dl=null,vd={},us=[],oy=1,tr=null,yd=!1,_d=!0,wd={},H=class{constructor(a){yt(this,"name","ErrnoError");this.Pa=a}},ay=class{constructor(){yt(this,"gb",{});yt(this,"node",null)}get flags(){return this.gb.flags}set flags(a){this.gb.flags=a}get position(){return this.gb.position}set position(a){this.gb.position=a}},ly=class{constructor(a,h,p,_){yt(this,"La",{});yt(this,"Ma",{});yt(this,"ab",null);a||(a=this),this.parent=a,this.Xa=a.Xa,this.id=oy++,this.name=h,this.mode=p,this.rdev=_,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(a){a?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(a){a?this.mode|=146:this.mode&=-147}};function Qt(a,h={}){if(!a)throw new H(44);h.nb??(h.nb=!0),a.charAt(0)==="/"||(a="//"+a);var p=0;e:for(;40>p;p++){a=a.split("/").filter(se=>!!se);for(var _=Dl,C="/",R=0;R<a.length;R++){var P=R===a.length-1;if(P&&h.parent)break;if(a[R]!==".")if(a[R]==="..")C=be(C),_=_.parent;else{C=ve(C+"/"+a[R]);try{_=Fr(_,a[R])}catch(se){if((se==null?void 0:se.Pa)===44&&P&&h.Jb)return{path:C};throw se}if(!_.ab||P&&!h.nb||(_=_.ab.root),(_.mode&61440)===40960&&(!P||h.$a)){if(!_.La.readlink)throw new H(52);_=_.La.readlink(_),_.charAt(0)==="/"||(_=be(C)+"/"+_),a=_+"/"+a.slice(R+1).join("/");continue e}}}return{path:C,node:_}}throw new H(32)}function Pl(a){for(var h;;){if(a===a.parent)return a=a.Xa.zb,h?a[a.length-1]!=="/"?`${a}/${h}`:a+h:a;h=h?`${a.name}/${h}`:a.name,a=a.parent}}function Fl(a,h){for(var p=0,_=0;_<h.length;_++)p=(p<<5)-p+h.charCodeAt(_)|0;return(a+p>>>0)%tr.length}function jl(a){var h=Fl(a.parent.id,a.name);if(tr[h]===a)tr[h]=a.bb;else for(h=tr[h];h;){if(h.bb===a){h.bb=a.bb;break}h=h.bb}}function Fr(a,h){var p=Et(a.mode)?(p=cs(a,"x"))?p:a.La.lookup?0:2:54;if(p)throw new H(p);for(p=tr[Fl(a.id,h)];p;p=p.bb){var _=p.name;if(p.parent.id===a.id&&_===h)return p}return a.La.lookup(a,h)}function Sd(a,h,p,_){return a=new ly(a,h,p,_),h=Fl(a.parent.id,a.name),a.bb=tr[h],tr[h]=a}function Et(a){return(a&61440)===16384}function xd(a){var h=["r","w","rw"][a&3];return a&512&&(h+="w"),h}function cs(a,h){if(_d)return 0;if(!h.includes("r")||a.mode&292){if(h.includes("w")&&!(a.mode&146)||h.includes("x")&&!(a.mode&73))return 2}else return 2;return 0}function Td(a,h){if(!Et(a.mode))return 54;try{return Fr(a,h),20}catch{}return cs(a,"wx")}function kd(a,h,p){try{var _=Fr(a,h)}catch(C){return C.Pa}if(a=cs(a,"wx"))return a;if(p){if(!Et(_.mode))return 54;if(_===_.parent||Pl(_)==="/")return 10}else if(Et(_.mode))return 31;return 0}function xo(a){if(!a)throw new H(63);return a}function vt(a){if(a=us[a],!a)throw new H(8);return a}function Cd(a,h=-1){if(a=Object.assign(new ay,a),h==-1)e:{for(h=0;4096>=h;h++)if(!us[h])break e;throw new H(33)}return a.fd=h,us[h]=a}function uy(a,h=-1){var p,_;return a=Cd(a,h),(_=(p=a.Ma)==null?void 0:p.Rb)==null||_.call(p,a),a}function Ll(a,h,p){var _=a==null?void 0:a.Ma.Ua;a=_?a:h,_??(_=h.La.Ua),xo(_),_(a,p)}var cy={open(a){var h,p;a.Ma=vd[a.node.rdev].Ma,(p=(h=a.Ma).open)==null||p.call(h,a)},Va(){throw new H(70)}};function Vl(a,h){vd[a]={Ma:h}}function Ed(a,h){var p=h==="/";if(p&&Dl)throw new H(10);if(!p&&h){var _=Qt(h,{nb:!1});if(h=_.path,_=_.node,_.ab)throw new H(10);if(!Et(_.mode))throw new H(54)}h={type:a,Wb:{},zb:h,Ib:[]},a=a.Xa(h),a.Xa=h,h.root=a,p?Dl=a:_&&(_.ab=h,_.Xa&&_.Xa.Ib.push(h))}function To(a,h,p){var _=Qt(a,{parent:!0}).node;if(a=ot(a),!a)throw new H(28);if(a==="."||a==="..")throw new H(20);var C=Td(_,a);if(C)throw new H(C);if(!_.La.hb)throw new H(63);return _.La.hb(_,a,h,p)}function hy(a,h=438){return To(a,h&4095|32768,0)}function kn(a,h=511){return To(a,h&1023|16384,0)}function ko(a,h,p){typeof p>"u"&&(p=h,h=438),To(a,h|8192,p)}function ql(a,h){if(!ai(a))throw new H(44);var p=Qt(h,{parent:!0}).node;if(!p)throw new H(44);h=ot(h);var _=Td(p,h);if(_)throw new H(_);if(!p.La.symlink)throw new H(63);p.La.symlink(p,h,a)}function Nd(a){var h=Qt(a,{parent:!0}).node;a=ot(a);var p=Fr(h,a),_=kd(h,a,!0);if(_)throw new H(_);if(!h.La.rmdir)throw new H(63);if(p.ab)throw new H(10);h.La.rmdir(h,a),jl(p)}function Ad(a){var h=Qt(a,{parent:!0}).node;if(!h)throw new H(44);a=ot(a);var p=Fr(h,a),_=kd(h,a,!1);if(_)throw new H(_);if(!h.La.unlink)throw new H(63);if(p.ab)throw new H(10);h.La.unlink(h,a),jl(p)}function ui(a,h){return a=Qt(a,{$a:!h}).node,xo(a.La.Ta)(a)}function bd(a,h,p,_){Ll(a,h,{mode:p&4095|h.mode&-4096,ctime:Date.now(),Fb:_})}function Co(a,h){a=typeof a=="string"?Qt(a,{$a:!0}).node:a,bd(null,a,h)}function Od(a,h,p){if(Et(h.mode))throw new H(31);if((h.mode&61440)!==32768)throw new H(28);var _=cs(h,"w");if(_)throw new H(_);Ll(a,h,{size:p,timestamp:Date.now()})}function hs(a,h,p=438){if(a==="")throw new H(44);if(typeof h=="string"){var _={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[h];if(typeof _>"u")throw Error(`Unknown file open mode: ${h}`);h=_}if(p=h&64?p&4095|32768:0,typeof a=="object")_=a;else{var C=a.endsWith("/");a=Qt(a,{$a:!(h&131072),Jb:!0}),_=a.node,a=a.path}var R=!1;if(h&64)if(_){if(h&128)throw new H(20)}else{if(C)throw new H(31);_=To(a,p|511,0),R=!0}if(!_)throw new H(44);if((_.mode&61440)===8192&&(h&=-513),h&65536&&!Et(_.mode))throw new H(54);if(!R&&(C=_?(_.mode&61440)===40960?32:Et(_.mode)&&(xd(h)!=="r"||h&576)?31:cs(_,xd(h)):44))throw new H(C);return h&512&&!R&&(C=_,C=typeof C=="string"?Qt(C,{$a:!0}).node:C,Od(null,C,0)),h&=-131713,C=Cd({node:_,path:Pl(_),flags:h,seekable:!0,position:0,Ma:_.Ma,Lb:[],error:!1}),C.Ma.open&&C.Ma.open(C),R&&Co(_,p&511),!u.logReadFiles||h&1||a in wd||(wd[a]=1),C}function zl(a){if(a.fd===null)throw new H(8);a.ob&&(a.ob=null);try{a.Ma.close&&a.Ma.close(a)}catch(h){throw h}finally{us[a.fd]=null}a.fd=null}function Md(a,h,p){if(a.fd===null)throw new H(8);if(!a.seekable||!a.Ma.Va)throw new H(70);if(p!=0&&p!=1&&p!=2)throw new H(28);a.position=a.Ma.Va(a,h,p),a.Lb=[]}function Rd(a,h,p,_,C){if(0>_||0>C)throw new H(28);if(a.fd===null)throw new H(8);if((a.flags&2097155)===1)throw new H(8);if(Et(a.node.mode))throw new H(31);if(!a.Ma.read)throw new H(28);var R=typeof C<"u";if(!R)C=a.position;else if(!a.seekable)throw new H(70);return h=a.Ma.read(a,h,p,_,C),R||(a.position+=h),h}function Id(a,h,p,_,C){if(0>_||0>C)throw new H(28);if(a.fd===null)throw new H(8);if(!(a.flags&2097155))throw new H(8);if(Et(a.node.mode))throw new H(31);if(!a.Ma.write)throw new H(28);a.seekable&&a.flags&1024&&Md(a,0,2);var R=typeof C<"u";if(!R)C=a.position;else if(!a.seekable)throw new H(70);return h=a.Ma.write(a,h,p,_,C,void 0),R||(a.position+=h),h}function dy(a){var h,p=hs(a,p||0);a=ui(a).size;var _=new Uint8Array(a);return Rd(p,_,0,a,0),h=_,zl(p),h}function nr(a,h,p){a=ve("/dev/"+a);var _=gd(!!h,!!p);nr.yb??(nr.yb=64);var C=nr.yb++<<8|0;Vl(C,{open(R){R.seekable=!1},close(){var R;(R=p==null?void 0:p.buffer)!=null&&R.length&&p(10)},read(R,P,se,pe){for(var fe=0,Be=0;Be<pe;Be++){try{var Nt=h()}catch{throw new H(29)}if(Nt===void 0&&fe===0)throw new H(6);if(Nt==null)break;fe++,P[se+Be]=Nt}return fe&&(R.node.atime=Date.now()),fe},write(R,P,se,pe){for(var fe=0;fe<pe;fe++)try{p(P[se+fe])}catch{throw new H(29)}return pe&&(R.node.mtime=R.node.ctime=Date.now()),fe}}),ko(a,_,C)}var Oe={};function jr(a,h,p){if(h.charAt(0)==="/")return h;if(a=a===-100?"/":vt(a).path,h.length==0){if(!p)throw new H(44);return a}return a+"/"+h}function Eo(a,h){z[a>>2]=h.dev,z[a+4>>2]=h.mode,B[a+8>>2]=h.nlink,z[a+12>>2]=h.uid,z[a+16>>2]=h.gid,z[a+20>>2]=h.rdev,Q[a+24>>3]=BigInt(h.size),z[a+32>>2]=4096,z[a+36>>2]=h.blocks;var p=h.atime.getTime(),_=h.mtime.getTime(),C=h.ctime.getTime();return Q[a+40>>3]=BigInt(Math.floor(p/1e3)),B[a+48>>2]=p%1e3*1e6,Q[a+56>>3]=BigInt(Math.floor(_/1e3)),B[a+64>>2]=_%1e3*1e6,Q[a+72>>3]=BigInt(Math.floor(C/1e3)),B[a+80>>2]=C%1e3*1e6,Q[a+88>>3]=BigInt(h.ino),0}var No=void 0,Ao=()=>{var a=z[+No>>2];return No+=4,a},Wl=0,fy=[0,31,60,91,121,152,182,213,244,274,305,335],py=[0,31,59,90,120,151,181,212,243,273,304,334],ci={},Dd=a=>{var h;L=a,oi||0<Wl||((h=u.onExit)==null||h.call(u,a),E=!0),S(a,new we(a))},my=a=>{if(!E)try{if(a(),!(oi||0<Wl))try{L=a=L,Dd(a)}catch(h){h instanceof we||h=="unwind"||S(1,h)}}catch(h){h instanceof we||h=="unwind"||S(1,h)}},Bl={},Pd=()=>{if(!Ul){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:v||"./this.program"},h;for(h in Bl)Bl[h]===void 0?delete a[h]:a[h]=Bl[h];var p=[];for(h in a)p.push(`${h}=${a[h]}`);Ul=p}return Ul},Ul,$l=a=>{var h=Pr(a)+1,p=sr(h);return Dn(a,D,p,h),p},gy=(a,h,p,_)=>{var C={string:fe=>{var Be=0;return fe!=null&&fe!==0&&(Be=$l(fe)),Be},array:fe=>{var Be=sr(fe.length);return I.set(fe,Be),Be}};a=u["_"+a];var R=[],P=0;if(_)for(var se=0;se<_.length;se++){var pe=C[p[se]];pe?(P===0&&(P=fi()),R[se]=pe(_[se])):R[se]=_[se]}return p=a(...R),p=function(fe){return P!==0&&di(P),h==="string"?fe?K(D,fe):"":h==="boolean"?!!fe:fe}(p)},bo=0,Oo=(a,h)=>(h=h==1?sr(a.length):Hl(a.length),a.subarray||a.slice||(a=new Uint8Array(a)),D.set(a,h),h),Lr,Ql=[],Pn,rr=a=>{Lr.delete(Pn.get(a)),Pn.set(a,null),Ql.push(a)},hi=(a,h)=>{if(!Lr){Lr=new WeakMap;var p=Pn.length;if(Lr)for(var _=0;_<0+p;_++){var C=Pn.get(_);C&&Lr.set(C,_)}}if(p=Lr.get(a)||0)return p;if(Ql.length)p=Ql.pop();else{try{Pn.grow(1)}catch(pe){throw pe instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":pe}p=Pn.length-1}try{Pn.set(p,a)}catch(pe){if(!(pe instanceof TypeError))throw pe;if(typeof WebAssembly.Function=="function"){var R=WebAssembly.Function;_={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},C={parameters:[],results:h[0]=="v"?[]:[_[h[0]]]};for(var P=1;P<h.length;++P)C.parameters.push(_[h[P]]);h=new R(C,a)}else{_=[1],C=h.slice(0,1),h=h.slice(1),P={i:127,p:127,j:126,f:125,d:124,e:111},_.push(96);var se=h.length;128>se?_.push(se):_.push(se%128|128,se>>7);for(R of h)_.push(P[R]);C=="v"?_.push(0):_.push(1,P[C]),h=[0,97,115,109,1,0,0,0,1],R=_.length,128>R?h.push(R):h.push(R%128|128,R>>7),h.push(..._),h.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),h=new WebAssembly.Module(new Uint8Array(h)),h=new WebAssembly.Instance(h,{e:{f:a}}).exports.f}Pn.set(p,h)}return Lr.set(a,p),p};tr=Array(4096),Ed(de,"/"),kn("/tmp"),kn("/home"),kn("/home/web_user"),function(){kn("/dev"),Vl(259,{read:()=>0,write:(_,C,R,P)=>P,Va:()=>0}),ko("/dev/null",259),md(1280,sy),md(1536,iy),ko("/dev/tty",1280),ko("/dev/tty1",1536);var a=new Uint8Array(1024),h=0,p=()=>(h===0&&(er(a),h=a.byteLength),a[--h]);nr("random",p),nr("urandom",p),kn("/dev/shm"),kn("/dev/shm/tmp")}(),function(){kn("/proc");var a=kn("/proc/self");kn("/proc/self/fd"),Ed({Xa(){var h=Sd(a,"fd",16895,73);return h.Ma={Va:de.Ma.Va},h.La={lookup(p,_){p=+_;var C=vt(p);return p={parent:null,Xa:{zb:"fake"},La:{readlink:()=>C.path},id:p+1},p.parent=p},readdir(){return Array.from(us.entries()).filter(([,p])=>p).map(([p])=>p.toString())}},h}},"/proc/self/fd")}(),de.vb=new H(44),de.vb.stack="<generic error, no stack>";var vy={a:(a,h,p,_)=>re(`Assertion failed: ${a?K(D,a):""}, at: `+[h?h?K(D,h):"":"unknown filename",p,_?_?K(D,_):"":"unknown function"]),i:function(a,h){try{return a=a?K(D,a):"",Co(a,h),0}catch(p){if(typeof Oe>"u"||p.name!=="ErrnoError")throw p;return-p.Pa}},L:function(a,h,p){try{if(h=h?K(D,h):"",h=jr(a,h),p&-8)return-28;var _=Qt(h,{$a:!0}).node;return _?(a="",p&4&&(a+="r"),p&2&&(a+="w"),p&1&&(a+="x"),a&&cs(_,a)?-2:0):-44}catch(C){if(typeof Oe>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},j:function(a,h){try{var p=vt(a);return bd(p,p.node,h,!1),0}catch(_){if(typeof Oe>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},h:function(a){try{var h=vt(a);return Ll(h,h.node,{timestamp:Date.now(),Fb:!1}),0}catch(p){if(typeof Oe>"u"||p.name!=="ErrnoError")throw p;return-p.Pa}},b:function(a,h,p){No=p;try{var _=vt(a);switch(h){case 0:var C=Ao();if(0>C)break;for(;us[C];)C++;return uy(_,C).fd;case 1:case 2:return 0;case 3:return _.flags;case 4:return C=Ao(),_.flags|=C,0;case 12:return C=Ao(),j[C+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(R){if(typeof Oe>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},g:function(a,h){try{var p=vt(a),_=p.node,C=p.Ma.Ta;a=C?p:_,C??(C=_.La.Ta),xo(C);var R=C(a);return Eo(h,R)}catch(P){if(typeof Oe>"u"||P.name!=="ErrnoError")throw P;return-P.Pa}},H:function(a,h){h=-9007199254740992>h||9007199254740992<h?NaN:Number(h);try{if(isNaN(h))return 61;var p=vt(a);if(0>h||!(p.flags&2097155))throw new H(28);return Od(p,p.node,h),0}catch(_){if(typeof Oe>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},G:function(a,h){try{if(h===0)return-28;var p=Pr("/")+1;return h<p?-68:(Dn("/",D,a,h),p)}catch(_){if(typeof Oe>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},K:function(a,h){try{return a=a?K(D,a):"",Eo(h,ui(a,!0))}catch(p){if(typeof Oe>"u"||p.name!=="ErrnoError")throw p;return-p.Pa}},C:function(a,h,p){try{return h=h?K(D,h):"",h=jr(a,h),kn(h,p),0}catch(_){if(typeof Oe>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},J:function(a,h,p,_){try{h=h?K(D,h):"";var C=_&256;return h=jr(a,h,_&4096),Eo(p,C?ui(h,!0):ui(h))}catch(R){if(typeof Oe>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},x:function(a,h,p,_){No=_;try{h=h?K(D,h):"",h=jr(a,h);var C=_?Ao():0;return hs(h,p,C).fd}catch(R){if(typeof Oe>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},v:function(a,h,p,_){try{if(h=h?K(D,h):"",h=jr(a,h),0>=_)return-28;var C=Qt(h).node;if(!C)throw new H(44);if(!C.La.readlink)throw new H(28);var R=C.La.readlink(C),P=Math.min(_,Pr(R)),se=I[p+P];return Dn(R,D,p,_+1),I[p+P]=se,P}catch(pe){if(typeof Oe>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},u:function(a){try{return a=a?K(D,a):"",Nd(a),0}catch(h){if(typeof Oe>"u"||h.name!=="ErrnoError")throw h;return-h.Pa}},f:function(a,h){try{return a=a?K(D,a):"",Eo(h,ui(a))}catch(p){if(typeof Oe>"u"||p.name!=="ErrnoError")throw p;return-p.Pa}},r:function(a,h,p){try{return h=h?K(D,h):"",h=jr(a,h),p===0?Ad(h):p===512?Nd(h):re("Invalid flags passed to unlinkat"),0}catch(_){if(typeof Oe>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},q:function(a,h,p){try{h=h?K(D,h):"",h=jr(a,h,!0);var _=Date.now(),C,R;if(p){var P=B[p>>2]+4294967296*z[p+4>>2],se=z[p+8>>2];se==1073741823?C=_:se==1073741822?C=null:C=1e3*P+se/1e6,p+=16,P=B[p>>2]+4294967296*z[p+4>>2],se=z[p+8>>2],se==1073741823?R=_:se==1073741822?R=null:R=1e3*P+se/1e6}else R=C=_;if((R??C)!==null){a=C;var pe=Qt(h,{$a:!0}).node;xo(pe.La.Ua)(pe,{atime:a,mtime:R})}return 0}catch(fe){if(typeof Oe>"u"||fe.name!=="ErrnoError")throw fe;return-fe.Pa}},m:()=>re(""),l:()=>{oi=!1,Wl=0},A:function(a,h){a=-9007199254740992>a||9007199254740992<a?NaN:Number(a),a=new Date(1e3*a),z[h>>2]=a.getSeconds(),z[h+4>>2]=a.getMinutes(),z[h+8>>2]=a.getHours(),z[h+12>>2]=a.getDate(),z[h+16>>2]=a.getMonth(),z[h+20>>2]=a.getFullYear()-1900,z[h+24>>2]=a.getDay();var p=a.getFullYear();z[h+28>>2]=(p%4!==0||p%100===0&&p%400!==0?py:fy)[a.getMonth()]+a.getDate()-1|0,z[h+36>>2]=-(60*a.getTimezoneOffset()),p=new Date(a.getFullYear(),6,1).getTimezoneOffset();var _=new Date(a.getFullYear(),0,1).getTimezoneOffset();z[h+32>>2]=(p!=_&&a.getTimezoneOffset()==Math.min(_,p))|0},y:function(a,h,p,_,C,R,P){C=-9007199254740992>C||9007199254740992<C?NaN:Number(C);try{if(isNaN(C))return 61;var se=vt(_);if(h&2&&!(p&2)&&(se.flags&2097155)!==2)throw new H(2);if((se.flags&2097155)===1)throw new H(2);if(!se.Ma.ib)throw new H(43);if(!a)throw new H(28);var pe=se.Ma.ib(se,a,C,h,p),fe=pe.Kb;return z[R>>2]=pe.Ab,B[P>>2]=fe,0}catch(Be){if(typeof Oe>"u"||Be.name!=="ErrnoError")throw Be;return-Be.Pa}},z:function(a,h,p,_,C,R){R=-9007199254740992>R||9007199254740992<R?NaN:Number(R);try{var P=vt(C);if(p&2){if(p=R,(P.node.mode&61440)!==32768)throw new H(43);if(!(_&2)){var se=D.slice(a,a+h);P.Ma.jb&&P.Ma.jb(P,se,p,h,_)}}}catch(pe){if(typeof Oe>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},n:(a,h)=>{if(ci[a]&&(clearTimeout(ci[a].id),delete ci[a]),!h)return 0;var p=setTimeout(()=>{delete ci[a],my(()=>jd(a,performance.now()))},h);return ci[a]={id:p,Xb:h},0},B:(a,h,p,_)=>{var C=new Date().getFullYear(),R=new Date(C,0,1).getTimezoneOffset();C=new Date(C,6,1).getTimezoneOffset(),B[a>>2]=60*Math.max(R,C),z[h>>2]=+(R!=C),h=P=>{var se=Math.abs(P);return`UTC${0<=P?"-":"+"}${String(Math.floor(se/60)).padStart(2,"0")}${String(se%60).padStart(2,"0")}`},a=h(R),h=h(C),C<R?(Dn(a,D,p,17),Dn(h,D,_,17)):(Dn(a,D,_,17),Dn(h,D,p,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:a=>{var h=D.length;if(a>>>=0,2147483648<a)return!1;for(var p=1;4>=p;p*=2){var _=h*(1+.2/p);_=Math.min(_,a+100663296);e:{_=(Math.min(2147483648,65536*Math.ceil(Math.max(a,_)/65536))-b.buffer.byteLength+65535)/65536|0;try{b.grow(_),W();var C=1;break e}catch{}C=void 0}if(C)return!0}return!1},E:(a,h)=>{var p=0;return Pd().forEach((_,C)=>{var R=h+p;for(C=B[a+4*C>>2]=R,R=0;R<_.length;++R)I[C++]=_.charCodeAt(R);I[C]=0,p+=_.length+1}),0},F:(a,h)=>{var p=Pd();B[a>>2]=p.length;var _=0;return p.forEach(C=>_+=C.length+1),B[h>>2]=_,0},e:function(a){try{var h=vt(a);return zl(h),0}catch(p){if(typeof Oe>"u"||p.name!=="ErrnoError")throw p;return p.Pa}},p:function(a,h){try{var p=vt(a);return I[h]=p.tty?2:Et(p.mode)?3:(p.mode&61440)===40960?7:4,j[h+2>>1]=0,Q[h+8>>3]=BigInt(0),Q[h+16>>3]=BigInt(0),0}catch(_){if(typeof Oe>"u"||_.name!=="ErrnoError")throw _;return _.Pa}},w:function(a,h,p,_){try{e:{var C=vt(a);a=h;for(var R,P=h=0;P<p;P++){var se=B[a>>2],pe=B[a+4>>2];a+=8;var fe=Rd(C,I,se,pe,R);if(0>fe){var Be=-1;break e}if(h+=fe,fe<pe)break;typeof R<"u"&&(R+=fe)}Be=h}return B[_>>2]=Be,0}catch(Nt){if(typeof Oe>"u"||Nt.name!=="ErrnoError")throw Nt;return Nt.Pa}},D:function(a,h,p,_){h=-9007199254740992>h||9007199254740992<h?NaN:Number(h);try{if(isNaN(h))return 61;var C=vt(a);return Md(C,h,p),Q[_>>3]=BigInt(C.position),C.ob&&h===0&&p===0&&(C.ob=null),0}catch(R){if(typeof Oe>"u"||R.name!=="ErrnoError")throw R;return R.Pa}},I:function(a){var p;try{var h=vt(a);return(p=h.Ma)!=null&&p.fsync?h.Ma.fsync(h):0}catch(_){if(typeof Oe>"u"||_.name!=="ErrnoError")throw _;return _.Pa}},t:function(a,h,p,_){try{e:{var C=vt(a);a=h;for(var R,P=h=0;P<p;P++){var se=B[a>>2],pe=B[a+4>>2];a+=8;var fe=Id(C,I,se,pe,R);if(0>fe){var Be=-1;break e}if(h+=fe,fe<pe)break;typeof R<"u"&&(R+=fe)}Be=h}return B[_>>2]=Be,0}catch(Nt){if(typeof Oe>"u"||Nt.name!=="ErrnoError")throw Nt;return Nt.Pa}},k:Dd},ie;(async function(){var p;function a(_){var C;return ie=_.exports,b=ie.M,W(),Pn=ie.O,$--,(C=u.monitorRunDependencies)==null||C.call(u,$),$==0&&G&&(_=G,G=null,_()),ie}$++,(p=u.monitorRunDependencies)==null||p.call(u,$);var h={a:vy};return u.instantiateWasm?new Promise(_=>{u.instantiateWasm(h,(C,R)=>{a(C),_(C.exports)})}):(De??(De=u.locateFile?u.locateFile("sql-wasm.wasm",k):k+"sql-wasm.wasm"),a((await ae(h)).instance))})(),u._sqlite3_free=a=>(u._sqlite3_free=ie.P)(a),u._sqlite3_value_text=a=>(u._sqlite3_value_text=ie.Q)(a),u._sqlite3_prepare_v2=(a,h,p,_,C)=>(u._sqlite3_prepare_v2=ie.R)(a,h,p,_,C),u._sqlite3_step=a=>(u._sqlite3_step=ie.S)(a),u._sqlite3_reset=a=>(u._sqlite3_reset=ie.T)(a),u._sqlite3_exec=(a,h,p,_,C)=>(u._sqlite3_exec=ie.U)(a,h,p,_,C),u._sqlite3_finalize=a=>(u._sqlite3_finalize=ie.V)(a),u._sqlite3_column_name=(a,h)=>(u._sqlite3_column_name=ie.W)(a,h),u._sqlite3_column_text=(a,h)=>(u._sqlite3_column_text=ie.X)(a,h),u._sqlite3_column_type=(a,h)=>(u._sqlite3_column_type=ie.Y)(a,h),u._sqlite3_errmsg=a=>(u._sqlite3_errmsg=ie.Z)(a),u._sqlite3_clear_bindings=a=>(u._sqlite3_clear_bindings=ie._)(a),u._sqlite3_value_blob=a=>(u._sqlite3_value_blob=ie.$)(a),u._sqlite3_value_bytes=a=>(u._sqlite3_value_bytes=ie.aa)(a),u._sqlite3_value_double=a=>(u._sqlite3_value_double=ie.ba)(a),u._sqlite3_value_int=a=>(u._sqlite3_value_int=ie.ca)(a),u._sqlite3_value_type=a=>(u._sqlite3_value_type=ie.da)(a),u._sqlite3_result_blob=(a,h,p,_)=>(u._sqlite3_result_blob=ie.ea)(a,h,p,_),u._sqlite3_result_double=(a,h)=>(u._sqlite3_result_double=ie.fa)(a,h),u._sqlite3_result_error=(a,h,p)=>(u._sqlite3_result_error=ie.ga)(a,h,p),u._sqlite3_result_int=(a,h)=>(u._sqlite3_result_int=ie.ha)(a,h),u._sqlite3_result_int64=(a,h)=>(u._sqlite3_result_int64=ie.ia)(a,h),u._sqlite3_result_null=a=>(u._sqlite3_result_null=ie.ja)(a),u._sqlite3_result_text=(a,h,p,_)=>(u._sqlite3_result_text=ie.ka)(a,h,p,_),u._sqlite3_aggregate_context=(a,h)=>(u._sqlite3_aggregate_context=ie.la)(a,h),u._sqlite3_column_count=a=>(u._sqlite3_column_count=ie.ma)(a),u._sqlite3_data_count=a=>(u._sqlite3_data_count=ie.na)(a),u._sqlite3_column_blob=(a,h)=>(u._sqlite3_column_blob=ie.oa)(a,h),u._sqlite3_column_bytes=(a,h)=>(u._sqlite3_column_bytes=ie.pa)(a,h),u._sqlite3_column_double=(a,h)=>(u._sqlite3_column_double=ie.qa)(a,h),u._sqlite3_bind_blob=(a,h,p,_,C)=>(u._sqlite3_bind_blob=ie.ra)(a,h,p,_,C),u._sqlite3_bind_double=(a,h,p)=>(u._sqlite3_bind_double=ie.sa)(a,h,p),u._sqlite3_bind_int=(a,h,p)=>(u._sqlite3_bind_int=ie.ta)(a,h,p),u._sqlite3_bind_text=(a,h,p,_,C)=>(u._sqlite3_bind_text=ie.ua)(a,h,p,_,C),u._sqlite3_bind_parameter_index=(a,h)=>(u._sqlite3_bind_parameter_index=ie.va)(a,h),u._sqlite3_sql=a=>(u._sqlite3_sql=ie.wa)(a),u._sqlite3_normalized_sql=a=>(u._sqlite3_normalized_sql=ie.xa)(a),u._sqlite3_changes=a=>(u._sqlite3_changes=ie.ya)(a),u._sqlite3_close_v2=a=>(u._sqlite3_close_v2=ie.za)(a),u._sqlite3_create_function_v2=(a,h,p,_,C,R,P,se,pe)=>(u._sqlite3_create_function_v2=ie.Aa)(a,h,p,_,C,R,P,se,pe),u._sqlite3_update_hook=(a,h,p)=>(u._sqlite3_update_hook=ie.Ba)(a,h,p),u._sqlite3_open=(a,h)=>(u._sqlite3_open=ie.Ca)(a,h);var Hl=u._malloc=a=>(Hl=u._malloc=ie.Da)(a),Mo=u._free=a=>(Mo=u._free=ie.Ea)(a);u._RegisterExtensionFunctions=a=>(u._RegisterExtensionFunctions=ie.Fa)(a);var Fd=(a,h)=>(Fd=ie.Ga)(a,h),jd=(a,h)=>(jd=ie.Ha)(a,h),di=a=>(di=ie.Ia)(a),sr=a=>(sr=ie.Ja)(a),fi=()=>(fi=ie.Ka)();u.stackSave=()=>fi(),u.stackRestore=a=>di(a),u.stackAlloc=a=>sr(a),u.cwrap=(a,h,p,_)=>{var C=!p||p.every(R=>R==="number"||R==="boolean");return h!=="string"&&C&&!_?u["_"+a]:(...R)=>gy(a,h,p,R)},u.addFunction=hi,u.removeFunction=rr,u.UTF8ToString=Ve,u.ALLOC_NORMAL=bo,u.allocate=Oo,u.allocateUTF8OnStack=$l;function Gl(){function a(){var C;if(u.calledRun=!0,!E){if(!u.noFSInit&&!yd){var h,p;yd=!0,_??(_=u.stdin),h??(h=u.stdout),p??(p=u.stderr),_?nr("stdin",_):ql("/dev/tty","/dev/stdin"),h?nr("stdout",null,h):ql("/dev/tty","/dev/stdout"),p?nr("stderr",null,p):ql("/dev/tty1","/dev/stderr"),hs("/dev/stdin",0),hs("/dev/stdout",1),hs("/dev/stderr",1)}if(ie.N(),_d=!1,(C=u.onRuntimeInitialized)==null||C.call(u),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var _=u.postRun.shift();Sn.unshift(_)}ee(Sn)}}if(0<$)G=Gl;else{if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Jn();ee(xn),0<$?G=Gl:u.setStatus?(u.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>u.setStatus(""),1),a()},1)):a()}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return Gl(),l}),n)};t.exports=r,t.exports.default=r})(Gv);var pC=Gv.exports;const mC=Oc(pC);class gC{constructor(){yt(this,"db",null);yt(this,"SQL",null);yt(this,"isInitialized",!1)}async initialize(){if(!this.isInitialized)try{this.SQL=await mC({locateFile:n=>`https://sql.js.org/dist/${n}`});const e=localStorage.getItem("ts404_db");if(e){const n=new Uint8Array(JSON.parse(e));this.db=new this.SQL.Database(n)}else this.db=new this.SQL.Database;this.createTables(),this.isInitialized=!0}catch(e){console.error("Failed to initialize database:",e),console.warn("Database initialization failed, continuing without patch storage"),this.isInitialized=!0}}createTables(){if(!this.db)throw new Error("Database not initialized");this.db.run(`
      CREATE TABLE IF NOT EXISTS patches (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        name TEXT NOT NULL,
        timestamp INTEGER,
        oscillator_type TEXT,
        volume REAL,
        attack REAL,
        decay REAL,
        sustain REAL,
        release REAL,
        cutoff REAL,
        resonance REAL,
        filter_type TEXT,
        lfo_rate REAL,
        lfo_amount REAL,
        detune_amount REAL,
        sequencer_steps TEXT
      )
    `)}async savePatch(e){if(!this.db)return console.warn("Database not initialized, patch not saved"),-1;try{const n=this.db.prepare(`
        INSERT INTO patches (
          name, timestamp, oscillator_type, volume, attack, decay, sustain, release,
          cutoff, resonance, filter_type, lfo_rate, lfo_amount, detune_amount, sequencer_steps
        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
      `);return n.bind([e.name,Date.now(),e.params.oscillatorType,e.params.volume,e.params.attack,e.params.decay,e.params.sustain,e.params.release,e.params.cutoff,e.params.resonance,e.params.filterType,e.params.lfoRate,e.params.lfoAmount,e.params.detuneAmount,e.sequencerSteps||"[]"]),n.step(),n.free(),this.save(),this.db.exec("SELECT last_insert_rowid() as id")[0].values[0][0]}catch(n){return console.error("Failed to save patch:",n),-1}}async loadPatch(e){if(!this.db)throw new Error("Database not initialized");const n=this.db.exec(`
      SELECT * FROM patches WHERE id = ?
    `,[e]);if(!n||n.length===0||n[0].values.length===0)return null;const r=n[0].values[0],s=n[0].columns;return{id:r[s.indexOf("id")],name:r[s.indexOf("name")],timestamp:r[s.indexOf("timestamp")],params:{oscillatorType:r[s.indexOf("oscillator_type")],volume:r[s.indexOf("volume")],attack:r[s.indexOf("attack")],decay:r[s.indexOf("decay")],sustain:r[s.indexOf("sustain")],release:r[s.indexOf("release")],cutoff:r[s.indexOf("cutoff")],resonance:r[s.indexOf("resonance")],filterType:r[s.indexOf("filter_type")],lfoRate:r[s.indexOf("lfo_rate")],lfoAmount:r[s.indexOf("lfo_amount")],detuneAmount:r[s.indexOf("detune_amount")]},sequencerSteps:r[s.indexOf("sequencer_steps")]}}async loadAllPatches(){if(!this.db)return[];try{const e=this.db.exec(`
        SELECT * FROM patches ORDER BY timestamp DESC
      `);if(!e||e.length===0)return[];const n=[],r=e[0],s=r.columns;for(const i of r.values)n.push({id:i[s.indexOf("id")],name:i[s.indexOf("name")],timestamp:i[s.indexOf("timestamp")],params:{oscillatorType:i[s.indexOf("oscillator_type")],volume:i[s.indexOf("volume")],attack:i[s.indexOf("attack")],decay:i[s.indexOf("decay")],sustain:i[s.indexOf("sustain")],release:i[s.indexOf("release")],cutoff:i[s.indexOf("cutoff")],resonance:i[s.indexOf("resonance")],filterType:i[s.indexOf("filter_type")],lfoRate:i[s.indexOf("lfo_rate")],lfoAmount:i[s.indexOf("lfo_amount")],detuneAmount:i[s.indexOf("detune_amount")]},sequencerSteps:i[s.indexOf("sequencer_steps")]});return n}catch(e){return console.error("Failed to load patches:",e),[]}}async deletePatch(e){if(!this.db)throw new Error("Database not initialized");this.db.run("DELETE FROM patches WHERE id = ?",[e]),this.save()}async updatePatch(e){if(!this.db||!e.id)throw new Error("Database not initialized or invalid patch");this.db.run(`
      UPDATE patches SET
        name = ?, oscillator_type = ?, volume = ?, attack = ?, decay = ?,
        sustain = ?, release = ?, cutoff = ?, resonance = ?, filter_type = ?,
        lfo_rate = ?, lfo_amount = ?, detune_amount = ?
      WHERE id = ?
    `,[e.name,e.params.oscillatorType,e.params.volume,e.params.attack,e.params.decay,e.params.sustain,e.params.release,e.params.cutoff,e.params.resonance,e.params.filterType,e.params.lfoRate,e.params.lfoAmount,e.params.detuneAmount,e.id]),this.save()}save(){if(!this.db)throw new Error("Database not initialized");const e=this.db.export(),n=Array.from(e);localStorage.setItem("ts404_db",JSON.stringify(n))}}const vC={},Cp=t=>{let e;const n=new Set,r=(d,f)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const y=e;e=f??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(v=>v(e,y))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(vC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,s,c);return c},yC=t=>t?Cp(t):Cp;var Yv={exports:{}},Xv={},Zv={exports:{}},Kv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=Ze;function _C(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wC=typeof Object.is=="function"?Object.is:_C,SC=Xs.useState,xC=Xs.useEffect,TC=Xs.useLayoutEffect,kC=Xs.useDebugValue;function CC(t,e){var n=e(),r=SC({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return TC(function(){s.value=n,s.getSnapshot=e,Cu(s)&&i({inst:s})},[t,n,e]),xC(function(){return Cu(s)&&i({inst:s}),t(function(){Cu(s)&&i({inst:s})})},[t]),kC(n),n}function Cu(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wC(t,n)}catch{return!0}}function EC(t,e){return e()}var NC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?EC:CC;Kv.useSyncExternalStore=Xs.useSyncExternalStore!==void 0?Xs.useSyncExternalStore:NC;Zv.exports=Kv;var AC=Zv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=Ze,bC=AC;function OC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var MC=typeof Object.is=="function"?Object.is:OC,RC=bC.useSyncExternalStore,IC=Il.useRef,DC=Il.useEffect,PC=Il.useMemo,FC=Il.useDebugValue;Xv.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=IC(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=PC(function(){function c(y){if(!u){if(u=!0,d=y,y=r(y),s!==void 0&&o.hasValue){var v=o.value;if(s(v,y))return f=v}return f=y}if(v=f,MC(d,y))return v;var S=r(y);return s!==void 0&&s(v,S)?(d=y,v):(d=y,f=S)}var u=!1,d,f,m=n===void 0?null:n;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,n,r,s]);var l=RC(t,i[0],i[1]);return DC(function(){o.hasValue=!0,o.value=l},[l]),FC(l),l};Yv.exports=Xv;var jC=Yv.exports;const LC=Oc(jC),Jv={},{useDebugValue:VC}=Pc,{useSyncExternalStoreWithSelector:qC}=LC;let Ep=!1;const zC=t=>t;function WC(t,e=zC,n){(Jv?"production":void 0)!=="production"&&n&&!Ep&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ep=!0);const r=qC(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return VC(r),r}const Np=t=>{(Jv?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?yC(t):t,n=(r,s)=>WC(e,r,s);return Object.assign(n,e),n},BC=t=>t?Np(t):Np,Ap={acidTechno:{name:"Acid Techno",params:{oscillatorType:"sawtooth",frequency:440,volume:.32,attack:.005,decay:.15,sustain:.25,release:.12,cutoff:1300,resonance:10,filterType:"lowpass",lfoRate:3.8,lfoAmount:.25,detuneAmount:.08,ringModAmount:0,wetness:.25,coarseness:.6},tempo:125,sequencerSteps:[{note:36,velocity:.92,duration:.8,slide:!1,enabled:!0},{note:36,velocity:.85,duration:.5,slide:!1,enabled:!0},{note:40,velocity:.92,duration:.8,slide:!0,enabled:!0},{note:43,velocity:.92,duration:.8,slide:!1,enabled:!0},{note:41,velocity:.92,duration:.8,slide:!0,enabled:!0},{note:38,velocity:.92,duration:.6,slide:!1,enabled:!0},{note:0,velocity:.92,duration:.5,slide:!1,enabled:!1},{note:38,velocity:.92,duration:.8,slide:!0,enabled:!0},{note:43,velocity:.92,duration:.8,slide:!1,enabled:!0},{note:41,velocity:.92,duration:.8,slide:!0,enabled:!0},{note:39,velocity:.88,duration:.6,slide:!1,enabled:!0},{note:36,velocity:.92,duration:1.2,slide:!1,enabled:!0},{note:40,velocity:.92,duration:.8,slide:!1,enabled:!0},{note:43,velocity:.92,duration:.8,slide:!0,enabled:!0},{note:38,velocity:.92,duration:.6,slide:!1,enabled:!0},{note:36,velocity:.92,duration:.8,slide:!1,enabled:!0}]},padAmbient:{name:"Pad/Ambient",params:{oscillatorType:"sine",frequency:440,volume:.15,attack:.5,decay:.8,sustain:.6,release:1,cutoff:4e3,resonance:1,filterType:"lowpass",lfoRate:1.2,lfoAmount:.35,detuneAmount:.2,ringModAmount:0,wetness:.6,coarseness:.3},tempo:60,sequencerSteps:[{note:48,velocity:.6,duration:1,slide:!1,enabled:!0},{note:0,velocity:.6,duration:1,slide:!1,enabled:!1},{note:52,velocity:.6,duration:1,slide:!1,enabled:!0},{note:0,velocity:.6,duration:1,slide:!1,enabled:!1},{note:55,velocity:.6,duration:1,slide:!1,enabled:!0},{note:0,velocity:.6,duration:1,slide:!1,enabled:!1},{note:60,velocity:.6,duration:1,slide:!0,enabled:!0},{note:0,velocity:.6,duration:1,slide:!1,enabled:!1},{note:48,velocity:.6,duration:1,slide:!1,enabled:!0},{note:0,velocity:.6,duration:1,slide:!1,enabled:!1},{note:52,velocity:.6,duration:1,slide:!1,enabled:!0},{note:0,velocity:.6,duration:1,slide:!1,enabled:!1},{note:55,velocity:.6,duration:1,slide:!1,enabled:!0},{note:0,velocity:.6,duration:1,slide:!1,enabled:!1},{note:57,velocity:.6,duration:1,slide:!0,enabled:!0},{note:0,velocity:.6,duration:1,slide:!1,enabled:!1}]},leadBright:{name:"Lead/Bright",params:{oscillatorType:"square",frequency:440,volume:.22,attack:.005,decay:.12,sustain:.4,release:.1,cutoff:5e3,resonance:3,filterType:"lowpass",lfoRate:7,lfoAmount:.12,detuneAmount:.15,ringModAmount:0,wetness:.2,coarseness:.7},tempo:140,sequencerSteps:[{note:60,velocity:.9,duration:.6,slide:!1,enabled:!0},{note:62,velocity:.8,duration:.5,slide:!1,enabled:!0},{note:64,velocity:.85,duration:.7,slide:!1,enabled:!0},{note:65,velocity:.9,duration:.6,slide:!1,enabled:!0},{note:67,velocity:.8,duration:.5,slide:!1,enabled:!0},{note:69,velocity:.85,duration:.7,slide:!1,enabled:!0},{note:70,velocity:.9,duration:.6,slide:!0,enabled:!0},{note:72,velocity:.8,duration:.5,slide:!0,enabled:!0},{note:64,velocity:.85,duration:.7,slide:!1,enabled:!0},{note:60,velocity:.9,duration:.6,slide:!1,enabled:!0},{note:0,velocity:.8,duration:.5,slide:!1,enabled:!1},{note:62,velocity:.85,duration:.7,slide:!1,enabled:!0},{note:67,velocity:.9,duration:.6,slide:!1,enabled:!0},{note:0,velocity:.8,duration:.5,slide:!1,enabled:!1},{note:64,velocity:.85,duration:.7,slide:!1,enabled:!0},{note:60,velocity:.9,duration:.8,slide:!1,enabled:!0}]},bassDeep:{name:"Bass/Deep",params:{oscillatorType:"sawtooth",frequency:440,volume:.35,attack:.005,decay:.2,sustain:.2,release:.25,cutoff:900,resonance:12,filterType:"lowpass",lfoRate:2.5,lfoAmount:.2,detuneAmount:.1,ringModAmount:0,wetness:.15,coarseness:.8},tempo:95,sequencerSteps:[{note:24,velocity:.95,duration:.8,slide:!1,enabled:!0},{note:0,velocity:.95,duration:.4,slide:!1,enabled:!1},{note:29,velocity:.92,duration:.8,slide:!0,enabled:!0},{note:0,velocity:.95,duration:.4,slide:!1,enabled:!1},{note:26,velocity:.93,duration:.8,slide:!0,enabled:!0},{note:0,velocity:.95,duration:.4,slide:!1,enabled:!1},{note:22,velocity:.92,duration:.8,slide:!1,enabled:!0},{note:0,velocity:.95,duration:.4,slide:!1,enabled:!1},{note:24,velocity:.95,duration:.8,slide:!1,enabled:!0},{note:0,velocity:.95,duration:.4,slide:!1,enabled:!1},{note:31,velocity:.93,duration:.8,slide:!0,enabled:!0},{note:0,velocity:.95,duration:.4,slide:!1,enabled:!1},{note:26,velocity:.92,duration:.8,slide:!0,enabled:!0},{note:0,velocity:.95,duration:.4,slide:!1,enabled:!1},{note:24,velocity:.93,duration:1,slide:!1,enabled:!0},{note:0,velocity:.95,duration:.4,slide:!1,enabled:!1}]},pluckStaccato:{name:"Pluck/Staccato",params:{oscillatorType:"triangle",frequency:440,volume:.24,attack:.002,decay:.08,sustain:.05,release:.05,cutoff:3500,resonance:4,filterType:"highpass",lfoRate:5,lfoAmount:.1,detuneAmount:.1,ringModAmount:0,wetness:.1,coarseness:.4},tempo:160,sequencerSteps:[{note:54,velocity:.9,duration:.3,slide:!1,enabled:!0},{note:57,velocity:.8,duration:.3,slide:!1,enabled:!0},{note:59,velocity:.85,duration:.3,slide:!1,enabled:!0},{note:54,velocity:.9,duration:.3,slide:!1,enabled:!0},{note:62,velocity:.8,duration:.3,slide:!1,enabled:!0},{note:57,velocity:.85,duration:.3,slide:!1,enabled:!0},{note:54,velocity:.9,duration:.3,slide:!1,enabled:!0},{note:0,velocity:.8,duration:.3,slide:!1,enabled:!1},{note:59,velocity:.85,duration:.3,slide:!1,enabled:!0},{note:54,velocity:.9,duration:.3,slide:!1,enabled:!0},{note:57,velocity:.8,duration:.3,slide:!1,enabled:!0},{note:62,velocity:.85,duration:.3,slide:!1,enabled:!0},{note:54,velocity:.9,duration:.3,slide:!1,enabled:!0},{note:59,velocity:.8,duration:.3,slide:!1,enabled:!0},{note:57,velocity:.85,duration:.3,slide:!1,enabled:!0},{note:54,velocity:.9,duration:.3,slide:!1,enabled:!0}]},experimental:{name:"Experimental",params:{oscillatorType:"square",frequency:440,volume:.18,attack:.08,decay:.2,sustain:.25,release:.15,cutoff:2e3,resonance:5,filterType:"bandpass",lfoRate:6,lfoAmount:.4,detuneAmount:.3,ringModAmount:.6,wetness:.4,coarseness:.9},tempo:110,sequencerSteps:[{note:45,velocity:.8,duration:.7,slide:!1,enabled:!0},{note:0,velocity:.8,duration:.3,slide:!1,enabled:!1},{note:50,velocity:.7,duration:.7,slide:!0,enabled:!0},{note:0,velocity:.8,duration:.3,slide:!1,enabled:!1},{note:47,velocity:.75,duration:.7,slide:!0,enabled:!0},{note:0,velocity:.8,duration:.3,slide:!1,enabled:!1},{note:52,velocity:.8,duration:.7,slide:!1,enabled:!0},{note:0,velocity:.8,duration:.3,slide:!1,enabled:!1},{note:43,velocity:.75,duration:.7,slide:!0,enabled:!0},{note:0,velocity:.8,duration:.3,slide:!1,enabled:!1},{note:48,velocity:.8,duration:.7,slide:!1,enabled:!0},{note:0,velocity:.8,duration:.3,slide:!1,enabled:!1},{note:50,velocity:.7,duration:.7,slide:!0,enabled:!0},{note:0,velocity:.8,duration:.3,slide:!1,enabled:!1},{note:45,velocity:.75,duration:.7,slide:!0,enabled:!0},{note:0,velocity:.8,duration:.3,slide:!1,enabled:!1}]}},UC=()=>Array.from({length:16},()=>({note:Math.random()<.3?0:Math.floor(Math.random()*21)+20,velocity:.6+Math.random()*.4,duration:.5+Math.random()*.5,slide:Math.random()<.3,enabled:Math.random()<.7})),ey=BC(t=>{const e=Ap.bassDeep;return{params:e.params,activeKeys:new Set,patches:[],currentPatchId:null,isPlaying:!1,displayText:"",controlMode:"sliders",currentPreset:"bassDeep",sequencerSteps:e.sequencerSteps,currentStep:0,tempo:e.tempo,isSequencerRunning:!1,setParams:n=>t(r=>({params:{...r.params,...n}})),setActiveKey:(n,r)=>t(s=>{const i=new Set(s.activeKeys);return r?i.add(n):i.delete(n),{activeKeys:i}}),setPatches:n=>t({patches:n}),setCurrentPatchId:n=>t({currentPatchId:n}),setIsPlaying:n=>t({isPlaying:n}),setDisplayText:n=>t({displayText:n}),setControlMode:n=>t({controlMode:n}),setSequencerStep:(n,r)=>t(s=>{const i=[...s.sequencerSteps];return i[n]=r,{sequencerSteps:i}}),setCurrentStep:n=>t({currentStep:n}),setTempo:n=>t({tempo:Math.max(20,Math.min(300,n))}),setIsSequencerRunning:n=>t({isSequencerRunning:n}),clearSequencer:()=>t({sequencerSteps:Array.from({length:16},()=>({note:0,velocity:.8,duration:.5,slide:!1,enabled:!0})),currentStep:0}),loadPreset:n=>t(()=>{const r=Ap[n];return r?{params:r.params,tempo:r.tempo,sequencerSteps:r.sequencerSteps,currentStep:0,currentPreset:n}:{}}),generateRandomSequence:()=>t(()=>({sequencerSteps:UC()}))}}),$C=({label:t,value:e,min:n,max:r,onChange:s})=>{const i=Ze.useRef(null),o=Ze.useRef(!1),l=Ze.useRef(0),c=f=>{o.current=!0,l.current=f.clientY,f.preventDefault()};Pc.useEffect(()=>{const f=y=>{if(!o.current)return;const v=l.current-y.clientY;l.current=y.clientY;const k=(r-n)/200,g=Math.max(n,Math.min(r,e+v*k));s(Number(g.toFixed(2)))},m=()=>{o.current=!1};if(o.current)return document.addEventListener("mousemove",f),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)}},[e,n,r,s]);const d=(e-n)/(r-n)*270-135;return O.jsxs("div",{className:"rotary-knob-container",children:[O.jsx("label",{className:"rotary-knob-label",children:t}),O.jsx("div",{ref:i,className:"rotary-knob",onMouseDown:c,onTouchStart:f=>{o.current=!0,l.current=f.touches[0].clientY},onTouchMove:f=>{if(!o.current)return;const m=l.current-f.touches[0].clientY;l.current=f.touches[0].clientY;const v=(r-n)/200,S=Math.max(n,Math.min(r,e+m*v));s(Number(S.toFixed(2)))},onTouchEnd:()=>{o.current=!1},style:{cursor:o.current?"grabbing":"grab"},children:O.jsx("div",{className:"rotary-knob-pointer",style:{transform:`rotate(${d}deg)`}})}),O.jsx("div",{className:"rotary-knob-value",children:typeof e=="number"?e.toFixed(1):e})]})},Gt=({label:t,value:e,min:n,max:r,onChange:s})=>{const i=ey(l=>l.controlMode),o=Ze.useRef(null);return Ze.useEffect(()=>{if(i==="sliders"&&o.current){const l=(e-n)/(r-n)*100;o.current.style.background=`linear-gradient(to right, #00d9ff 0%, #00d9ff ${l}%, #333 ${l}%, #333 100%)`}},[e,n,r,i]),i==="knobs"?O.jsx($C,{label:t,value:e,min:n,max:r,onChange:s}):O.jsxs("div",{className:"slider-container",children:[O.jsx("label",{className:"slider-label",children:t}),O.jsx("input",{ref:o,type:"range",min:n,max:r,value:e,onChange:l=>s(Number(l.target.value)),className:"slider"}),O.jsx("div",{className:"slider-value",children:typeof e=="number"?e.toFixed(1):e})]})},QC=({onKeyDown:t,onKeyUp:e,activeKeys:n})=>{const i=o=>{const l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],c=Math.floor(o/12),u=o%12;return`${l[u]}${c}`};return O.jsx("div",{className:"keyboard",children:Array.from({length:13}).map((o,l)=>{const c=36+l,u=n.has(c);return O.jsx("div",{className:`key ${u?"playing":""}`,onMouseDown:()=>t(c),onMouseUp:()=>e(c),onTouchStart:()=>t(c),onTouchEnd:()=>e(c),children:i(c)},l)})})},HC=({patches:t,currentPatchId:e,onLoadPatch:n,onDeletePatch:r,onSavePatch:s})=>O.jsxs("div",{className:"save-load-section",children:[O.jsx("div",{className:"section-title",children:"Patches"}),O.jsx("button",{className:"synth-button",onClick:s,children:"Save Patch"}),t.length>0&&O.jsx("div",{className:"patch-list",children:t.map(i=>O.jsxs("div",{className:`patch-item ${e===i.id?"active":""}`,style:{background:e===i.id?"#ff6b35":"#2a2a2a",color:e===i.id?"#000":"#fff"},children:[O.jsx("span",{children:i.name}),O.jsxs("div",{children:[O.jsx("button",{onClick:()=>n(i.id),style:{marginRight:"5px"},children:"Load"}),O.jsx("button",{onClick:()=>r(i.id),children:"Del"})]})]},i.id))})]}),ty=["C-1","C#-1","D-1","D#-1","E-1","F-1","F#-1","G-1","G#-1","A-1","A#-1","B-1","C0","C#0","D0","D#0","E0","F0","F#0","G0","G#0","A0","A#0","B0","C1","C#1","D1","D#1","E1","F1","F#1","G1","G#1","A1","A#1","B1","C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A2","A#2","B2","C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A3","A#3","B3","C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A4","A#4","B4","C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A5","A#5","B5","C6"],ny={};ty.forEach((t,e)=>{ny[t]=e});const bc={};Object.entries(ny).forEach(([t,e])=>{bc[e]=t});const GC=({steps:t,currentStep:e,tempo:n,isRunning:r,onStepChange:s,onTempoChange:i,onTogglePlay:o,onClear:l,onRandom:c})=>{const u=(y,v)=>{const S={...t[y],note:v};s(y,S)},d=y=>{const v={...t[y],slide:!t[y].slide};s(y,v)},f=y=>{const v={...t[y],enabled:!t[y].enabled};s(y,v)},m=()=>{c()};return O.jsxs("div",{className:"sequencer-section",children:[O.jsx("div",{className:"section-title",children:"16-Step Sequencer"}),O.jsxs("div",{className:"sequencer-controls",children:[O.jsxs("div",{className:"control-group",children:[O.jsx("label",{children:"Tempo:"}),O.jsx("input",{type:"range",min:"20",max:"300",value:n,onChange:y=>i(Number(y.target.value)),className:"tempo-slider"}),O.jsxs("span",{className:"tempo-display",children:[n," BPM"]})]}),O.jsxs("div",{className:"control-group",children:[O.jsx("button",{className:`synth-button ${r?"active":""}`,onClick:o,children:r?"⏸ Stop":"▶ Play"}),O.jsx("button",{className:"synth-button",onClick:l,children:"Clear"}),O.jsx("button",{className:"synth-button",onClick:m,children:"Random"})]})]}),O.jsxs("div",{className:"piano-roll-editor",children:[O.jsx("div",{className:"steps-header",children:t.map((y,v)=>O.jsx("div",{className:`step-column-header ${r&&e===v?"current":""}`,children:v+1},v))}),O.jsx("div",{className:"piano-roll-container",children:t.map((y,v)=>O.jsxs("div",{className:"step-editor-column",children:[O.jsx("div",{className:"step-note-slider-area",children:O.jsx("input",{type:"range",min:"0",max:ty.length-1,value:y.note,onChange:S=>u(v,Number(S.target.value)),className:"note-slider-vertical",title:y.note===0?"Rest":bc[y.note]})}),y.note>0&&O.jsx("div",{className:"note-display",children:bc[y.note]}),O.jsxs("label",{className:"step-slide-checkbox",children:[O.jsx("input",{type:"checkbox",checked:y.slide,onChange:()=>d(v)}),O.jsx("span",{className:"checkmark"})]}),O.jsxs("label",{className:"step-enabled-checkbox",title:"Enable/disable this step",children:[O.jsx("input",{type:"checkbox",checked:y.enabled,onChange:()=>f(v)}),O.jsx("span",{className:"checkmark"})]})]},v))})]})]})};function YC(){const t=Ze.useRef(null),e=Ze.useRef(null),n=Ze.useRef(null),r=Ze.useRef(new Set),[s,i]=Ze.useState(!1),{params:o,activeKeys:l,patches:c,currentPatchId:u,displayText:d,sequencerSteps:f,currentStep:m,tempo:y,isSequencerRunning:v,controlMode:S,currentPreset:k,setParams:g,setActiveKey:w,setPatches:x,setCurrentPatchId:A,setDisplayText:T,setSequencerStep:N,setCurrentStep:b,setTempo:E,setIsSequencerRunning:L,setControlMode:I,clearSequencer:D,loadPreset:j,generateRandomSequence:z}=ey();Ze.useEffect(()=>{(async()=>{try{t.current=new hC,t.current.resume(),j("bassDeep"),z();try{e.current=new gC,await e.current.initialize();const Y=await e.current.loadAllPatches();x(Y)}catch(Y){console.warn("Database initialization failed:",Y)}i(!0)}catch(Y){console.error("Initialization error:",Y),T("Error: Check console")}})()},[x,T,j,z]),Ze.useEffect(()=>{t.current&&t.current.updateParams(o)},[o]);const B=Ze.useRef(f);Ze.useEffect(()=>{B.current=f},[f]),Ze.useEffect(()=>{if(!v){n.current&&(clearInterval(n.current),n.current=null),Z();return}const F=6e4/y/4;let Y=m;return n.current=setInterval(()=>{Y=(Y+1)%16,b(Y);const ae=B.current[Y];if(ae.enabled&&ae.note>0&&t.current){const we=ae.slide?.3:0;t.current.noteOn(ae.note,ae.velocity,we);const ee=setTimeout(()=>{t.current&&t.current.noteOff(ae.note),r.current.delete(ee)},F*ae.duration*.9);r.current.add(ee)}},F),()=>{n.current&&(clearInterval(n.current),n.current=null),r.current.forEach(ae=>{clearTimeout(ae)}),r.current.clear()}},[v,y,m,b]);const ne=F=>{t.current&&!l.has(F)&&(t.current.noteOn(F),w(F,!0))},Q=F=>{t.current&&l.has(F)&&(t.current.noteOff(F),w(F,!1))},Z=()=>{r.current.forEach(F=>{clearTimeout(F)}),r.current.clear(),t.current&&t.current.stopAllNotes(),l.forEach(F=>{t.current&&t.current.noteOff(F),w(F,!1)})},V=()=>{t.current&&v&&Z(),D()},W=F=>{Z(),j(F)},$=()=>{t.current&&v&&Z(),z()},G=async()=>{if(!e.current)return;const F=`Patch ${new Date().toLocaleTimeString()}`,Y={name:F,params:o,sequencerSteps:JSON.stringify(f)};try{const ae=await e.current.savePatch(Y),we=await e.current.loadAllPatches();x(we),A(ae),T(`Saved: ${F}`)}catch(ae){console.error("Failed to save patch:",ae),T("Save failed")}},re=async F=>{if(e.current)try{const Y=await e.current.loadPatch(F);Y&&(g(Y.params),Y.sequencerSteps&&JSON.parse(Y.sequencerSteps).forEach((we,ee)=>{N(ee,we)}),A(F),T(`Loaded: ${Y.name}`))}catch(Y){console.error("Failed to load patch:",Y),T("Load failed")}},De=async F=>{if(e.current)try{await e.current.deletePatch(F);const Y=await e.current.loadAllPatches();x(Y),u===F&&A(null),T("Patch deleted")}catch(Y){console.error("Failed to delete patch:",Y),T("Delete failed")}};return s?O.jsx("div",{className:"synth-container",children:O.jsxs("div",{className:"synth-body",children:[O.jsxs("div",{className:"control-mode-toggle",style:{marginBottom:"30px"},children:[O.jsx("button",{className:`toggle-btn ${S==="sliders"?"active":""}`,onClick:()=>I("sliders"),children:"Sliders"}),O.jsx("button",{className:`toggle-btn ${S==="knobs"?"active":""}`,onClick:()=>I("knobs"),children:"Knobs"})]}),O.jsx("div",{className:"display",children:d}),O.jsxs("div",{className:"synth-section",style:{marginBottom:"20px"},children:[O.jsx("div",{className:"section-title",children:"Preset"}),O.jsxs("select",{value:k,onChange:F=>W(F.target.value),style:{width:"100%",padding:"10px",borderRadius:"4px",backgroundColor:"#1a2332",color:"#00d9ff",border:"2px solid #00d9ff",fontSize:"12px",fontWeight:"bold",cursor:"pointer",textTransform:"uppercase"},children:[O.jsx("option",{value:"acidTechno",children:"Acid Techno"}),O.jsx("option",{value:"padAmbient",children:"Pad/Ambient"}),O.jsx("option",{value:"leadBright",children:"Lead/Bright"}),O.jsx("option",{value:"bassDeep",children:"Bass/Deep"}),O.jsx("option",{value:"pluckStaccato",children:"Pluck/Staccato"}),O.jsx("option",{value:"experimental",children:"Experimental"})]})]}),S==="sliders"&&O.jsxs("div",{children:[O.jsxs("div",{className:"synth-section",children:[O.jsx("div",{className:"section-title",children:"VCO"}),O.jsxs("div",{style:{marginBottom:"15px"},children:[O.jsx("div",{style:{fontSize:"11px",color:"#00d9ff",fontWeight:"bold",textTransform:"uppercase",marginBottom:"8px"},children:"Wave Shape"}),O.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"6px"},children:["sine","triangle","sawtooth","square"].map(F=>O.jsx("button",{className:`synth-button ${o.oscillatorType===F?"active":""}`,onClick:()=>g({oscillatorType:F}),style:{textTransform:"capitalize",fontSize:"11px"},children:F},F))})]}),O.jsxs("div",{style:{marginBottom:"12px"},children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Detune"}),O.jsx("span",{children:o.detuneAmount.toFixed(2)})]}),O.jsx("input",{type:"range",min:"-1",max:"1",step:"0.01",value:o.detuneAmount,onChange:F=>g({detuneAmount:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]}),O.jsxs("div",{style:{marginBottom:"12px"},children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Level"}),O.jsxs("span",{children:[(o.volume*100).toFixed(1),"%"]})]}),O.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:o.volume,onChange:F=>g({volume:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]})]}),O.jsxs("div",{className:"synth-section",children:[O.jsx("div",{className:"section-title",children:"Filter"}),O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Cutoff"}),O.jsxs("span",{children:[o.cutoff.toFixed(0)," Hz"]})]}),O.jsx("input",{type:"range",min:"20",max:"20000",step:"10",value:o.cutoff,onChange:F=>g({cutoff:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Resonance"}),O.jsx("span",{children:o.resonance.toFixed(2)})]}),O.jsx("input",{type:"range",min:"0.1",max:"30",step:"0.1",value:o.resonance,onChange:F=>g({resonance:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]})]}),O.jsxs("div",{style:{marginTop:"12px"},children:[O.jsx("div",{style:{fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:"Filter Type"}),O.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"6px"},children:["lowpass","highpass","bandpass","notch"].map(F=>O.jsx("button",{className:`synth-button ${o.filterType===F?"active":""}`,onClick:()=>g({filterType:F}),style:{textTransform:"capitalize",fontSize:"10px"},children:F},F))})]})]}),O.jsxs("div",{className:"synth-section",children:[O.jsx("div",{className:"section-title",children:"Envelope"}),O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Attack"}),O.jsxs("span",{children:[(o.attack*1e3).toFixed(1),"ms"]})]}),O.jsx("input",{type:"range",min:"0.001",max:"1",step:"0.001",value:o.attack,onChange:F=>g({attack:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Decay"}),O.jsxs("span",{children:[(o.decay*1e3).toFixed(1),"ms"]})]}),O.jsx("input",{type:"range",min:"0.01",max:"1",step:"0.01",value:o.decay,onChange:F=>g({decay:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]})]}),O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginTop:"12px"},children:[O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Sustain"}),O.jsxs("span",{children:[(o.sustain*100).toFixed(1),"%"]})]}),O.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:o.sustain,onChange:F=>g({sustain:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Release"}),O.jsxs("span",{children:[(o.release*1e3).toFixed(1),"ms"]})]}),O.jsx("input",{type:"range",min:"0.01",max:"2",step:"0.01",value:o.release,onChange:F=>g({release:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]})]})]}),O.jsxs("div",{className:"synth-section",children:[O.jsx("div",{className:"section-title",children:"LFO"}),O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Rate"}),O.jsxs("span",{children:[o.lfoRate.toFixed(2)," Hz"]})]}),O.jsx("input",{type:"range",min:"0.1",max:"50",step:"0.1",value:o.lfoRate,onChange:F=>g({lfoRate:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Amount (Modulation)"}),O.jsxs("span",{children:[(o.lfoAmount*100).toFixed(1),"%"]})]}),O.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:o.lfoAmount,onChange:F=>g({lfoAmount:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]})]})]}),O.jsxs("div",{className:"synth-section",children:[O.jsx("div",{className:"section-title",children:"Effects"}),O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Ring Mod"}),O.jsxs("span",{children:[(o.ringModAmount*100).toFixed(1),"%"]})]}),O.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:o.ringModAmount,onChange:F=>g({ringModAmount:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]}),O.jsxs("div",{children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Wetness"}),O.jsxs("span",{children:[(o.wetness*100).toFixed(1),"%"]})]}),O.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:o.wetness,onChange:F=>g({wetness:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]})]}),O.jsxs("div",{style:{marginTop:"12px"},children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#00d9ff",fontWeight:"bold",marginBottom:"4px"},children:[O.jsx("span",{children:"Coarseness"}),O.jsxs("span",{children:[(o.coarseness*100).toFixed(1),"%"]})]}),O.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:o.coarseness,onChange:F=>g({coarseness:Number(F.target.value)}),className:"master-volume-slider",style:{width:"100%"}})]})]})]}),S==="knobs"&&O.jsxs("div",{children:[O.jsxs("div",{className:"synth-section",children:[O.jsx("div",{className:"section-title",children:"VCO"}),O.jsxs("div",{style:{marginBottom:"15px"},children:[O.jsx("div",{style:{fontSize:"11px",color:"#00d9ff",fontWeight:"bold",textTransform:"uppercase",marginBottom:"8px"},children:"Wave Shape"}),O.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"6px"},children:["sine","triangle","sawtooth","square"].map(F=>O.jsx("button",{className:`synth-button ${o.oscillatorType===F?"active":""}`,onClick:()=>g({oscillatorType:F}),style:{textTransform:"capitalize",fontSize:"11px"},children:F},F))})]}),O.jsxs("div",{className:"knobs-grid",children:[O.jsx(Gt,{label:"Detune",value:o.detuneAmount,min:-100,max:100,onChange:F=>g({detuneAmount:F})}),O.jsx(Gt,{label:"Level",value:o.volume*100,min:0,max:100,onChange:F=>g({volume:F/100})})]})]}),O.jsxs("div",{className:"synth-section",children:[O.jsx("div",{className:"section-title",children:"Filter"}),O.jsxs("div",{className:"knobs-grid",children:[O.jsx(Gt,{label:"Cutoff",value:o.cutoff,min:20,max:2e4,onChange:F=>g({cutoff:F})}),O.jsx(Gt,{label:"Resonance",value:o.resonance,min:.1,max:30,onChange:F=>g({resonance:F})}),O.jsx(Gt,{label:"Type",value:o.filterType==="lowpass"?0:o.filterType==="highpass"?1:o.filterType==="bandpass"?2:3,min:0,max:3,onChange:F=>{g({filterType:["lowpass","highpass","bandpass","notch"][Math.round(F)]})}})]})]}),O.jsxs("div",{className:"synth-section",children:[O.jsx("div",{className:"section-title",children:"Envelope"}),O.jsxs("div",{className:"knobs-grid",children:[O.jsx(Gt,{label:"Attack",value:o.attack*1e3,min:1,max:1e3,onChange:F=>g({attack:F/1e3})}),O.jsx(Gt,{label:"Decay",value:o.decay*1e3,min:1,max:1e3,onChange:F=>g({decay:F/1e3})}),O.jsx(Gt,{label:"Sustain",value:o.sustain*100,min:0,max:100,onChange:F=>g({sustain:F/100})}),O.jsx(Gt,{label:"Release",value:o.release*1e3,min:1,max:2e3,onChange:F=>g({release:F/1e3})})]})]}),O.jsxs("div",{className:"synth-section",children:[O.jsx("div",{className:"section-title",children:"LFO"}),O.jsxs("div",{className:"knobs-grid",children:[O.jsx(Gt,{label:"Rate",value:o.lfoRate,min:.1,max:50,onChange:F=>g({lfoRate:F})}),O.jsx(Gt,{label:"Amount",value:o.lfoAmount*100,min:0,max:100,onChange:F=>g({lfoAmount:F/100})})]})]}),O.jsxs("div",{className:"synth-section",children:[O.jsx("div",{className:"section-title",children:"Ring Mod"}),O.jsx("div",{className:"knobs-grid",children:O.jsx(Gt,{label:"Amount",value:o.ringModAmount*100,min:0,max:100,onChange:F=>g({ringModAmount:F/100})})})]})]}),O.jsx(QC,{onKeyDown:ne,onKeyUp:Q,activeKeys:l}),O.jsxs("div",{className:"master-volume-section",children:[O.jsx("label",{className:"master-volume-label",children:"Master Volume"}),O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[O.jsx("input",{type:"range",min:"0",max:"100",value:o.volume*100,onChange:F=>{const Y=Number(F.target.value)/100;g({volume:Y}),t.current&&t.current.setMasterVolume(Y)},className:"master-volume-slider"}),O.jsxs("span",{className:"master-volume-value",children:[Math.round(o.volume*100),"%"]})]})]}),O.jsx(GC,{steps:f,currentStep:m,tempo:y,isRunning:v,onStepChange:N,onTempoChange:E,onTogglePlay:()=>L(!v),onClear:V,onRandom:$}),O.jsx(HC,{patches:c,currentPatchId:u,onLoadPatch:re,onDeletePatch:De,onSavePatch:G})]})}):O.jsx("div",{className:"synth-container",children:O.jsx("div",{className:"synth-body",children:"Initializing..."})})}Eu.createRoot(document.getElementById("root")).render(O.jsx(Pc.StrictMode,{children:O.jsx(YC,{})}));
